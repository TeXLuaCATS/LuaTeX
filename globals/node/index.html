
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../mplib/">
      
      
        <link rel="next" href="../os/">
      
      
      <link rel="icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.16">
    
    
      
        <title>node - LuaTeX</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
      


    
    
      
    
    
      
    
    
      <link rel="stylesheet" href="../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#global-node" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="LuaTeX" class="md-header__button md-logo" aria-label="LuaTeX" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            LuaTeX
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              node
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="LuaTeX" class="md-nav__button md-logo" aria-label="LuaTeX" data-md-component="logo">
      
  <img src="../../assets/logo.svg" alt="logo">

    </a>
    LuaTeX
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Types
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AccentNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias AccentNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AdjustNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias AdjustNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AppendToVlistFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias AppendToVlistFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AppendToVlistFilterLocationcode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias AppendToVlistFilterLocationcode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LuaFileSystem.AttributeMode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias AttributeMode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LuaFileSystem.AttributeName/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias AttributeName
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/BoundaryNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias BoundaryNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/BuildPageInsertCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias BuildPageInsertCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/BuildpageFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias BuildpageFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/BuildpageFilterExtrainfo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias BuildpageFilterExtrainfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/CallEditCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias CallEditCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/CallbackName/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias CallbackName
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Capture/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias Capture
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ContributeFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ContributeFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ContributeFilterExtrainfo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ContributeFilterExtrainfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Datagram/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias Datagram
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DefineFontCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias DefineFontCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DelCode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias DelCode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DirectionParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias DirectionParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DirectionSpecifier/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias DirectionSpecifier
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DirectionSpecifierId/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias DirectionSpecifierId
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DiscNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias DiscNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FenceNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FenceNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindDataFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindDataFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindEncFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindEncFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindFontFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindFontFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindFormatFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindFormatFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindImageFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindImageFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindMapFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindMapFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindOpentypeFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindOpentypeFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindOutputFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindOutputFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindPkFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindPkFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindReadFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindReadFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindTruetypeFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindTruetypeFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindType1FileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindType1FileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindVfFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindVfFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FindWriteFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FindWriteFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FinishPdffileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FinishPdffileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FinishPdfpageCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FinishPdfpageCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FinishSynctexCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FinishSynctexCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontCharacterCommands/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontCharacterCommands
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontDirection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontDirection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontEmbedding/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontEmbedding
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontFormat/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontFormat
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontParameterKey/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontParameterKey
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontParameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontParameters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontType/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontType
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderFontField/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontloaderFontField
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGlyphField/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontloaderGlyphField
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderMarkClasses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontloaderMarkClasses
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderPrivate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias FontloaderPrivate
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlueNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias GlueNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlueOrder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias GlueOrder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlueParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias GlueParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlueSet/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias GlueSet
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlueSign/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias GlueSign
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlyphInfoCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias GlyphInfoCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlyphNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias GlyphNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlyphNotFoundCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias GlyphNotFoundCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HlistNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias HlistNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HpackFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias HpackFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HpackQualityCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias HpackQualityCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HyphenateCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias HyphenateCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/luatex.img.ImgBox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ImgBox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/luatex.img.ImgType/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ImgType
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/InsertLocalParCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias InsertLocalParCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/InternalParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias InternalParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/KernNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias KernNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/KerningCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias KerningCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/KpseFtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias KpseFtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LigaturingCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias LigaturingCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LinebreakFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias LinebreakFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MPTransform/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MPTransform
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MarginKernNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MarginKernNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MathCode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MathCode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MathNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MathNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MathParamName/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MathParamName
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MathStyleName/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MathStyleName
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MlistToHlistCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MlistToHlistCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpColor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpColor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpFileFileMode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpFileFileMode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpFindFileFunc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpFindFileFunc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpFindFileType/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpFindFileType
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpMakeTextFunc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpMakeTextFunc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpPathPen/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpPathPen
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpResultStatus/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpResultStatus
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpRunScriptFunc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpRunScriptFunc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpScriptErrorFunc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MpScriptErrorFunc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MuglueParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias MuglueParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/NoadNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias NoadNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/NodeCallbackReturn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias NodeCallbackReturn
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/NodeTypeId/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias NodeTypeId
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/NodeTypeName/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias NodeTypeName
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/OpenReadFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias OpenReadFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Operatorable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias Operatorable
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PageOrderIndexCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PageOrderIndexCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfActionTypes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PdfActionTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfLiteralModes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PdfLiteralModes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfWindowTypes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PdfWindowTypes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PenaltyNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PenaltyNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PostLinebreakFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PostLinebreakFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PreDumpCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PreDumpCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PreLinebreakFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PreLinebreakFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PreLinebreakFilterGroupCode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PreLinebreakFilterGroupCode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PreOutputFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PreOutputFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PrintableInput/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias PrintableInput
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ProcessInputBufferCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ProcessInputBufferCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ProcessJobnameCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ProcessJobnameCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ProcessOutputBufferCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ProcessOutputBufferCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ProcessPdfImageContentCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ProcessPdfImageContentCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ProcessRuleCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ProcessRuleCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/RadicalNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias RadicalNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadDataFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadDataFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadEncFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadEncFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadFontFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadFontFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadMapFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadMapFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadOnlyDimensionParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadOnlyDimensionParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadOnlyIntegerParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadOnlyIntegerParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadOpentypeFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadOpentypeFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadPkFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadPkFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadTruetypeFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadTruetypeFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadType1FileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadType1FileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadVfFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadVfFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadWriteDimensionParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadWriteDimensionParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReadWriteIntegerParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReadWriteIntegerParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ReceivePatternMode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ReceivePatternMode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/RuleNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias RuleNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ShowErrorHookCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ShowErrorHookCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ShowErrorMessageCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ShowErrorMessageCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ShowLuaErrorHookCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias ShowLuaErrorHookCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SocketError/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias SocketError
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SocketFamily/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias SocketFamily
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SocketReturnError/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias SocketReturnError
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SocketReturnResult/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias SocketReturnResult
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StartFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias StartFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StartFileCallbackCategory/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias StartFileCallbackCategory
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StartPageNumberCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias StartPageNumberCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StartRunCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias StartRunCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StopFileCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias StopFileCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StopPageNumberCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias StopPageNumberCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StopRunCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias StopRunCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SyntexMode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias SyntexMode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TCPOption/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias TCPOption
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TCPShutdownMode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias TCPShutdownMode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TCPTimeoutMode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias TCPTimeoutMode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TexEngine/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias TexEngine
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TokenCommandName/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias TokenCommandName
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TokenlistParameter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias TokenlistParameter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/UDPOption/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias UDPOption
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/VlistNodeSubtype/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias VlistNodeSubtype
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/VpackFilterCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias VpackFilterCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/VpackQualityCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias VpackQualityCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/WhatsitTypeId/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias WhatsitTypeId
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/WhatsitTypeName/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias WhatsitTypeName
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/WrapupRunCallback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias WrapupRunCallback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/WriteTarget/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    alias WriteTarget
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AccentNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class AccentNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AdjustNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class AdjustNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AlignRecordNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class AlignRecordNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AlignStackNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class AlignStackNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AttributeListNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class AttributeListNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/AttributeNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class AttributeNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LuaFileSystem.Attributes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Attributes
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Blob/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Blob
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/BoundaryNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class BoundaryNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ChoiceNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ChoiceNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/CloseWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class CloseWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DelimNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class DelimNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DeltaNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class DeltaNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DirNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class DirNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/DiscNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class DiscNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ExprStackNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ExprStackNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FenceNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FenceNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Font/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Font
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontCharacter/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontCharacter
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontCharacterComponent/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontCharacterComponent
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontCharacterExtensible/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontCharacterExtensible
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontCharacterLigature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontCharacterLigature
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontExtens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontExtens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontInfo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontInfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderAltuni/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderAltuni
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderAnchorClasses/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderAnchorClasses
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderAxismaps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderAxismaps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderCidinfo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderCidinfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderEnc/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderEnc
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderFont/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderFont
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGlyph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGlyph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGlyphKern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGlyphKern
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGpos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGpos
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGposFeatures/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGposFeatures
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGposFeaturesScripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGposFeaturesScripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGposFlags/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGposFlags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGposSub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGposSub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGposSubtables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGposSubtables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGposSubtablesKernclass/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGposSubtablesKernclass
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderGsub/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderGsub
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderHorizVertBase/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderHorizVertBase
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderLang/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderLang
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderLangName/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderLangName
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderLockup/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderLockup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderLockupClass/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderLockupClass
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderLockupGlyph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderLockupGlyph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderLockupReverseCoverage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderLockupReverseCoverage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderLockupRule/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderLockupRule
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderLockupsCoverage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderLockupsCoverage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderMap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderMap
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderMath/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderMath
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderMathkern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderMathkern
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderMathkernSubtable/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderMathkernSubtable
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderMm/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderMm
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderPanose/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderPanose
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderParts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderParts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderPfminfo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderPfminfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderRemap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderRemap
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderScripts/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderScripts
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderTexdata/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderTexdata
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderTrueTypeNames/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderTrueTypeNames
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderTtfTables/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderTtfTables
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderValidationState/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderValidationState
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FontloaderVertHorizVariants/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FontloaderVertHorizVariants
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/FractionNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class FractionNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GFile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class GFile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlueNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class GlueNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlueSpecNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class GlueSpecNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlyphExtens/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class GlyphExtens
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/GlyphNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class GlyphNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbBuffer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbBuffer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbColor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbColor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbDirection/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbDirection
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbFace/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbFace
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbFeature/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbFeature
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbFont/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbFont
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbGlyph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbGlyph
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbGlyphColor/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbGlyphColor
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbLanguage/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbLanguage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbScript/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbScript
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbTag/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbTag
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HbVariation/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HbVariation
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HlistNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HlistNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/HyphenatedNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class HyphenatedNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/IfStackNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class IfStackNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/luatex.img.Image/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Image
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/luatex.img.ImageSpec/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ImageSpec
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/InsNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class InsNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/KernNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class KernNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/KpseLookupOptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class KpseLookupOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Language/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Language
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LateLuaWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class LateLuaWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LinebreakParameters/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class LinebreakParameters
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ListNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ListNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LocalParNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class LocalParNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Locale/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Locale
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LuaFileSystem/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class LuaFileSystem
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/LuaHarfBuzzOptions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class LuaHarfBuzzOptions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MarginKernNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MarginKernNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MarkNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MarkNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MathCharNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MathCharNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MathNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MathNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MathTextCharNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MathTextCharNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Message/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Message
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MovementStackNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MovementStackNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpArguments/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpArguments
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpDash/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpDash
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpFig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpFig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpFill/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpFill
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpGraphicObject/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpGraphicObject
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpInstance/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpInstance
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpKnot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpKnot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpOutline/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpOutline
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpResult/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpResult
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpSpecial/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpSpecial
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpStartBoundsClip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpStartBoundsClip
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpStats/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpStats
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/MpText/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class MpText
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Nest/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Nest
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/NestedListNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class NestedListNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/NoadNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class NoadNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/OpenReadFileEnv/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class OpenReadFileEnv
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/OpenWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class OpenWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PageInsertNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PageInsertNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PassiveNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PassiveNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Pattern/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Pattern
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfActionWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfActionWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfAnnotWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfAnnotWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfColorstackWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfColorstackWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfDestWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfDestWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfEndLinkWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfEndLinkWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfEndThreadWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfEndThreadWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfLinkDataWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfLinkDataWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfLinkStateWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfLinkStateWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfLiteralWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfLiteralWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfRefobjWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfRefobjWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfRestoreWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfRestoreWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfSaveWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfSaveWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfSetmatrixWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfSetmatrixWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfStartLinkWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfStartLinkWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfStartThreadWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfStartThreadWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfThreadDataWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfThreadDataWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfThreadWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfThreadWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfeArray/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfeArray
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfeDictionary/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfeDictionary
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfeDocument/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfeDocument
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfeReference/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfeReference
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PdfeStream/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PdfeStream
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PenInfo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PenInfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PenaltyNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PenaltyNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PseudoFileNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PseudoFileNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/PseudoLineNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class PseudoLineNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/RadicalNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class RadicalNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/RuleNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class RuleNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SavePosWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class SavePosWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Scanner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Scanner
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ShapeNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ShapeNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Socket/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Socket
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SpanNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class SpanNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SpecialWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class SpecialWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SplitInsertNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class SplitInsertNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StatusInfo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class StatusInfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/StyleNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class StyleNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SubBoxNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class SubBoxNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/SubMlistNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class SubMlistNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TCPSocketClient/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class TCPSocketClient
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TCPSocketMaster/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class TCPSocketMaster
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TCPSocketServer/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class TCPSocketServer
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TempNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class TempNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/TfmFont/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class TfmFont
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/os.Times/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Times
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/Token/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Token
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/UDPSocketConnected/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class UDPSocketConnected
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/UDPSocketGeneric/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class UDPSocketGeneric
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/UDPSocketUnconnected/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class UDPSocketUnconnected
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/os.Uname/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class Uname
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/UnhyphenatedNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class UnhyphenatedNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/UnsetNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class UnsetNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/UserDefinedWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class UserDefinedWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/VfFont/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class VfFont
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/VlistNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class VlistNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/WhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class WhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/WriteWhatsitNode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class WriteWhatsitNode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ZFile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ZFile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ZInternalFile/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ZInternalFile
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ZInternalFileInfo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ZInternalFileInfo
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ZStream/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ZStream
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/ot/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class ot
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../types/unicode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    class unicode
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Globals
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Globals
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../callback/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    callback
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    fio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../font/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    font
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../fontloader/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    fontloader
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../gzip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    gzip
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../img/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    img
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../kpse/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    kpse
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lang/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    lang
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lpeg/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    lpeg
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../lua/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    lua
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../luaharfbuzz/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    luaharfbuzz
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mbox/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mbox
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../md5/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    md5
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mime/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mime
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../mplib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    mplib
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    node
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    node
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodeeffective_glue" class="md-nav__link">
    <span class="md-ellipsis">
      node.effective_glue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeuses_font" class="md-nav__link">
    <span class="md-ellipsis">
      node.uses_font
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeis_node" class="md-nav__link">
    <span class="md-ellipsis">
      node.is_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetypes" class="md-nav__link">
    <span class="md-ellipsis">
      node.types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodewhatsits" class="md-nav__link">
    <span class="md-ellipsis">
      node.whatsits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeid" class="md-nav__link">
    <span class="md-ellipsis">
      node.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetype" class="md-nav__link">
    <span class="md-ellipsis">
      node.type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesubtype" class="md-nav__link">
    <span class="md-ellipsis">
      node.subtype
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefields" class="md-nav__link">
    <span class="md-ellipsis">
      node.fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehas_field" class="md-nav__link">
    <span class="md-ellipsis">
      node.has_field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodenew" class="md-nav__link">
    <span class="md-ellipsis">
      node.new
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeflush_node" class="md-nav__link">
    <span class="md-ellipsis">
      node.flush_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeflush_list" class="md-nav__link">
    <span class="md-ellipsis">
      node.flush_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecopy" class="md-nav__link">
    <span class="md-ellipsis">
      node.copy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecopy_list" class="md-nav__link">
    <span class="md-ellipsis">
      node.copy_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprev" class="md-nav__link">
    <span class="md-ellipsis">
      node.prev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodenext" class="md-nav__link">
    <span class="md-ellipsis">
      node.next
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecurrent_attr" class="md-nav__link">
    <span class="md-ellipsis">
      node.current_attr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehpack" class="md-nav__link">
    <span class="md-ellipsis">
      node.hpack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodevpack" class="md-nav__link">
    <span class="md-ellipsis">
      node.vpack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprepend_prevdepth" class="md-nav__link">
    <span class="md-ellipsis">
      node.prepend_prevdepth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedimensions" class="md-nav__link">
    <span class="md-ellipsis">
      node.dimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedimensions_1" class="md-nav__link">
    <span class="md-ellipsis">
      node.dimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedimensions_2" class="md-nav__link">
    <span class="md-ellipsis">
      node.dimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedimensions_3" class="md-nav__link">
    <span class="md-ellipsis">
      node.dimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#noderangedimensions" class="md-nav__link">
    <span class="md-ellipsis">
      node.rangedimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodemlist_to_hlist" class="md-nav__link">
    <span class="md-ellipsis">
      node.mlist_to_hlist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetail" class="md-nav__link">
    <span class="md-ellipsis">
      node.tail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodelength" class="md-nav__link">
    <span class="md-ellipsis">
      node.length
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecount" class="md-nav__link">
    <span class="md-ellipsis">
      node.count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeis_char" class="md-nav__link">
    <span class="md-ellipsis">
      node.is_char
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeis_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.is_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse_id" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse_char" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse_char
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse_list" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehas_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.has_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeend_of_math" class="md-nav__link">
    <span class="md-ellipsis">
      node.end_of_math
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#noderemove" class="md-nav__link">
    <span class="md-ellipsis">
      node.remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeinsert_before" class="md-nav__link">
    <span class="md-ellipsis">
      node.insert_before
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeinsert_after" class="md-nav__link">
    <span class="md-ellipsis">
      node.insert_after
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefirst_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.first_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeligaturing" class="md-nav__link">
    <span class="md-ellipsis">
      node.ligaturing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodekerning" class="md-nav__link">
    <span class="md-ellipsis">
      node.kerning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeunprotect_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.unprotect_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeunprotect_glyphs" class="md-nav__link">
    <span class="md-ellipsis">
      node.unprotect_glyphs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprotect_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.protect_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprotect_glyphs" class="md-nav__link">
    <span class="md-ellipsis">
      node.protect_glyphs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodelast_node" class="md-nav__link">
    <span class="md-ellipsis">
      node.last_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodewrite" class="md-nav__link">
    <span class="md-ellipsis">
      node.write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprotrusion_skippable" class="md-nav__link">
    <span class="md-ellipsis">
      node.protrusion_skippable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesetglue" class="md-nav__link">
    <span class="md-ellipsis">
      node.setglue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetglue" class="md-nav__link">
    <span class="md-ellipsis">
      node.getglue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeis_zero_glue" class="md-nav__link">
    <span class="md-ellipsis">
      node.is_zero_glue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehas_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.has_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeget_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.get_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefind_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.find_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeset_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.set_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeunset_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.unset_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeslide" class="md-nav__link">
    <span class="md-ellipsis">
      node.slide
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecheck_discretionaries" class="md-nav__link">
    <span class="md-ellipsis">
      node.check_discretionaries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecheck_discretionary" class="md-nav__link">
    <span class="md-ellipsis">
      node.check_discretionary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeflatten_discretionaries" class="md-nav__link">
    <span class="md-ellipsis">
      node.flatten_discretionaries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefamily_font" class="md-nav__link">
    <span class="md-ellipsis">
      node.family_font
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetnext" class="md-nav__link">
    <span class="md-ellipsis">
      node.getnext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetprev" class="md-nav__link">
    <span class="md-ellipsis">
      node.getprev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetboth" class="md-nav__link">
    <span class="md-ellipsis">
      node.getboth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetid" class="md-nav__link">
    <span class="md-ellipsis">
      node.getid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetsubtype" class="md-nav__link">
    <span class="md-ellipsis">
      node.getsubtype
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetfont" class="md-nav__link">
    <span class="md-ellipsis">
      node.getfont
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetchar" class="md-nav__link">
    <span class="md-ellipsis">
      node.getchar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetwhd" class="md-nav__link">
    <span class="md-ellipsis">
      node.getwhd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetdisc" class="md-nav__link">
    <span class="md-ellipsis">
      node.getdisc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetlist" class="md-nav__link">
    <span class="md-ellipsis">
      node.getlist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetleader" class="md-nav__link">
    <span class="md-ellipsis">
      node.getleader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesetfield" class="md-nav__link">
    <span class="md-ellipsis">
      node.setfield
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetfield" class="md-nav__link">
    <span class="md-ellipsis">
      node.getfield
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesetproperty" class="md-nav__link">
    <span class="md-ellipsis">
      node.setproperty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetproperty" class="md-nav__link">
    <span class="md-ellipsis">
      node.getproperty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeset_properties_mode" class="md-nav__link">
    <span class="md-ellipsis">
      node.set_properties_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeflush_properties_table" class="md-nav__link">
    <span class="md-ellipsis">
      node.flush_properties_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeget_properties_table" class="md-nav__link">
    <span class="md-ellipsis">
      node.get_properties_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefix_node_lists" class="md-nav__link">
    <span class="md-ellipsis">
      node.fix_node_lists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehyphenating" class="md-nav__link">
    <span class="md-ellipsis">
      node.hyphenating
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodemake_extensible" class="md-nav__link">
    <span class="md-ellipsis">
      node.make_extensible
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesubtypes" class="md-nav__link">
    <span class="md-ellipsis">
      node.subtypes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetostring" class="md-nav__link">
    <span class="md-ellipsis">
      node.tostring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeusedlist" class="md-nav__link">
    <span class="md-ellipsis">
      node.usedlist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodevalues" class="md-nav__link">
    <span class="md-ellipsis">
      node.values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    <span class="md-ellipsis">
      fields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodedirect" class="md-nav__link">
    <span class="md-ellipsis">
      node.direct
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../os/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    os
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pdf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pdf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pdfe/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pdfe
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../pdfscanner/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    pdfscanner
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sha2/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sha2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../sio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    sio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../status/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    status
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../string/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    string
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tex/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    tex
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../texconfig/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    texconfig
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../texio/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    texio
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../token/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    token
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../unicode/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    unicode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../vf/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    vf
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zip/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    zip
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../zlib/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    zlib
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#methods" class="md-nav__link">
    <span class="md-ellipsis">
      methods
    </span>
  </a>
  
    <nav class="md-nav" aria-label="methods">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodeeffective_glue" class="md-nav__link">
    <span class="md-ellipsis">
      node.effective_glue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeuses_font" class="md-nav__link">
    <span class="md-ellipsis">
      node.uses_font
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeis_node" class="md-nav__link">
    <span class="md-ellipsis">
      node.is_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetypes" class="md-nav__link">
    <span class="md-ellipsis">
      node.types
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodewhatsits" class="md-nav__link">
    <span class="md-ellipsis">
      node.whatsits
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeid" class="md-nav__link">
    <span class="md-ellipsis">
      node.id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetype" class="md-nav__link">
    <span class="md-ellipsis">
      node.type
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesubtype" class="md-nav__link">
    <span class="md-ellipsis">
      node.subtype
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefields" class="md-nav__link">
    <span class="md-ellipsis">
      node.fields
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehas_field" class="md-nav__link">
    <span class="md-ellipsis">
      node.has_field
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodenew" class="md-nav__link">
    <span class="md-ellipsis">
      node.new
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeflush_node" class="md-nav__link">
    <span class="md-ellipsis">
      node.flush_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeflush_list" class="md-nav__link">
    <span class="md-ellipsis">
      node.flush_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecopy" class="md-nav__link">
    <span class="md-ellipsis">
      node.copy
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecopy_list" class="md-nav__link">
    <span class="md-ellipsis">
      node.copy_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprev" class="md-nav__link">
    <span class="md-ellipsis">
      node.prev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodenext" class="md-nav__link">
    <span class="md-ellipsis">
      node.next
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecurrent_attr" class="md-nav__link">
    <span class="md-ellipsis">
      node.current_attr
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehpack" class="md-nav__link">
    <span class="md-ellipsis">
      node.hpack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodevpack" class="md-nav__link">
    <span class="md-ellipsis">
      node.vpack
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprepend_prevdepth" class="md-nav__link">
    <span class="md-ellipsis">
      node.prepend_prevdepth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedimensions" class="md-nav__link">
    <span class="md-ellipsis">
      node.dimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedimensions_1" class="md-nav__link">
    <span class="md-ellipsis">
      node.dimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedimensions_2" class="md-nav__link">
    <span class="md-ellipsis">
      node.dimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodedimensions_3" class="md-nav__link">
    <span class="md-ellipsis">
      node.dimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#noderangedimensions" class="md-nav__link">
    <span class="md-ellipsis">
      node.rangedimensions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodemlist_to_hlist" class="md-nav__link">
    <span class="md-ellipsis">
      node.mlist_to_hlist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetail" class="md-nav__link">
    <span class="md-ellipsis">
      node.tail
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodelength" class="md-nav__link">
    <span class="md-ellipsis">
      node.length
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecount" class="md-nav__link">
    <span class="md-ellipsis">
      node.count
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeis_char" class="md-nav__link">
    <span class="md-ellipsis">
      node.is_char
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeis_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.is_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse_id" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse_id
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse_char" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse_char
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetraverse_list" class="md-nav__link">
    <span class="md-ellipsis">
      node.traverse_list
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehas_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.has_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeend_of_math" class="md-nav__link">
    <span class="md-ellipsis">
      node.end_of_math
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#noderemove" class="md-nav__link">
    <span class="md-ellipsis">
      node.remove
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeinsert_before" class="md-nav__link">
    <span class="md-ellipsis">
      node.insert_before
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeinsert_after" class="md-nav__link">
    <span class="md-ellipsis">
      node.insert_after
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefirst_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.first_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeligaturing" class="md-nav__link">
    <span class="md-ellipsis">
      node.ligaturing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodekerning" class="md-nav__link">
    <span class="md-ellipsis">
      node.kerning
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeunprotect_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.unprotect_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeunprotect_glyphs" class="md-nav__link">
    <span class="md-ellipsis">
      node.unprotect_glyphs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprotect_glyph" class="md-nav__link">
    <span class="md-ellipsis">
      node.protect_glyph
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprotect_glyphs" class="md-nav__link">
    <span class="md-ellipsis">
      node.protect_glyphs
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodelast_node" class="md-nav__link">
    <span class="md-ellipsis">
      node.last_node
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodewrite" class="md-nav__link">
    <span class="md-ellipsis">
      node.write
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeprotrusion_skippable" class="md-nav__link">
    <span class="md-ellipsis">
      node.protrusion_skippable
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesetglue" class="md-nav__link">
    <span class="md-ellipsis">
      node.setglue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetglue" class="md-nav__link">
    <span class="md-ellipsis">
      node.getglue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeis_zero_glue" class="md-nav__link">
    <span class="md-ellipsis">
      node.is_zero_glue
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehas_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.has_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeget_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.get_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefind_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.find_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeset_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.set_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeunset_attribute" class="md-nav__link">
    <span class="md-ellipsis">
      node.unset_attribute
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeslide" class="md-nav__link">
    <span class="md-ellipsis">
      node.slide
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecheck_discretionaries" class="md-nav__link">
    <span class="md-ellipsis">
      node.check_discretionaries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodecheck_discretionary" class="md-nav__link">
    <span class="md-ellipsis">
      node.check_discretionary
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeflatten_discretionaries" class="md-nav__link">
    <span class="md-ellipsis">
      node.flatten_discretionaries
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefamily_font" class="md-nav__link">
    <span class="md-ellipsis">
      node.family_font
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetnext" class="md-nav__link">
    <span class="md-ellipsis">
      node.getnext
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetprev" class="md-nav__link">
    <span class="md-ellipsis">
      node.getprev
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetboth" class="md-nav__link">
    <span class="md-ellipsis">
      node.getboth
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetid" class="md-nav__link">
    <span class="md-ellipsis">
      node.getid
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetsubtype" class="md-nav__link">
    <span class="md-ellipsis">
      node.getsubtype
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetfont" class="md-nav__link">
    <span class="md-ellipsis">
      node.getfont
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetchar" class="md-nav__link">
    <span class="md-ellipsis">
      node.getchar
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetwhd" class="md-nav__link">
    <span class="md-ellipsis">
      node.getwhd
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetdisc" class="md-nav__link">
    <span class="md-ellipsis">
      node.getdisc
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetlist" class="md-nav__link">
    <span class="md-ellipsis">
      node.getlist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetleader" class="md-nav__link">
    <span class="md-ellipsis">
      node.getleader
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesetfield" class="md-nav__link">
    <span class="md-ellipsis">
      node.setfield
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetfield" class="md-nav__link">
    <span class="md-ellipsis">
      node.getfield
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesetproperty" class="md-nav__link">
    <span class="md-ellipsis">
      node.setproperty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodegetproperty" class="md-nav__link">
    <span class="md-ellipsis">
      node.getproperty
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeset_properties_mode" class="md-nav__link">
    <span class="md-ellipsis">
      node.set_properties_mode
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeflush_properties_table" class="md-nav__link">
    <span class="md-ellipsis">
      node.flush_properties_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeget_properties_table" class="md-nav__link">
    <span class="md-ellipsis">
      node.get_properties_table
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodefix_node_lists" class="md-nav__link">
    <span class="md-ellipsis">
      node.fix_node_lists
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodehyphenating" class="md-nav__link">
    <span class="md-ellipsis">
      node.hyphenating
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodemake_extensible" class="md-nav__link">
    <span class="md-ellipsis">
      node.make_extensible
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodesubtypes" class="md-nav__link">
    <span class="md-ellipsis">
      node.subtypes
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodetostring" class="md-nav__link">
    <span class="md-ellipsis">
      node.tostring
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodeusedlist" class="md-nav__link">
    <span class="md-ellipsis">
      node.usedlist
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#nodevalues" class="md-nav__link">
    <span class="md-ellipsis">
      node.values
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#fields" class="md-nav__link">
    <span class="md-ellipsis">
      fields
    </span>
  </a>
  
    <nav class="md-nav" aria-label="fields">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#nodedirect" class="md-nav__link">
    <span class="md-ellipsis">
      node.direct
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="global-node">global node</h1>
<p>The node library contains functions that facilitate dealing with (lists of) nodes and their values.
They allow you to create, alter, copy, delete, and insert LuaTEX node objects, the core objects
within the typesetter.</p>
<p>LuaTEX nodes are represented in Lua as userdata with the metadata type <code>luatex.node.</code> The
various parts within a node can be accessed using named fields.</p>
<p>Each node has at least the three fields next, id, and subtype:</p>
<ul>
<li>The next field returns the userdata object for the next node in a linked list of nodes, or nil,
if there is no next node.</li>
<li>The id indicates TEX’s ‘node type’. The field id has a numeric value for efficiency reasons,
but some of the library functions also accept a string value instead of id.</li>
<li>The subtype is another number. It often gives further information about a node of a particular
id, but it is most important when dealing with ‘whatsits’, because they are differentiated
solely based on their subtype.</li>
</ul>
<p>The other available fields depend on the id (and for ‘whatsits’, the subtype) of the node.</p>
<p>Support for unset (alignment) nodes is partial: they can be queried and modified from Lua code,
but not created.</p>
<p>Nodes can be compared to each other, but: you are actually comparing indices into the node
memory. This means that equality tests can only be trusted under very limited conditions. It will
not work correctly in any situation where one of the two nodes has been freed and/or reallocated:
in that case, there will be false positives.</p>
<p>At the moment, memory management of nodes should still be done explicitly by the user. Nodes
are not ‘seen’ by the Lua garbage collector, so you have to call the node freeing functions yourself
when you are no longer in need of a node (list). Nodes form linked lists without reference
counting, so you have to be careful that when control returns back to LuaTEX itself, you have
not deleted nodes that are still referenced from a next pointer elsewhere, and that you did not
create nodes that are referenced more than once. Normally the setters and getters handle this
for you.</p>
<p>There are statistics available with regards to the allocated node memory, which can be handy
for tracing.</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<hr />
<h2 id="methods">methods</h2>
<hr />
<h3 id="nodeeffective_glue">node.effective_glue</h3>
<hr />
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">effective_glue</span><span class="p">(</span>
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a><span class="w">  </span><span class="nv">glue</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a><span class="p">},</span>
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a><span class="w">  </span><span class="nv">parent</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">HlistNode</span><span class="o">|</span><span class="nv">VlistNode</span><span class="p">),</span>
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a><span class="w">  </span><span class="nv">round</span><span class="p">:</span><span class="w"> </span><span class="py">boolean</span><span class="err">?</span>
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="p">(</span><span class="nv">number</span><span class="o">|</span><span class="nv">integer</span><span class="p">)</span><span class="err">?</span>
</span></code></pre></div>
@param <code>round</code> - When you pass true as third argument the value will be rounded.</p>
<p>Return the
effective width of a glue node.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8473-L8503">lnodelib.c#L8473-L8503</a></li>
</ul>
<h3 id="nodeuses_font">node.uses_font</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">uses_font</span><span class="p">(</span>
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a><span class="p">},</span>
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a><span class="w">  </span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span>
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">boolean</span>
</span></code></pre></div>
<p>Return <code>true</code> when a glyph or disc node references that font.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L7639-L7655">lnodelib.c#L7639-L7655</a></li>
</ul>
<h3 id="nodeis_node">node.is_node</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">is_node</span><span class="p">(</span><span class="nv">item</span><span class="p">:</span><span class="w"> </span><span class="py">any</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nf">t</span><span class="w"> </span><span class="p">(</span><span class="kc">false</span><span class="o">|</span><span class="nv">integer</span><span class="p">)</span>
</span></code></pre></div>
<p>Return a number (the internal index of the node) if the argument is a userdata
object of type <code>node</code> and <code>false</code> when no node is passed.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1199-L1211">luatex-nodes.tex#L1199-L1211</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8295-L8303">lnodelib.c#L8295-L8303</a></li>
</ul>
<h3 id="nodetypes">node.types</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">types</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">table</span><span class="o">&lt;</span><span class="nv">integer</span><span class="p">,</span><span class="nv">string</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Return a table that maps node id numbers to node type strings, providing an
overview of the possible top-level <code>id</code> types.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">types</span><span class="p">(),</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">  </span><span class="p">{</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hlist&quot;</span><span class="p">,</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">    </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;vlist&quot;</span><span class="p">,</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">    </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;rule&quot;</span><span class="p">,</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ins&quot;</span><span class="p">,</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">    </span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;mark&quot;</span><span class="p">,</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">    </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;adjust&quot;</span><span class="p">,</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">    </span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;boundary&quot;</span><span class="p">,</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">    </span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;disc&quot;</span><span class="p">,</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;whatsit&quot;</span><span class="p">,</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">    </span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;local_par&quot;</span><span class="p">,</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">    </span><span class="p">[</span><span class="mi">10</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;dir&quot;</span><span class="p">,</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">    </span><span class="p">[</span><span class="mi">11</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;math&quot;</span><span class="p">,</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">    </span><span class="p">[</span><span class="mi">12</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;glue&quot;</span><span class="p">,</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">    </span><span class="p">[</span><span class="mi">13</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;kern&quot;</span><span class="p">,</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">    </span><span class="p">[</span><span class="mi">14</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;penalty&quot;</span><span class="p">,</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">    </span><span class="p">[</span><span class="mi">15</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;unset&quot;</span><span class="p">,</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">    </span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;style&quot;</span><span class="p">,</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">    </span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;choice&quot;</span><span class="p">,</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="w">    </span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;noad&quot;</span><span class="p">,</span>
</span><span id="__span-4-23"><a id="__codelineno-4-23" name="__codelineno-4-23" href="#__codelineno-4-23"></a><span class="w">    </span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;radical&quot;</span><span class="p">,</span>
</span><span id="__span-4-24"><a id="__codelineno-4-24" name="__codelineno-4-24" href="#__codelineno-4-24"></a><span class="w">    </span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fraction&quot;</span><span class="p">,</span>
</span><span id="__span-4-25"><a id="__codelineno-4-25" name="__codelineno-4-25" href="#__codelineno-4-25"></a><span class="w">    </span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;accent&quot;</span><span class="p">,</span>
</span><span id="__span-4-26"><a id="__codelineno-4-26" name="__codelineno-4-26" href="#__codelineno-4-26"></a><span class="w">    </span><span class="p">[</span><span class="mi">22</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fence&quot;</span><span class="p">,</span>
</span><span id="__span-4-27"><a id="__codelineno-4-27" name="__codelineno-4-27" href="#__codelineno-4-27"></a><span class="w">    </span><span class="p">[</span><span class="mi">23</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;math_char&quot;</span><span class="p">,</span>
</span><span id="__span-4-28"><a id="__codelineno-4-28" name="__codelineno-4-28" href="#__codelineno-4-28"></a><span class="w">    </span><span class="p">[</span><span class="mi">24</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;sub_box&quot;</span><span class="p">,</span>
</span><span id="__span-4-29"><a id="__codelineno-4-29" name="__codelineno-4-29" href="#__codelineno-4-29"></a><span class="w">    </span><span class="p">[</span><span class="mi">25</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;sub_mlist&quot;</span><span class="p">,</span>
</span><span id="__span-4-30"><a id="__codelineno-4-30" name="__codelineno-4-30" href="#__codelineno-4-30"></a><span class="w">    </span><span class="p">[</span><span class="mi">26</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;math_text_char&quot;</span><span class="p">,</span>
</span><span id="__span-4-31"><a id="__codelineno-4-31" name="__codelineno-4-31" href="#__codelineno-4-31"></a><span class="w">    </span><span class="p">[</span><span class="mi">27</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;delim&quot;</span><span class="p">,</span>
</span><span id="__span-4-32"><a id="__codelineno-4-32" name="__codelineno-4-32" href="#__codelineno-4-32"></a><span class="w">    </span><span class="p">[</span><span class="mi">28</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;margin_kern&quot;</span><span class="p">,</span>
</span><span id="__span-4-33"><a id="__codelineno-4-33" name="__codelineno-4-33" href="#__codelineno-4-33"></a><span class="w">    </span><span class="p">[</span><span class="mi">29</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;glyph&quot;</span><span class="p">,</span>
</span><span id="__span-4-34"><a id="__codelineno-4-34" name="__codelineno-4-34" href="#__codelineno-4-34"></a><span class="w">    </span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;align_record&quot;</span><span class="p">,</span>
</span><span id="__span-4-35"><a id="__codelineno-4-35" name="__codelineno-4-35" href="#__codelineno-4-35"></a><span class="w">    </span><span class="p">[</span><span class="mi">31</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pseudo_file&quot;</span><span class="p">,</span>
</span><span id="__span-4-36"><a id="__codelineno-4-36" name="__codelineno-4-36" href="#__codelineno-4-36"></a><span class="w">    </span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pseudo_line&quot;</span><span class="p">,</span>
</span><span id="__span-4-37"><a id="__codelineno-4-37" name="__codelineno-4-37" href="#__codelineno-4-37"></a><span class="w">    </span><span class="p">[</span><span class="mi">33</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;page_insert&quot;</span><span class="p">,</span>
</span><span id="__span-4-38"><a id="__codelineno-4-38" name="__codelineno-4-38" href="#__codelineno-4-38"></a><span class="w">    </span><span class="p">[</span><span class="mi">34</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;split_insert&quot;</span><span class="p">,</span>
</span><span id="__span-4-39"><a id="__codelineno-4-39" name="__codelineno-4-39" href="#__codelineno-4-39"></a><span class="w">    </span><span class="p">[</span><span class="mi">35</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;expr_stack&quot;</span><span class="p">,</span>
</span><span id="__span-4-40"><a id="__codelineno-4-40" name="__codelineno-4-40" href="#__codelineno-4-40"></a><span class="w">    </span><span class="p">[</span><span class="mi">36</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;nested_list&quot;</span><span class="p">,</span>
</span><span id="__span-4-41"><a id="__codelineno-4-41" name="__codelineno-4-41" href="#__codelineno-4-41"></a><span class="w">    </span><span class="p">[</span><span class="mi">37</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
</span><span id="__span-4-42"><a id="__codelineno-4-42" name="__codelineno-4-42" href="#__codelineno-4-42"></a><span class="w">    </span><span class="p">[</span><span class="mi">38</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;attribute&quot;</span><span class="p">,</span>
</span><span id="__span-4-43"><a id="__codelineno-4-43" name="__codelineno-4-43" href="#__codelineno-4-43"></a><span class="w">    </span><span class="p">[</span><span class="mi">39</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;glue_spec&quot;</span><span class="p">,</span>
</span><span id="__span-4-44"><a id="__codelineno-4-44" name="__codelineno-4-44" href="#__codelineno-4-44"></a><span class="w">    </span><span class="p">[</span><span class="mi">40</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;attribute_list&quot;</span><span class="p">,</span>
</span><span id="__span-4-45"><a id="__codelineno-4-45" name="__codelineno-4-45" href="#__codelineno-4-45"></a><span class="w">    </span><span class="p">[</span><span class="mi">41</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;temp&quot;</span><span class="p">,</span>
</span><span id="__span-4-46"><a id="__codelineno-4-46" name="__codelineno-4-46" href="#__codelineno-4-46"></a><span class="w">    </span><span class="p">[</span><span class="mi">42</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;align_stack&quot;</span><span class="p">,</span>
</span><span id="__span-4-47"><a id="__codelineno-4-47" name="__codelineno-4-47" href="#__codelineno-4-47"></a><span class="w">    </span><span class="p">[</span><span class="mi">43</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;movement_stack&quot;</span><span class="p">,</span>
</span><span id="__span-4-48"><a id="__codelineno-4-48" name="__codelineno-4-48" href="#__codelineno-4-48"></a><span class="w">    </span><span class="p">[</span><span class="mi">44</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;if_stack&quot;</span><span class="p">,</span>
</span><span id="__span-4-49"><a id="__codelineno-4-49" name="__codelineno-4-49" href="#__codelineno-4-49"></a><span class="w">    </span><span class="p">[</span><span class="mi">45</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;unhyphenated&quot;</span><span class="p">,</span>
</span><span id="__span-4-50"><a id="__codelineno-4-50" name="__codelineno-4-50" href="#__codelineno-4-50"></a><span class="w">    </span><span class="p">[</span><span class="mi">46</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;hyphenated&quot;</span><span class="p">,</span>
</span><span id="__span-4-51"><a id="__codelineno-4-51" name="__codelineno-4-51" href="#__codelineno-4-51"></a><span class="w">    </span><span class="p">[</span><span class="mi">47</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;delta&quot;</span><span class="p">,</span>
</span><span id="__span-4-52"><a id="__codelineno-4-52" name="__codelineno-4-52" href="#__codelineno-4-52"></a><span class="w">    </span><span class="p">[</span><span class="mi">48</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;passive&quot;</span><span class="p">,</span>
</span><span id="__span-4-53"><a id="__codelineno-4-53" name="__codelineno-4-53" href="#__codelineno-4-53"></a><span class="w">    </span><span class="p">[</span><span class="mi">49</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;shape&quot;</span><span class="p">,</span>
</span><span id="__span-4-54"><a id="__codelineno-4-54" name="__codelineno-4-54" href="#__codelineno-4-54"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-4-55"><a id="__codelineno-4-55" name="__codelineno-4-55" href="#__codelineno-4-55"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1218-L1224">luatex-nodes.tex#L1218-L1224</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3066-L3069">lnodelib.c#L3066-L3069</a></li>
</ul>
<h3 id="nodewhatsits">node.whatsits</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">whatsits</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">table</span><span class="o">&lt;</span><span class="nv">integer</span><span class="p">,</span><span class="nv">string</span><span class="o">&gt;</span>
</span></code></pre></div>
<p>Provides a table of subtype mappings.</p>
<p>TeX’s ‘whatsits’ all have the same id. The various subtypes are defined by their subtype fields.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">whatsits</span><span class="p">(),</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a><span class="w">  </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;open&quot;</span><span class="p">,</span>
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a><span class="w">  </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;write&quot;</span><span class="p">,</span>
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a><span class="w">  </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;close&quot;</span><span class="p">,</span>
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a><span class="w">  </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;special&quot;</span><span class="p">,</span>
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a><span class="w">  </span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;late_special&quot;</span><span class="p">,</span>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a><span class="w">  </span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;save_pos&quot;</span><span class="p">,</span>
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a><span class="w">  </span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;late_lua&quot;</span><span class="p">,</span>
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a><span class="w">  </span><span class="p">[</span><span class="mi">9</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;user_defined&quot;</span><span class="p">,</span>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a><span class="w">  </span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_literal&quot;</span><span class="p">,</span>
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a><span class="w">  </span><span class="p">[</span><span class="mi">17</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_late_literal&quot;</span><span class="p">,</span>
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a><span class="w">  </span><span class="p">[</span><span class="mi">18</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_refobj&quot;</span><span class="p">,</span>
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a><span class="w">  </span><span class="p">[</span><span class="mi">19</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_annot&quot;</span><span class="p">,</span>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a><span class="w">  </span><span class="p">[</span><span class="mi">20</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_start_link&quot;</span><span class="p">,</span>
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a><span class="w">  </span><span class="p">[</span><span class="mi">21</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_end_link&quot;</span><span class="p">,</span>
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a><span class="w">  </span><span class="p">[</span><span class="mi">22</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_dest&quot;</span><span class="p">,</span>
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a><span class="w">  </span><span class="p">[</span><span class="mi">23</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_action&quot;</span><span class="p">,</span>
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a><span class="w">  </span><span class="p">[</span><span class="mi">24</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_thread&quot;</span><span class="p">,</span>
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a><span class="w">  </span><span class="p">[</span><span class="mi">25</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_start_thread&quot;</span><span class="p">,</span>
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a><span class="w">  </span><span class="p">[</span><span class="mi">26</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_end_thread&quot;</span><span class="p">,</span>
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a><span class="w">  </span><span class="p">[</span><span class="mi">27</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_thread_data&quot;</span><span class="p">,</span>
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a><span class="w">  </span><span class="p">[</span><span class="mi">28</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_link_data&quot;</span><span class="p">,</span>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a><span class="w">  </span><span class="p">[</span><span class="mi">29</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_colorstack&quot;</span><span class="p">,</span>
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a><span class="w">  </span><span class="p">[</span><span class="mi">30</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_setmatrix&quot;</span><span class="p">,</span>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a><span class="w">  </span><span class="p">[</span><span class="mi">31</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_save&quot;</span><span class="p">,</span>
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a><span class="w">  </span><span class="p">[</span><span class="mi">32</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_restore&quot;</span><span class="p">,</span>
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a><span class="w">  </span><span class="p">[</span><span class="mi">33</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pdf_link_state&quot;</span><span class="p">,</span>
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a><span class="p">})</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1226-L1233">luatex-nodes.tex#L1226-L1233</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3073-L3076">lnodelib.c#L3073-L3076</a></li>
</ul>
<h3 id="nodeid">node.id</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">id</span><span class="p">(</span><span class="nb">type</span><span class="p">:</span><span class="w"> </span><span class="nv">NodeTypeName</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">NodeTypeId</span>
</span></code></pre></div>
<p>Convert a single type name to its internal numeric representation.</p>
<p><strong>Example:</strong></p>
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="w">  </span><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">id</span><span class="p">(</span><span class="nv">name</span><span class="p">),</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-8-3"><a id="__codelineno-8-3" name="__codelineno-8-3" href="#__codelineno-8-3"></a><span class="kr">end</span>
</span><span id="__span-8-4"><a id="__codelineno-8-4" name="__codelineno-8-4" href="#__codelineno-8-4"></a>
</span><span id="__span-8-5"><a id="__codelineno-8-5" name="__codelineno-8-5" href="#__codelineno-8-5"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;hlist&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-8-6"><a id="__codelineno-8-6" name="__codelineno-8-6" href="#__codelineno-8-6"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;vlist&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-8-7"><a id="__codelineno-8-7" name="__codelineno-8-7" href="#__codelineno-8-7"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;rule&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-8-8"><a id="__codelineno-8-8" name="__codelineno-8-8" href="#__codelineno-8-8"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;ins&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
</span><span id="__span-8-9"><a id="__codelineno-8-9" name="__codelineno-8-9" href="#__codelineno-8-9"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;mark&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
</span><span id="__span-8-10"><a id="__codelineno-8-10" name="__codelineno-8-10" href="#__codelineno-8-10"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;adjust&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">5</span><span class="p">)</span>
</span><span id="__span-8-11"><a id="__codelineno-8-11" name="__codelineno-8-11" href="#__codelineno-8-11"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;boundary&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">6</span><span class="p">)</span>
</span><span id="__span-8-12"><a id="__codelineno-8-12" name="__codelineno-8-12" href="#__codelineno-8-12"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;disc&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span>
</span><span id="__span-8-13"><a id="__codelineno-8-13" name="__codelineno-8-13" href="#__codelineno-8-13"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;whatsit&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
</span><span id="__span-8-14"><a id="__codelineno-8-14" name="__codelineno-8-14" href="#__codelineno-8-14"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;local_par&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span>
</span><span id="__span-8-15"><a id="__codelineno-8-15" name="__codelineno-8-15" href="#__codelineno-8-15"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;dir&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
</span><span id="__span-8-16"><a id="__codelineno-8-16" name="__codelineno-8-16" href="#__codelineno-8-16"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;math&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">11</span><span class="p">)</span>
</span><span id="__span-8-17"><a id="__codelineno-8-17" name="__codelineno-8-17" href="#__codelineno-8-17"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;glue&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">12</span><span class="p">)</span>
</span><span id="__span-8-18"><a id="__codelineno-8-18" name="__codelineno-8-18" href="#__codelineno-8-18"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;kern&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">)</span>
</span><span id="__span-8-19"><a id="__codelineno-8-19" name="__codelineno-8-19" href="#__codelineno-8-19"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;penalty&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">14</span><span class="p">)</span>
</span><span id="__span-8-20"><a id="__codelineno-8-20" name="__codelineno-8-20" href="#__codelineno-8-20"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;unset&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">15</span><span class="p">)</span>
</span><span id="__span-8-21"><a id="__codelineno-8-21" name="__codelineno-8-21" href="#__codelineno-8-21"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;style&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-8-22"><a id="__codelineno-8-22" name="__codelineno-8-22" href="#__codelineno-8-22"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;choice&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">)</span>
</span><span id="__span-8-23"><a id="__codelineno-8-23" name="__codelineno-8-23" href="#__codelineno-8-23"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;noad&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span>
</span><span id="__span-8-24"><a id="__codelineno-8-24" name="__codelineno-8-24" href="#__codelineno-8-24"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;radical&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">19</span><span class="p">)</span>
</span><span id="__span-8-25"><a id="__codelineno-8-25" name="__codelineno-8-25" href="#__codelineno-8-25"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;fraction&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
</span><span id="__span-8-26"><a id="__codelineno-8-26" name="__codelineno-8-26" href="#__codelineno-8-26"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;accent&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">)</span>
</span><span id="__span-8-27"><a id="__codelineno-8-27" name="__codelineno-8-27" href="#__codelineno-8-27"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;fence&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">)</span>
</span><span id="__span-8-28"><a id="__codelineno-8-28" name="__codelineno-8-28" href="#__codelineno-8-28"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;math_char&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">)</span>
</span><span id="__span-8-29"><a id="__codelineno-8-29" name="__codelineno-8-29" href="#__codelineno-8-29"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;sub_box&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span>
</span><span id="__span-8-30"><a id="__codelineno-8-30" name="__codelineno-8-30" href="#__codelineno-8-30"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;sub_mlist&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span>
</span><span id="__span-8-31"><a id="__codelineno-8-31" name="__codelineno-8-31" href="#__codelineno-8-31"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;math_text_char&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">26</span><span class="p">)</span>
</span><span id="__span-8-32"><a id="__codelineno-8-32" name="__codelineno-8-32" href="#__codelineno-8-32"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;delim&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="p">)</span>
</span><span id="__span-8-33"><a id="__codelineno-8-33" name="__codelineno-8-33" href="#__codelineno-8-33"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;margin_kern&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">)</span>
</span><span id="__span-8-34"><a id="__codelineno-8-34" name="__codelineno-8-34" href="#__codelineno-8-34"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">29</span><span class="p">)</span>
</span><span id="__span-8-35"><a id="__codelineno-8-35" name="__codelineno-8-35" href="#__codelineno-8-35"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;align_record&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
</span><span id="__span-8-36"><a id="__codelineno-8-36" name="__codelineno-8-36" href="#__codelineno-8-36"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pseudo_file&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">)</span>
</span><span id="__span-8-37"><a id="__codelineno-8-37" name="__codelineno-8-37" href="#__codelineno-8-37"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pseudo_line&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span>
</span><span id="__span-8-38"><a id="__codelineno-8-38" name="__codelineno-8-38" href="#__codelineno-8-38"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;page_insert&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">)</span>
</span><span id="__span-8-39"><a id="__codelineno-8-39" name="__codelineno-8-39" href="#__codelineno-8-39"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;split_insert&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">34</span><span class="p">)</span>
</span><span id="__span-8-40"><a id="__codelineno-8-40" name="__codelineno-8-40" href="#__codelineno-8-40"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;expr_stack&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">35</span><span class="p">)</span>
</span><span id="__span-8-41"><a id="__codelineno-8-41" name="__codelineno-8-41" href="#__codelineno-8-41"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;nested_list&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">36</span><span class="p">)</span>
</span><span id="__span-8-42"><a id="__codelineno-8-42" name="__codelineno-8-42" href="#__codelineno-8-42"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;span&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">37</span><span class="p">)</span>
</span><span id="__span-8-43"><a id="__codelineno-8-43" name="__codelineno-8-43" href="#__codelineno-8-43"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;attribute&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">38</span><span class="p">)</span>
</span><span id="__span-8-44"><a id="__codelineno-8-44" name="__codelineno-8-44" href="#__codelineno-8-44"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;glue_spec&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">39</span><span class="p">)</span>
</span><span id="__span-8-45"><a id="__codelineno-8-45" name="__codelineno-8-45" href="#__codelineno-8-45"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;attribute_list&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">40</span><span class="p">)</span>
</span><span id="__span-8-46"><a id="__codelineno-8-46" name="__codelineno-8-46" href="#__codelineno-8-46"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;temp&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">41</span><span class="p">)</span>
</span><span id="__span-8-47"><a id="__codelineno-8-47" name="__codelineno-8-47" href="#__codelineno-8-47"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;align_stack&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">42</span><span class="p">)</span>
</span><span id="__span-8-48"><a id="__codelineno-8-48" name="__codelineno-8-48" href="#__codelineno-8-48"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;movement_stack&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">43</span><span class="p">)</span>
</span><span id="__span-8-49"><a id="__codelineno-8-49" name="__codelineno-8-49" href="#__codelineno-8-49"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;if_stack&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">44</span><span class="p">)</span>
</span><span id="__span-8-50"><a id="__codelineno-8-50" name="__codelineno-8-50" href="#__codelineno-8-50"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;unhyphenated&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">45</span><span class="p">)</span>
</span><span id="__span-8-51"><a id="__codelineno-8-51" name="__codelineno-8-51" href="#__codelineno-8-51"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;hyphenated&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">46</span><span class="p">)</span>
</span><span id="__span-8-52"><a id="__codelineno-8-52" name="__codelineno-8-52" href="#__codelineno-8-52"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;delta&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">47</span><span class="p">)</span>
</span><span id="__span-8-53"><a id="__codelineno-8-53" name="__codelineno-8-53" href="#__codelineno-8-53"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;passive&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">48</span><span class="p">)</span>
</span><span id="__span-8-54"><a id="__codelineno-8-54" name="__codelineno-8-54" href="#__codelineno-8-54"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;shape&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">49</span><span class="p">)</span>
</span></code></pre></div>
<strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1235-L1244">luatex-nodes.tex#L1235-L1244</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L470-L483">lnodelib.c#L470-L483</a></li>
</ul>
<h3 id="nodetype">node.type</h3>
<hr />
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">NodeTypeId</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="p">(</span><span class="nv">NodeTypeName</span><span class="o">|</span><span class="s2">&quot;node&quot;</span><span class="p">)</span><span class="err">?</span>
</span></code></pre></div>
@param <code>n</code> - The numeric node type id.</p>
<p>Convert an internal numeric node type representation to an external
node type string.</p>
<p>If the argument is a number, then the type function converts an
internal numeric representation to an external string representation.
Otherwise, it will return the string <code>node</code> if the object
represents a node, and <code>nil</code> otherwise.</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="mi">29</span><span class="p">),</span><span class="w"> </span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">id</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)),</span><span class="w"> </span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">is_nil</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="s2">&quot;xxx&quot;</span><span class="p">))</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1993-L2009">lnodelib.c#L1993-L2009</a></li>
</ul>
<h3 id="nodesubtype">node.subtype</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">subtype</span><span class="p">(</span><span class="nv">whatsit_type_name</span><span class="p">:</span><span class="w"> </span><span class="py">WhatsitTypeName</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">whatsit_type_id</span><span class="w"> </span><span class="nv">WhatsitTypeId</span>
</span></code></pre></div>
<p>Convert a single <code>whatsit</code> name to its internal numeric representation (subtype).</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kd">local</span><span class="w"> </span><span class="kr">function</span><span class="w"> </span><span class="nf">equals</span><span class="p">(</span><span class="nv">name</span><span class="p">,</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">  </span><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">subtype</span><span class="p">(</span><span class="nv">name</span><span class="p">),</span><span class="w"> </span><span class="nv">id</span><span class="p">)</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="kr">end</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;open&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;write&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;close&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;special&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">3</span><span class="p">)</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;late_special&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">4</span><span class="p">)</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;save_pos&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">7</span><span class="p">)</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;late_lua&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">8</span><span class="p">)</span>
</span><span id="__span-12-12"><a id="__codelineno-12-12" name="__codelineno-12-12" href="#__codelineno-12-12"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;user_defined&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">9</span><span class="p">)</span>
</span><span id="__span-12-13"><a id="__codelineno-12-13" name="__codelineno-12-13" href="#__codelineno-12-13"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_literal&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">16</span><span class="p">)</span>
</span><span id="__span-12-14"><a id="__codelineno-12-14" name="__codelineno-12-14" href="#__codelineno-12-14"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_late_literal&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">17</span><span class="p">)</span>
</span><span id="__span-12-15"><a id="__codelineno-12-15" name="__codelineno-12-15" href="#__codelineno-12-15"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_refobj&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">18</span><span class="p">)</span>
</span><span id="__span-12-16"><a id="__codelineno-12-16" name="__codelineno-12-16" href="#__codelineno-12-16"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_annot&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">19</span><span class="p">)</span>
</span><span id="__span-12-17"><a id="__codelineno-12-17" name="__codelineno-12-17" href="#__codelineno-12-17"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_start_link&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">20</span><span class="p">)</span>
</span><span id="__span-12-18"><a id="__codelineno-12-18" name="__codelineno-12-18" href="#__codelineno-12-18"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_end_link&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">21</span><span class="p">)</span>
</span><span id="__span-12-19"><a id="__codelineno-12-19" name="__codelineno-12-19" href="#__codelineno-12-19"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_dest&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">22</span><span class="p">)</span>
</span><span id="__span-12-20"><a id="__codelineno-12-20" name="__codelineno-12-20" href="#__codelineno-12-20"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_action&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">23</span><span class="p">)</span>
</span><span id="__span-12-21"><a id="__codelineno-12-21" name="__codelineno-12-21" href="#__codelineno-12-21"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_thread&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">24</span><span class="p">)</span>
</span><span id="__span-12-22"><a id="__codelineno-12-22" name="__codelineno-12-22" href="#__codelineno-12-22"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_start_thread&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">25</span><span class="p">)</span>
</span><span id="__span-12-23"><a id="__codelineno-12-23" name="__codelineno-12-23" href="#__codelineno-12-23"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_end_thread&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">26</span><span class="p">)</span>
</span><span id="__span-12-24"><a id="__codelineno-12-24" name="__codelineno-12-24" href="#__codelineno-12-24"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_thread_data&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">27</span><span class="p">)</span>
</span><span id="__span-12-25"><a id="__codelineno-12-25" name="__codelineno-12-25" href="#__codelineno-12-25"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_link_data&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">28</span><span class="p">)</span>
</span><span id="__span-12-26"><a id="__codelineno-12-26" name="__codelineno-12-26" href="#__codelineno-12-26"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_colorstack&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">29</span><span class="p">)</span>
</span><span id="__span-12-27"><a id="__codelineno-12-27" name="__codelineno-12-27" href="#__codelineno-12-27"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_setmatrix&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">30</span><span class="p">)</span>
</span><span id="__span-12-28"><a id="__codelineno-12-28" name="__codelineno-12-28" href="#__codelineno-12-28"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_save&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">31</span><span class="p">)</span>
</span><span id="__span-12-29"><a id="__codelineno-12-29" name="__codelineno-12-29" href="#__codelineno-12-29"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_restore&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">32</span><span class="p">)</span>
</span><span id="__span-12-30"><a id="__codelineno-12-30" name="__codelineno-12-30" href="#__codelineno-12-30"></a><span class="nf">equals</span><span class="p">(</span><span class="s2">&quot;pdf_link_state&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">33</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1976-L1989">lnodelib.c#L1976-L1989</a></li>
</ul>
<h3 id="nodefields">node.fields</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">fields</span><span class="p">(</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="py">NodeTypeId</span><span class="p">,</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">  </span><span class="nv">subtype</span><span class="p">:</span><span class="w"> </span><span class="py">number</span><span class="err">?</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="nv">number</span><span class="p">]:</span><span class="w"> </span><span class="nv">string</span><span class="w"> </span><span class="p">}</span>
</span></code></pre></div>
<p>Return an array of valid field names for a particular type of
node.</p>
<hr />
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">types</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="kr">for</span><span class="w"> </span><span class="nv">type_id</span><span class="p">,</span><span class="w"> </span><span class="nb">type</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">types</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="w">  </span><span class="kr">if</span><span class="w"> </span><span class="nv">type_id</span><span class="w"> </span><span class="o">~=</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="w">    </span><span class="nv">types</span><span class="p">[</span><span class="nb">type</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-14-5"><a id="__codelineno-14-5" name="__codelineno-14-5" href="#__codelineno-14-5"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">field_id</span><span class="p">,</span><span class="w"> </span><span class="nv">field</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">fields</span><span class="p">(</span><span class="nv">type_id</span><span class="p">))</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-14-6"><a id="__codelineno-14-6" name="__codelineno-14-6" href="#__codelineno-14-6"></a><span class="w">      </span><span class="nv">types</span><span class="p">[</span><span class="nb">type</span><span class="p">][</span><span class="nv">field_id</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">field</span>
</span><span id="__span-14-7"><a id="__codelineno-14-7" name="__codelineno-14-7" href="#__codelineno-14-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-14-8"><a id="__codelineno-14-8" name="__codelineno-14-8" href="#__codelineno-14-8"></a><span class="w">  </span><span class="kr">end</span>
</span><span id="__span-14-9"><a id="__codelineno-14-9" name="__codelineno-14-9" href="#__codelineno-14-9"></a><span class="kr">end</span>
</span><span id="__span-14-10"><a id="__codelineno-14-10" name="__codelineno-14-10" href="#__codelineno-14-10"></a>
</span><span id="__span-14-11"><a id="__codelineno-14-11" name="__codelineno-14-11" href="#__codelineno-14-11"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span><span class="nv">types</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-12"><a id="__codelineno-14-12" name="__codelineno-14-12" href="#__codelineno-14-12"></a><span class="w">  </span><span class="nv">accent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-13"><a id="__codelineno-14-13" name="__codelineno-14-13" href="#__codelineno-14-13"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-14"><a id="__codelineno-14-14" name="__codelineno-14-14" href="#__codelineno-14-14"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-15"><a id="__codelineno-14-15" name="__codelineno-14-15" href="#__codelineno-14-15"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-16"><a id="__codelineno-14-16" name="__codelineno-14-16" href="#__codelineno-14-16"></a><span class="w">    </span><span class="s2">&quot;nucleus&quot;</span><span class="p">,</span>
</span><span id="__span-14-17"><a id="__codelineno-14-17" name="__codelineno-14-17" href="#__codelineno-14-17"></a><span class="w">    </span><span class="s2">&quot;sub&quot;</span><span class="p">,</span>
</span><span id="__span-14-18"><a id="__codelineno-14-18" name="__codelineno-14-18" href="#__codelineno-14-18"></a><span class="w">    </span><span class="s2">&quot;sup&quot;</span><span class="p">,</span>
</span><span id="__span-14-19"><a id="__codelineno-14-19" name="__codelineno-14-19" href="#__codelineno-14-19"></a><span class="w">    </span><span class="s2">&quot;accent&quot;</span><span class="p">,</span>
</span><span id="__span-14-20"><a id="__codelineno-14-20" name="__codelineno-14-20" href="#__codelineno-14-20"></a><span class="w">    </span><span class="s2">&quot;bot_accent&quot;</span><span class="p">,</span>
</span><span id="__span-14-21"><a id="__codelineno-14-21" name="__codelineno-14-21" href="#__codelineno-14-21"></a><span class="w">    </span><span class="s2">&quot;top_accent&quot;</span><span class="p">,</span>
</span><span id="__span-14-22"><a id="__codelineno-14-22" name="__codelineno-14-22" href="#__codelineno-14-22"></a><span class="w">    </span><span class="s2">&quot;overlay_accent&quot;</span><span class="p">,</span>
</span><span id="__span-14-23"><a id="__codelineno-14-23" name="__codelineno-14-23" href="#__codelineno-14-23"></a><span class="w">    </span><span class="s2">&quot;fraction&quot;</span><span class="p">,</span>
</span><span id="__span-14-24"><a id="__codelineno-14-24" name="__codelineno-14-24" href="#__codelineno-14-24"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-25"><a id="__codelineno-14-25" name="__codelineno-14-25" href="#__codelineno-14-25"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-26"><a id="__codelineno-14-26" name="__codelineno-14-26" href="#__codelineno-14-26"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-27"><a id="__codelineno-14-27" name="__codelineno-14-27" href="#__codelineno-14-27"></a><span class="w">  </span><span class="nv">adjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-28"><a id="__codelineno-14-28" name="__codelineno-14-28" href="#__codelineno-14-28"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-29"><a id="__codelineno-14-29" name="__codelineno-14-29" href="#__codelineno-14-29"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-30"><a id="__codelineno-14-30" name="__codelineno-14-30" href="#__codelineno-14-30"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-31"><a id="__codelineno-14-31" name="__codelineno-14-31" href="#__codelineno-14-31"></a><span class="w">    </span><span class="s2">&quot;head&quot;</span><span class="p">,</span>
</span><span id="__span-14-32"><a id="__codelineno-14-32" name="__codelineno-14-32" href="#__codelineno-14-32"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-33"><a id="__codelineno-14-33" name="__codelineno-14-33" href="#__codelineno-14-33"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-34"><a id="__codelineno-14-34" name="__codelineno-14-34" href="#__codelineno-14-34"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-35"><a id="__codelineno-14-35" name="__codelineno-14-35" href="#__codelineno-14-35"></a><span class="w">  </span><span class="nv">align_record</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-36"><a id="__codelineno-14-36" name="__codelineno-14-36" href="#__codelineno-14-36"></a><span class="w">  </span><span class="nv">align_stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-37"><a id="__codelineno-14-37" name="__codelineno-14-37" href="#__codelineno-14-37"></a><span class="w">  </span><span class="nv">attribute</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;value&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-38"><a id="__codelineno-14-38" name="__codelineno-14-38" href="#__codelineno-14-38"></a><span class="w">  </span><span class="nv">attribute_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-39"><a id="__codelineno-14-39" name="__codelineno-14-39" href="#__codelineno-14-39"></a><span class="w">  </span><span class="nv">boundary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-40"><a id="__codelineno-14-40" name="__codelineno-14-40" href="#__codelineno-14-40"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-41"><a id="__codelineno-14-41" name="__codelineno-14-41" href="#__codelineno-14-41"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-42"><a id="__codelineno-14-42" name="__codelineno-14-42" href="#__codelineno-14-42"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-43"><a id="__codelineno-14-43" name="__codelineno-14-43" href="#__codelineno-14-43"></a><span class="w">    </span><span class="s2">&quot;value&quot;</span><span class="p">,</span>
</span><span id="__span-14-44"><a id="__codelineno-14-44" name="__codelineno-14-44" href="#__codelineno-14-44"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-45"><a id="__codelineno-14-45" name="__codelineno-14-45" href="#__codelineno-14-45"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-46"><a id="__codelineno-14-46" name="__codelineno-14-46" href="#__codelineno-14-46"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-47"><a id="__codelineno-14-47" name="__codelineno-14-47" href="#__codelineno-14-47"></a><span class="w">  </span><span class="nv">choice</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-48"><a id="__codelineno-14-48" name="__codelineno-14-48" href="#__codelineno-14-48"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-49"><a id="__codelineno-14-49" name="__codelineno-14-49" href="#__codelineno-14-49"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-50"><a id="__codelineno-14-50" name="__codelineno-14-50" href="#__codelineno-14-50"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-51"><a id="__codelineno-14-51" name="__codelineno-14-51" href="#__codelineno-14-51"></a><span class="w">    </span><span class="s2">&quot;display&quot;</span><span class="p">,</span>
</span><span id="__span-14-52"><a id="__codelineno-14-52" name="__codelineno-14-52" href="#__codelineno-14-52"></a><span class="w">    </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-14-53"><a id="__codelineno-14-53" name="__codelineno-14-53" href="#__codelineno-14-53"></a><span class="w">    </span><span class="s2">&quot;script&quot;</span><span class="p">,</span>
</span><span id="__span-14-54"><a id="__codelineno-14-54" name="__codelineno-14-54" href="#__codelineno-14-54"></a><span class="w">    </span><span class="s2">&quot;scriptscript&quot;</span><span class="p">,</span>
</span><span id="__span-14-55"><a id="__codelineno-14-55" name="__codelineno-14-55" href="#__codelineno-14-55"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-56"><a id="__codelineno-14-56" name="__codelineno-14-56" href="#__codelineno-14-56"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-57"><a id="__codelineno-14-57" name="__codelineno-14-57" href="#__codelineno-14-57"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-58"><a id="__codelineno-14-58" name="__codelineno-14-58" href="#__codelineno-14-58"></a><span class="w">  </span><span class="nv">delim</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-59"><a id="__codelineno-14-59" name="__codelineno-14-59" href="#__codelineno-14-59"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-60"><a id="__codelineno-14-60" name="__codelineno-14-60" href="#__codelineno-14-60"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-61"><a id="__codelineno-14-61" name="__codelineno-14-61" href="#__codelineno-14-61"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-62"><a id="__codelineno-14-62" name="__codelineno-14-62" href="#__codelineno-14-62"></a><span class="w">    </span><span class="s2">&quot;small_fam&quot;</span><span class="p">,</span>
</span><span id="__span-14-63"><a id="__codelineno-14-63" name="__codelineno-14-63" href="#__codelineno-14-63"></a><span class="w">    </span><span class="s2">&quot;small_char&quot;</span><span class="p">,</span>
</span><span id="__span-14-64"><a id="__codelineno-14-64" name="__codelineno-14-64" href="#__codelineno-14-64"></a><span class="w">    </span><span class="s2">&quot;large_fam&quot;</span><span class="p">,</span>
</span><span id="__span-14-65"><a id="__codelineno-14-65" name="__codelineno-14-65" href="#__codelineno-14-65"></a><span class="w">    </span><span class="s2">&quot;large_char&quot;</span><span class="p">,</span>
</span><span id="__span-14-66"><a id="__codelineno-14-66" name="__codelineno-14-66" href="#__codelineno-14-66"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-67"><a id="__codelineno-14-67" name="__codelineno-14-67" href="#__codelineno-14-67"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-68"><a id="__codelineno-14-68" name="__codelineno-14-68" href="#__codelineno-14-68"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-69"><a id="__codelineno-14-69" name="__codelineno-14-69" href="#__codelineno-14-69"></a><span class="w">  </span><span class="nv">delta</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-70"><a id="__codelineno-14-70" name="__codelineno-14-70" href="#__codelineno-14-70"></a><span class="w">  </span><span class="nv">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-71"><a id="__codelineno-14-71" name="__codelineno-14-71" href="#__codelineno-14-71"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-72"><a id="__codelineno-14-72" name="__codelineno-14-72" href="#__codelineno-14-72"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-73"><a id="__codelineno-14-73" name="__codelineno-14-73" href="#__codelineno-14-73"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-74"><a id="__codelineno-14-74" name="__codelineno-14-74" href="#__codelineno-14-74"></a><span class="w">    </span><span class="s2">&quot;dir&quot;</span><span class="p">,</span>
</span><span id="__span-14-75"><a id="__codelineno-14-75" name="__codelineno-14-75" href="#__codelineno-14-75"></a><span class="w">    </span><span class="s2">&quot;level&quot;</span><span class="p">,</span>
</span><span id="__span-14-76"><a id="__codelineno-14-76" name="__codelineno-14-76" href="#__codelineno-14-76"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-77"><a id="__codelineno-14-77" name="__codelineno-14-77" href="#__codelineno-14-77"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-78"><a id="__codelineno-14-78" name="__codelineno-14-78" href="#__codelineno-14-78"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-79"><a id="__codelineno-14-79" name="__codelineno-14-79" href="#__codelineno-14-79"></a><span class="w">  </span><span class="nv">disc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-80"><a id="__codelineno-14-80" name="__codelineno-14-80" href="#__codelineno-14-80"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-81"><a id="__codelineno-14-81" name="__codelineno-14-81" href="#__codelineno-14-81"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-82"><a id="__codelineno-14-82" name="__codelineno-14-82" href="#__codelineno-14-82"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-83"><a id="__codelineno-14-83" name="__codelineno-14-83" href="#__codelineno-14-83"></a><span class="w">    </span><span class="s2">&quot;pre&quot;</span><span class="p">,</span>
</span><span id="__span-14-84"><a id="__codelineno-14-84" name="__codelineno-14-84" href="#__codelineno-14-84"></a><span class="w">    </span><span class="s2">&quot;post&quot;</span><span class="p">,</span>
</span><span id="__span-14-85"><a id="__codelineno-14-85" name="__codelineno-14-85" href="#__codelineno-14-85"></a><span class="w">    </span><span class="s2">&quot;replace&quot;</span><span class="p">,</span>
</span><span id="__span-14-86"><a id="__codelineno-14-86" name="__codelineno-14-86" href="#__codelineno-14-86"></a><span class="w">    </span><span class="s2">&quot;penalty&quot;</span><span class="p">,</span>
</span><span id="__span-14-87"><a id="__codelineno-14-87" name="__codelineno-14-87" href="#__codelineno-14-87"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-88"><a id="__codelineno-14-88" name="__codelineno-14-88" href="#__codelineno-14-88"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-89"><a id="__codelineno-14-89" name="__codelineno-14-89" href="#__codelineno-14-89"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-90"><a id="__codelineno-14-90" name="__codelineno-14-90" href="#__codelineno-14-90"></a><span class="w">  </span><span class="nv">expr_stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-91"><a id="__codelineno-14-91" name="__codelineno-14-91" href="#__codelineno-14-91"></a><span class="w">  </span><span class="nv">fence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-92"><a id="__codelineno-14-92" name="__codelineno-14-92" href="#__codelineno-14-92"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-93"><a id="__codelineno-14-93" name="__codelineno-14-93" href="#__codelineno-14-93"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-94"><a id="__codelineno-14-94" name="__codelineno-14-94" href="#__codelineno-14-94"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-95"><a id="__codelineno-14-95" name="__codelineno-14-95" href="#__codelineno-14-95"></a><span class="w">    </span><span class="s2">&quot;delim&quot;</span><span class="p">,</span>
</span><span id="__span-14-96"><a id="__codelineno-14-96" name="__codelineno-14-96" href="#__codelineno-14-96"></a><span class="w">    </span><span class="s2">&quot;italic&quot;</span><span class="p">,</span>
</span><span id="__span-14-97"><a id="__codelineno-14-97" name="__codelineno-14-97" href="#__codelineno-14-97"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-98"><a id="__codelineno-14-98" name="__codelineno-14-98" href="#__codelineno-14-98"></a><span class="w">    </span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="__span-14-99"><a id="__codelineno-14-99" name="__codelineno-14-99" href="#__codelineno-14-99"></a><span class="w">    </span><span class="s2">&quot;options&quot;</span><span class="p">,</span>
</span><span id="__span-14-100"><a id="__codelineno-14-100" name="__codelineno-14-100" href="#__codelineno-14-100"></a><span class="w">    </span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
</span><span id="__span-14-101"><a id="__codelineno-14-101" name="__codelineno-14-101" href="#__codelineno-14-101"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-102"><a id="__codelineno-14-102" name="__codelineno-14-102" href="#__codelineno-14-102"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-103"><a id="__codelineno-14-103" name="__codelineno-14-103" href="#__codelineno-14-103"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-104"><a id="__codelineno-14-104" name="__codelineno-14-104" href="#__codelineno-14-104"></a><span class="w">  </span><span class="nv">fraction</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-105"><a id="__codelineno-14-105" name="__codelineno-14-105" href="#__codelineno-14-105"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-106"><a id="__codelineno-14-106" name="__codelineno-14-106" href="#__codelineno-14-106"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-107"><a id="__codelineno-14-107" name="__codelineno-14-107" href="#__codelineno-14-107"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-108"><a id="__codelineno-14-108" name="__codelineno-14-108" href="#__codelineno-14-108"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-109"><a id="__codelineno-14-109" name="__codelineno-14-109" href="#__codelineno-14-109"></a><span class="w">    </span><span class="s2">&quot;num&quot;</span><span class="p">,</span>
</span><span id="__span-14-110"><a id="__codelineno-14-110" name="__codelineno-14-110" href="#__codelineno-14-110"></a><span class="w">    </span><span class="s2">&quot;denom&quot;</span><span class="p">,</span>
</span><span id="__span-14-111"><a id="__codelineno-14-111" name="__codelineno-14-111" href="#__codelineno-14-111"></a><span class="w">    </span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
</span><span id="__span-14-112"><a id="__codelineno-14-112" name="__codelineno-14-112" href="#__codelineno-14-112"></a><span class="w">    </span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
</span><span id="__span-14-113"><a id="__codelineno-14-113" name="__codelineno-14-113" href="#__codelineno-14-113"></a><span class="w">    </span><span class="s2">&quot;middle&quot;</span><span class="p">,</span>
</span><span id="__span-14-114"><a id="__codelineno-14-114" name="__codelineno-14-114" href="#__codelineno-14-114"></a><span class="w">    </span><span class="s2">&quot;fam&quot;</span><span class="p">,</span>
</span><span id="__span-14-115"><a id="__codelineno-14-115" name="__codelineno-14-115" href="#__codelineno-14-115"></a><span class="w">    </span><span class="s2">&quot;options&quot;</span><span class="p">,</span>
</span><span id="__span-14-116"><a id="__codelineno-14-116" name="__codelineno-14-116" href="#__codelineno-14-116"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-117"><a id="__codelineno-14-117" name="__codelineno-14-117" href="#__codelineno-14-117"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-118"><a id="__codelineno-14-118" name="__codelineno-14-118" href="#__codelineno-14-118"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-119"><a id="__codelineno-14-119" name="__codelineno-14-119" href="#__codelineno-14-119"></a><span class="w">  </span><span class="nv">glue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-120"><a id="__codelineno-14-120" name="__codelineno-14-120" href="#__codelineno-14-120"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-121"><a id="__codelineno-14-121" name="__codelineno-14-121" href="#__codelineno-14-121"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-122"><a id="__codelineno-14-122" name="__codelineno-14-122" href="#__codelineno-14-122"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-123"><a id="__codelineno-14-123" name="__codelineno-14-123" href="#__codelineno-14-123"></a><span class="w">    </span><span class="s2">&quot;leader&quot;</span><span class="p">,</span>
</span><span id="__span-14-124"><a id="__codelineno-14-124" name="__codelineno-14-124" href="#__codelineno-14-124"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-125"><a id="__codelineno-14-125" name="__codelineno-14-125" href="#__codelineno-14-125"></a><span class="w">    </span><span class="s2">&quot;stretch&quot;</span><span class="p">,</span>
</span><span id="__span-14-126"><a id="__codelineno-14-126" name="__codelineno-14-126" href="#__codelineno-14-126"></a><span class="w">    </span><span class="s2">&quot;shrink&quot;</span><span class="p">,</span>
</span><span id="__span-14-127"><a id="__codelineno-14-127" name="__codelineno-14-127" href="#__codelineno-14-127"></a><span class="w">    </span><span class="s2">&quot;stretch_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-128"><a id="__codelineno-14-128" name="__codelineno-14-128" href="#__codelineno-14-128"></a><span class="w">    </span><span class="s2">&quot;shrink_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-129"><a id="__codelineno-14-129" name="__codelineno-14-129" href="#__codelineno-14-129"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-130"><a id="__codelineno-14-130" name="__codelineno-14-130" href="#__codelineno-14-130"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-131"><a id="__codelineno-14-131" name="__codelineno-14-131" href="#__codelineno-14-131"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-132"><a id="__codelineno-14-132" name="__codelineno-14-132" href="#__codelineno-14-132"></a><span class="w">  </span><span class="nv">glue_spec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-133"><a id="__codelineno-14-133" name="__codelineno-14-133" href="#__codelineno-14-133"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-134"><a id="__codelineno-14-134" name="__codelineno-14-134" href="#__codelineno-14-134"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-135"><a id="__codelineno-14-135" name="__codelineno-14-135" href="#__codelineno-14-135"></a><span class="w">    </span><span class="s2">&quot;stretch&quot;</span><span class="p">,</span>
</span><span id="__span-14-136"><a id="__codelineno-14-136" name="__codelineno-14-136" href="#__codelineno-14-136"></a><span class="w">    </span><span class="s2">&quot;shrink&quot;</span><span class="p">,</span>
</span><span id="__span-14-137"><a id="__codelineno-14-137" name="__codelineno-14-137" href="#__codelineno-14-137"></a><span class="w">    </span><span class="s2">&quot;stretch_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-138"><a id="__codelineno-14-138" name="__codelineno-14-138" href="#__codelineno-14-138"></a><span class="w">    </span><span class="s2">&quot;shrink_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-139"><a id="__codelineno-14-139" name="__codelineno-14-139" href="#__codelineno-14-139"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-140"><a id="__codelineno-14-140" name="__codelineno-14-140" href="#__codelineno-14-140"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-141"><a id="__codelineno-14-141" name="__codelineno-14-141" href="#__codelineno-14-141"></a><span class="w">  </span><span class="nv">glyph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-142"><a id="__codelineno-14-142" name="__codelineno-14-142" href="#__codelineno-14-142"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-143"><a id="__codelineno-14-143" name="__codelineno-14-143" href="#__codelineno-14-143"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-144"><a id="__codelineno-14-144" name="__codelineno-14-144" href="#__codelineno-14-144"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-145"><a id="__codelineno-14-145" name="__codelineno-14-145" href="#__codelineno-14-145"></a><span class="w">    </span><span class="s2">&quot;char&quot;</span><span class="p">,</span>
</span><span id="__span-14-146"><a id="__codelineno-14-146" name="__codelineno-14-146" href="#__codelineno-14-146"></a><span class="w">    </span><span class="s2">&quot;font&quot;</span><span class="p">,</span>
</span><span id="__span-14-147"><a id="__codelineno-14-147" name="__codelineno-14-147" href="#__codelineno-14-147"></a><span class="w">    </span><span class="s2">&quot;lang&quot;</span><span class="p">,</span>
</span><span id="__span-14-148"><a id="__codelineno-14-148" name="__codelineno-14-148" href="#__codelineno-14-148"></a><span class="w">    </span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
</span><span id="__span-14-149"><a id="__codelineno-14-149" name="__codelineno-14-149" href="#__codelineno-14-149"></a><span class="w">    </span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
</span><span id="__span-14-150"><a id="__codelineno-14-150" name="__codelineno-14-150" href="#__codelineno-14-150"></a><span class="w">    </span><span class="s2">&quot;uchyph&quot;</span><span class="p">,</span>
</span><span id="__span-14-151"><a id="__codelineno-14-151" name="__codelineno-14-151" href="#__codelineno-14-151"></a><span class="w">    </span><span class="s2">&quot;components&quot;</span><span class="p">,</span>
</span><span id="__span-14-152"><a id="__codelineno-14-152" name="__codelineno-14-152" href="#__codelineno-14-152"></a><span class="w">    </span><span class="s2">&quot;xoffset&quot;</span><span class="p">,</span>
</span><span id="__span-14-153"><a id="__codelineno-14-153" name="__codelineno-14-153" href="#__codelineno-14-153"></a><span class="w">    </span><span class="s2">&quot;yoffset&quot;</span><span class="p">,</span>
</span><span id="__span-14-154"><a id="__codelineno-14-154" name="__codelineno-14-154" href="#__codelineno-14-154"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-155"><a id="__codelineno-14-155" name="__codelineno-14-155" href="#__codelineno-14-155"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-156"><a id="__codelineno-14-156" name="__codelineno-14-156" href="#__codelineno-14-156"></a><span class="w">    </span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="__span-14-157"><a id="__codelineno-14-157" name="__codelineno-14-157" href="#__codelineno-14-157"></a><span class="w">    </span><span class="s2">&quot;expansion_factor&quot;</span><span class="p">,</span>
</span><span id="__span-14-158"><a id="__codelineno-14-158" name="__codelineno-14-158" href="#__codelineno-14-158"></a><span class="w">    </span><span class="s2">&quot;data&quot;</span><span class="p">,</span>
</span><span id="__span-14-159"><a id="__codelineno-14-159" name="__codelineno-14-159" href="#__codelineno-14-159"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-160"><a id="__codelineno-14-160" name="__codelineno-14-160" href="#__codelineno-14-160"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-161"><a id="__codelineno-14-161" name="__codelineno-14-161" href="#__codelineno-14-161"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-162"><a id="__codelineno-14-162" name="__codelineno-14-162" href="#__codelineno-14-162"></a><span class="w">  </span><span class="nv">hlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-163"><a id="__codelineno-14-163" name="__codelineno-14-163" href="#__codelineno-14-163"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-164"><a id="__codelineno-14-164" name="__codelineno-14-164" href="#__codelineno-14-164"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-165"><a id="__codelineno-14-165" name="__codelineno-14-165" href="#__codelineno-14-165"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-166"><a id="__codelineno-14-166" name="__codelineno-14-166" href="#__codelineno-14-166"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-167"><a id="__codelineno-14-167" name="__codelineno-14-167" href="#__codelineno-14-167"></a><span class="w">    </span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="__span-14-168"><a id="__codelineno-14-168" name="__codelineno-14-168" href="#__codelineno-14-168"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-169"><a id="__codelineno-14-169" name="__codelineno-14-169" href="#__codelineno-14-169"></a><span class="w">    </span><span class="s2">&quot;dir&quot;</span><span class="p">,</span>
</span><span id="__span-14-170"><a id="__codelineno-14-170" name="__codelineno-14-170" href="#__codelineno-14-170"></a><span class="w">    </span><span class="s2">&quot;shift&quot;</span><span class="p">,</span>
</span><span id="__span-14-171"><a id="__codelineno-14-171" name="__codelineno-14-171" href="#__codelineno-14-171"></a><span class="w">    </span><span class="s2">&quot;glue_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-172"><a id="__codelineno-14-172" name="__codelineno-14-172" href="#__codelineno-14-172"></a><span class="w">    </span><span class="s2">&quot;glue_sign&quot;</span><span class="p">,</span>
</span><span id="__span-14-173"><a id="__codelineno-14-173" name="__codelineno-14-173" href="#__codelineno-14-173"></a><span class="w">    </span><span class="s2">&quot;glue_set&quot;</span><span class="p">,</span>
</span><span id="__span-14-174"><a id="__codelineno-14-174" name="__codelineno-14-174" href="#__codelineno-14-174"></a><span class="w">    </span><span class="s2">&quot;head&quot;</span><span class="p">,</span>
</span><span id="__span-14-175"><a id="__codelineno-14-175" name="__codelineno-14-175" href="#__codelineno-14-175"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-176"><a id="__codelineno-14-176" name="__codelineno-14-176" href="#__codelineno-14-176"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-177"><a id="__codelineno-14-177" name="__codelineno-14-177" href="#__codelineno-14-177"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-178"><a id="__codelineno-14-178" name="__codelineno-14-178" href="#__codelineno-14-178"></a><span class="w">  </span><span class="nv">hyphenated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-179"><a id="__codelineno-14-179" name="__codelineno-14-179" href="#__codelineno-14-179"></a><span class="w">  </span><span class="nv">if_stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-180"><a id="__codelineno-14-180" name="__codelineno-14-180" href="#__codelineno-14-180"></a><span class="w">  </span><span class="nv">ins</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-181"><a id="__codelineno-14-181" name="__codelineno-14-181" href="#__codelineno-14-181"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-182"><a id="__codelineno-14-182" name="__codelineno-14-182" href="#__codelineno-14-182"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-183"><a id="__codelineno-14-183" name="__codelineno-14-183" href="#__codelineno-14-183"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-184"><a id="__codelineno-14-184" name="__codelineno-14-184" href="#__codelineno-14-184"></a><span class="w">    </span><span class="s2">&quot;cost&quot;</span><span class="p">,</span>
</span><span id="__span-14-185"><a id="__codelineno-14-185" name="__codelineno-14-185" href="#__codelineno-14-185"></a><span class="w">    </span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="__span-14-186"><a id="__codelineno-14-186" name="__codelineno-14-186" href="#__codelineno-14-186"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-187"><a id="__codelineno-14-187" name="__codelineno-14-187" href="#__codelineno-14-187"></a><span class="w">    </span><span class="s2">&quot;spec&quot;</span><span class="p">,</span>
</span><span id="__span-14-188"><a id="__codelineno-14-188" name="__codelineno-14-188" href="#__codelineno-14-188"></a><span class="w">    </span><span class="s2">&quot;head&quot;</span><span class="p">,</span>
</span><span id="__span-14-189"><a id="__codelineno-14-189" name="__codelineno-14-189" href="#__codelineno-14-189"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-190"><a id="__codelineno-14-190" name="__codelineno-14-190" href="#__codelineno-14-190"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-191"><a id="__codelineno-14-191" name="__codelineno-14-191" href="#__codelineno-14-191"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-192"><a id="__codelineno-14-192" name="__codelineno-14-192" href="#__codelineno-14-192"></a><span class="w">  </span><span class="nv">kern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-193"><a id="__codelineno-14-193" name="__codelineno-14-193" href="#__codelineno-14-193"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-194"><a id="__codelineno-14-194" name="__codelineno-14-194" href="#__codelineno-14-194"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-195"><a id="__codelineno-14-195" name="__codelineno-14-195" href="#__codelineno-14-195"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-196"><a id="__codelineno-14-196" name="__codelineno-14-196" href="#__codelineno-14-196"></a><span class="w">    </span><span class="s2">&quot;kern&quot;</span><span class="p">,</span>
</span><span id="__span-14-197"><a id="__codelineno-14-197" name="__codelineno-14-197" href="#__codelineno-14-197"></a><span class="w">    </span><span class="s2">&quot;expansion_factor&quot;</span><span class="p">,</span>
</span><span id="__span-14-198"><a id="__codelineno-14-198" name="__codelineno-14-198" href="#__codelineno-14-198"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-199"><a id="__codelineno-14-199" name="__codelineno-14-199" href="#__codelineno-14-199"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-200"><a id="__codelineno-14-200" name="__codelineno-14-200" href="#__codelineno-14-200"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-201"><a id="__codelineno-14-201" name="__codelineno-14-201" href="#__codelineno-14-201"></a><span class="w">  </span><span class="nv">local_par</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-202"><a id="__codelineno-14-202" name="__codelineno-14-202" href="#__codelineno-14-202"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-203"><a id="__codelineno-14-203" name="__codelineno-14-203" href="#__codelineno-14-203"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-204"><a id="__codelineno-14-204" name="__codelineno-14-204" href="#__codelineno-14-204"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-205"><a id="__codelineno-14-205" name="__codelineno-14-205" href="#__codelineno-14-205"></a><span class="w">    </span><span class="s2">&quot;pen_inter&quot;</span><span class="p">,</span>
</span><span id="__span-14-206"><a id="__codelineno-14-206" name="__codelineno-14-206" href="#__codelineno-14-206"></a><span class="w">    </span><span class="s2">&quot;pen_broken&quot;</span><span class="p">,</span>
</span><span id="__span-14-207"><a id="__codelineno-14-207" name="__codelineno-14-207" href="#__codelineno-14-207"></a><span class="w">    </span><span class="s2">&quot;dir&quot;</span><span class="p">,</span>
</span><span id="__span-14-208"><a id="__codelineno-14-208" name="__codelineno-14-208" href="#__codelineno-14-208"></a><span class="w">    </span><span class="s2">&quot;box_left&quot;</span><span class="p">,</span>
</span><span id="__span-14-209"><a id="__codelineno-14-209" name="__codelineno-14-209" href="#__codelineno-14-209"></a><span class="w">    </span><span class="s2">&quot;box_left_width&quot;</span><span class="p">,</span>
</span><span id="__span-14-210"><a id="__codelineno-14-210" name="__codelineno-14-210" href="#__codelineno-14-210"></a><span class="w">    </span><span class="s2">&quot;box_right&quot;</span><span class="p">,</span>
</span><span id="__span-14-211"><a id="__codelineno-14-211" name="__codelineno-14-211" href="#__codelineno-14-211"></a><span class="w">    </span><span class="s2">&quot;box_right_width&quot;</span><span class="p">,</span>
</span><span id="__span-14-212"><a id="__codelineno-14-212" name="__codelineno-14-212" href="#__codelineno-14-212"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-213"><a id="__codelineno-14-213" name="__codelineno-14-213" href="#__codelineno-14-213"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-214"><a id="__codelineno-14-214" name="__codelineno-14-214" href="#__codelineno-14-214"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-215"><a id="__codelineno-14-215" name="__codelineno-14-215" href="#__codelineno-14-215"></a><span class="w">  </span><span class="nv">margin_kern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-216"><a id="__codelineno-14-216" name="__codelineno-14-216" href="#__codelineno-14-216"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-217"><a id="__codelineno-14-217" name="__codelineno-14-217" href="#__codelineno-14-217"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-218"><a id="__codelineno-14-218" name="__codelineno-14-218" href="#__codelineno-14-218"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-219"><a id="__codelineno-14-219" name="__codelineno-14-219" href="#__codelineno-14-219"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-220"><a id="__codelineno-14-220" name="__codelineno-14-220" href="#__codelineno-14-220"></a><span class="w">    </span><span class="s2">&quot;glyph&quot;</span><span class="p">,</span>
</span><span id="__span-14-221"><a id="__codelineno-14-221" name="__codelineno-14-221" href="#__codelineno-14-221"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-222"><a id="__codelineno-14-222" name="__codelineno-14-222" href="#__codelineno-14-222"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-223"><a id="__codelineno-14-223" name="__codelineno-14-223" href="#__codelineno-14-223"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-224"><a id="__codelineno-14-224" name="__codelineno-14-224" href="#__codelineno-14-224"></a><span class="w">  </span><span class="nv">mark</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-225"><a id="__codelineno-14-225" name="__codelineno-14-225" href="#__codelineno-14-225"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-226"><a id="__codelineno-14-226" name="__codelineno-14-226" href="#__codelineno-14-226"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-227"><a id="__codelineno-14-227" name="__codelineno-14-227" href="#__codelineno-14-227"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-228"><a id="__codelineno-14-228" name="__codelineno-14-228" href="#__codelineno-14-228"></a><span class="w">    </span><span class="s2">&quot;class&quot;</span><span class="p">,</span>
</span><span id="__span-14-229"><a id="__codelineno-14-229" name="__codelineno-14-229" href="#__codelineno-14-229"></a><span class="w">    </span><span class="s2">&quot;mark&quot;</span><span class="p">,</span>
</span><span id="__span-14-230"><a id="__codelineno-14-230" name="__codelineno-14-230" href="#__codelineno-14-230"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-231"><a id="__codelineno-14-231" name="__codelineno-14-231" href="#__codelineno-14-231"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-232"><a id="__codelineno-14-232" name="__codelineno-14-232" href="#__codelineno-14-232"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-233"><a id="__codelineno-14-233" name="__codelineno-14-233" href="#__codelineno-14-233"></a><span class="w">  </span><span class="nv">math</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-234"><a id="__codelineno-14-234" name="__codelineno-14-234" href="#__codelineno-14-234"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-235"><a id="__codelineno-14-235" name="__codelineno-14-235" href="#__codelineno-14-235"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-236"><a id="__codelineno-14-236" name="__codelineno-14-236" href="#__codelineno-14-236"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-237"><a id="__codelineno-14-237" name="__codelineno-14-237" href="#__codelineno-14-237"></a><span class="w">    </span><span class="s2">&quot;surround&quot;</span><span class="p">,</span>
</span><span id="__span-14-238"><a id="__codelineno-14-238" name="__codelineno-14-238" href="#__codelineno-14-238"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-239"><a id="__codelineno-14-239" name="__codelineno-14-239" href="#__codelineno-14-239"></a><span class="w">    </span><span class="s2">&quot;stretch&quot;</span><span class="p">,</span>
</span><span id="__span-14-240"><a id="__codelineno-14-240" name="__codelineno-14-240" href="#__codelineno-14-240"></a><span class="w">    </span><span class="s2">&quot;shrink&quot;</span><span class="p">,</span>
</span><span id="__span-14-241"><a id="__codelineno-14-241" name="__codelineno-14-241" href="#__codelineno-14-241"></a><span class="w">    </span><span class="s2">&quot;stretch_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-242"><a id="__codelineno-14-242" name="__codelineno-14-242" href="#__codelineno-14-242"></a><span class="w">    </span><span class="s2">&quot;shrink_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-243"><a id="__codelineno-14-243" name="__codelineno-14-243" href="#__codelineno-14-243"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-244"><a id="__codelineno-14-244" name="__codelineno-14-244" href="#__codelineno-14-244"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-245"><a id="__codelineno-14-245" name="__codelineno-14-245" href="#__codelineno-14-245"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-246"><a id="__codelineno-14-246" name="__codelineno-14-246" href="#__codelineno-14-246"></a><span class="w">  </span><span class="nv">math_char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-247"><a id="__codelineno-14-247" name="__codelineno-14-247" href="#__codelineno-14-247"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-248"><a id="__codelineno-14-248" name="__codelineno-14-248" href="#__codelineno-14-248"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-249"><a id="__codelineno-14-249" name="__codelineno-14-249" href="#__codelineno-14-249"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-250"><a id="__codelineno-14-250" name="__codelineno-14-250" href="#__codelineno-14-250"></a><span class="w">    </span><span class="s2">&quot;fam&quot;</span><span class="p">,</span>
</span><span id="__span-14-251"><a id="__codelineno-14-251" name="__codelineno-14-251" href="#__codelineno-14-251"></a><span class="w">    </span><span class="s2">&quot;char&quot;</span><span class="p">,</span>
</span><span id="__span-14-252"><a id="__codelineno-14-252" name="__codelineno-14-252" href="#__codelineno-14-252"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-253"><a id="__codelineno-14-253" name="__codelineno-14-253" href="#__codelineno-14-253"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-254"><a id="__codelineno-14-254" name="__codelineno-14-254" href="#__codelineno-14-254"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-255"><a id="__codelineno-14-255" name="__codelineno-14-255" href="#__codelineno-14-255"></a><span class="w">  </span><span class="nv">math_text_char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-256"><a id="__codelineno-14-256" name="__codelineno-14-256" href="#__codelineno-14-256"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-257"><a id="__codelineno-14-257" name="__codelineno-14-257" href="#__codelineno-14-257"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-258"><a id="__codelineno-14-258" name="__codelineno-14-258" href="#__codelineno-14-258"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-259"><a id="__codelineno-14-259" name="__codelineno-14-259" href="#__codelineno-14-259"></a><span class="w">    </span><span class="s2">&quot;fam&quot;</span><span class="p">,</span>
</span><span id="__span-14-260"><a id="__codelineno-14-260" name="__codelineno-14-260" href="#__codelineno-14-260"></a><span class="w">    </span><span class="s2">&quot;char&quot;</span><span class="p">,</span>
</span><span id="__span-14-261"><a id="__codelineno-14-261" name="__codelineno-14-261" href="#__codelineno-14-261"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-262"><a id="__codelineno-14-262" name="__codelineno-14-262" href="#__codelineno-14-262"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-263"><a id="__codelineno-14-263" name="__codelineno-14-263" href="#__codelineno-14-263"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-264"><a id="__codelineno-14-264" name="__codelineno-14-264" href="#__codelineno-14-264"></a><span class="w">  </span><span class="nv">movement_stack</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-265"><a id="__codelineno-14-265" name="__codelineno-14-265" href="#__codelineno-14-265"></a><span class="w">  </span><span class="nv">nested_list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-266"><a id="__codelineno-14-266" name="__codelineno-14-266" href="#__codelineno-14-266"></a><span class="w">  </span><span class="nv">noad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-267"><a id="__codelineno-14-267" name="__codelineno-14-267" href="#__codelineno-14-267"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-268"><a id="__codelineno-14-268" name="__codelineno-14-268" href="#__codelineno-14-268"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-269"><a id="__codelineno-14-269" name="__codelineno-14-269" href="#__codelineno-14-269"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-270"><a id="__codelineno-14-270" name="__codelineno-14-270" href="#__codelineno-14-270"></a><span class="w">    </span><span class="s2">&quot;nucleus&quot;</span><span class="p">,</span>
</span><span id="__span-14-271"><a id="__codelineno-14-271" name="__codelineno-14-271" href="#__codelineno-14-271"></a><span class="w">    </span><span class="s2">&quot;sub&quot;</span><span class="p">,</span>
</span><span id="__span-14-272"><a id="__codelineno-14-272" name="__codelineno-14-272" href="#__codelineno-14-272"></a><span class="w">    </span><span class="s2">&quot;sup&quot;</span><span class="p">,</span>
</span><span id="__span-14-273"><a id="__codelineno-14-273" name="__codelineno-14-273" href="#__codelineno-14-273"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-274"><a id="__codelineno-14-274" name="__codelineno-14-274" href="#__codelineno-14-274"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-275"><a id="__codelineno-14-275" name="__codelineno-14-275" href="#__codelineno-14-275"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-276"><a id="__codelineno-14-276" name="__codelineno-14-276" href="#__codelineno-14-276"></a><span class="w">  </span><span class="nv">page_insert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-277"><a id="__codelineno-14-277" name="__codelineno-14-277" href="#__codelineno-14-277"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-278"><a id="__codelineno-14-278" name="__codelineno-14-278" href="#__codelineno-14-278"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-279"><a id="__codelineno-14-279" name="__codelineno-14-279" href="#__codelineno-14-279"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-280"><a id="__codelineno-14-280" name="__codelineno-14-280" href="#__codelineno-14-280"></a><span class="w">    </span><span class="s2">&quot;last_ins_ptr&quot;</span><span class="p">,</span>
</span><span id="__span-14-281"><a id="__codelineno-14-281" name="__codelineno-14-281" href="#__codelineno-14-281"></a><span class="w">    </span><span class="s2">&quot;best_ins_ptr&quot;</span><span class="p">,</span>
</span><span id="__span-14-282"><a id="__codelineno-14-282" name="__codelineno-14-282" href="#__codelineno-14-282"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-283"><a id="__codelineno-14-283" name="__codelineno-14-283" href="#__codelineno-14-283"></a><span class="w">    </span><span class="s2">&quot;stretch&quot;</span><span class="p">,</span>
</span><span id="__span-14-284"><a id="__codelineno-14-284" name="__codelineno-14-284" href="#__codelineno-14-284"></a><span class="w">    </span><span class="s2">&quot;shrink&quot;</span><span class="p">,</span>
</span><span id="__span-14-285"><a id="__codelineno-14-285" name="__codelineno-14-285" href="#__codelineno-14-285"></a><span class="w">    </span><span class="s2">&quot;stretch_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-286"><a id="__codelineno-14-286" name="__codelineno-14-286" href="#__codelineno-14-286"></a><span class="w">    </span><span class="s2">&quot;shrink_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-287"><a id="__codelineno-14-287" name="__codelineno-14-287" href="#__codelineno-14-287"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-288"><a id="__codelineno-14-288" name="__codelineno-14-288" href="#__codelineno-14-288"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-289"><a id="__codelineno-14-289" name="__codelineno-14-289" href="#__codelineno-14-289"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-290"><a id="__codelineno-14-290" name="__codelineno-14-290" href="#__codelineno-14-290"></a><span class="w">  </span><span class="nv">passive</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-291"><a id="__codelineno-14-291" name="__codelineno-14-291" href="#__codelineno-14-291"></a><span class="w">  </span><span class="nv">penalty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-292"><a id="__codelineno-14-292" name="__codelineno-14-292" href="#__codelineno-14-292"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-293"><a id="__codelineno-14-293" name="__codelineno-14-293" href="#__codelineno-14-293"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-294"><a id="__codelineno-14-294" name="__codelineno-14-294" href="#__codelineno-14-294"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-295"><a id="__codelineno-14-295" name="__codelineno-14-295" href="#__codelineno-14-295"></a><span class="w">    </span><span class="s2">&quot;penalty&quot;</span><span class="p">,</span>
</span><span id="__span-14-296"><a id="__codelineno-14-296" name="__codelineno-14-296" href="#__codelineno-14-296"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-297"><a id="__codelineno-14-297" name="__codelineno-14-297" href="#__codelineno-14-297"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-298"><a id="__codelineno-14-298" name="__codelineno-14-298" href="#__codelineno-14-298"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-299"><a id="__codelineno-14-299" name="__codelineno-14-299" href="#__codelineno-14-299"></a><span class="w">  </span><span class="nv">pseudo_file</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-300"><a id="__codelineno-14-300" name="__codelineno-14-300" href="#__codelineno-14-300"></a><span class="w">  </span><span class="nv">pseudo_line</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-301"><a id="__codelineno-14-301" name="__codelineno-14-301" href="#__codelineno-14-301"></a><span class="w">  </span><span class="nv">radical</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-302"><a id="__codelineno-14-302" name="__codelineno-14-302" href="#__codelineno-14-302"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-303"><a id="__codelineno-14-303" name="__codelineno-14-303" href="#__codelineno-14-303"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-304"><a id="__codelineno-14-304" name="__codelineno-14-304" href="#__codelineno-14-304"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-305"><a id="__codelineno-14-305" name="__codelineno-14-305" href="#__codelineno-14-305"></a><span class="w">    </span><span class="s2">&quot;nucleus&quot;</span><span class="p">,</span>
</span><span id="__span-14-306"><a id="__codelineno-14-306" name="__codelineno-14-306" href="#__codelineno-14-306"></a><span class="w">    </span><span class="s2">&quot;sub&quot;</span><span class="p">,</span>
</span><span id="__span-14-307"><a id="__codelineno-14-307" name="__codelineno-14-307" href="#__codelineno-14-307"></a><span class="w">    </span><span class="s2">&quot;sup&quot;</span><span class="p">,</span>
</span><span id="__span-14-308"><a id="__codelineno-14-308" name="__codelineno-14-308" href="#__codelineno-14-308"></a><span class="w">    </span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
</span><span id="__span-14-309"><a id="__codelineno-14-309" name="__codelineno-14-309" href="#__codelineno-14-309"></a><span class="w">    </span><span class="s2">&quot;degree&quot;</span><span class="p">,</span>
</span><span id="__span-14-310"><a id="__codelineno-14-310" name="__codelineno-14-310" href="#__codelineno-14-310"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-311"><a id="__codelineno-14-311" name="__codelineno-14-311" href="#__codelineno-14-311"></a><span class="w">    </span><span class="s2">&quot;options&quot;</span><span class="p">,</span>
</span><span id="__span-14-312"><a id="__codelineno-14-312" name="__codelineno-14-312" href="#__codelineno-14-312"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-313"><a id="__codelineno-14-313" name="__codelineno-14-313" href="#__codelineno-14-313"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-314"><a id="__codelineno-14-314" name="__codelineno-14-314" href="#__codelineno-14-314"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-315"><a id="__codelineno-14-315" name="__codelineno-14-315" href="#__codelineno-14-315"></a><span class="w">  </span><span class="nv">rule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-316"><a id="__codelineno-14-316" name="__codelineno-14-316" href="#__codelineno-14-316"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-317"><a id="__codelineno-14-317" name="__codelineno-14-317" href="#__codelineno-14-317"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-318"><a id="__codelineno-14-318" name="__codelineno-14-318" href="#__codelineno-14-318"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-319"><a id="__codelineno-14-319" name="__codelineno-14-319" href="#__codelineno-14-319"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-320"><a id="__codelineno-14-320" name="__codelineno-14-320" href="#__codelineno-14-320"></a><span class="w">    </span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="__span-14-321"><a id="__codelineno-14-321" name="__codelineno-14-321" href="#__codelineno-14-321"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-322"><a id="__codelineno-14-322" name="__codelineno-14-322" href="#__codelineno-14-322"></a><span class="w">    </span><span class="s2">&quot;dir&quot;</span><span class="p">,</span>
</span><span id="__span-14-323"><a id="__codelineno-14-323" name="__codelineno-14-323" href="#__codelineno-14-323"></a><span class="w">    </span><span class="s2">&quot;index&quot;</span><span class="p">,</span>
</span><span id="__span-14-324"><a id="__codelineno-14-324" name="__codelineno-14-324" href="#__codelineno-14-324"></a><span class="w">    </span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
</span><span id="__span-14-325"><a id="__codelineno-14-325" name="__codelineno-14-325" href="#__codelineno-14-325"></a><span class="w">    </span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
</span><span id="__span-14-326"><a id="__codelineno-14-326" name="__codelineno-14-326" href="#__codelineno-14-326"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-327"><a id="__codelineno-14-327" name="__codelineno-14-327" href="#__codelineno-14-327"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-328"><a id="__codelineno-14-328" name="__codelineno-14-328" href="#__codelineno-14-328"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-329"><a id="__codelineno-14-329" name="__codelineno-14-329" href="#__codelineno-14-329"></a><span class="w">  </span><span class="nv">shape</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-330"><a id="__codelineno-14-330" name="__codelineno-14-330" href="#__codelineno-14-330"></a><span class="w">  </span><span class="nv">span</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-331"><a id="__codelineno-14-331" name="__codelineno-14-331" href="#__codelineno-14-331"></a><span class="w">  </span><span class="nv">split_insert</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-332"><a id="__codelineno-14-332" name="__codelineno-14-332" href="#__codelineno-14-332"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-333"><a id="__codelineno-14-333" name="__codelineno-14-333" href="#__codelineno-14-333"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-334"><a id="__codelineno-14-334" name="__codelineno-14-334" href="#__codelineno-14-334"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-335"><a id="__codelineno-14-335" name="__codelineno-14-335" href="#__codelineno-14-335"></a><span class="w">    </span><span class="s2">&quot;last_ins_ptr&quot;</span><span class="p">,</span>
</span><span id="__span-14-336"><a id="__codelineno-14-336" name="__codelineno-14-336" href="#__codelineno-14-336"></a><span class="w">    </span><span class="s2">&quot;best_ins_ptr&quot;</span><span class="p">,</span>
</span><span id="__span-14-337"><a id="__codelineno-14-337" name="__codelineno-14-337" href="#__codelineno-14-337"></a><span class="w">    </span><span class="s2">&quot;broken_ptr&quot;</span><span class="p">,</span>
</span><span id="__span-14-338"><a id="__codelineno-14-338" name="__codelineno-14-338" href="#__codelineno-14-338"></a><span class="w">    </span><span class="s2">&quot;broken_ins&quot;</span><span class="p">,</span>
</span><span id="__span-14-339"><a id="__codelineno-14-339" name="__codelineno-14-339" href="#__codelineno-14-339"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-340"><a id="__codelineno-14-340" name="__codelineno-14-340" href="#__codelineno-14-340"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-341"><a id="__codelineno-14-341" name="__codelineno-14-341" href="#__codelineno-14-341"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-342"><a id="__codelineno-14-342" name="__codelineno-14-342" href="#__codelineno-14-342"></a><span class="w">  </span><span class="nv">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-343"><a id="__codelineno-14-343" name="__codelineno-14-343" href="#__codelineno-14-343"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-344"><a id="__codelineno-14-344" name="__codelineno-14-344" href="#__codelineno-14-344"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-345"><a id="__codelineno-14-345" name="__codelineno-14-345" href="#__codelineno-14-345"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-346"><a id="__codelineno-14-346" name="__codelineno-14-346" href="#__codelineno-14-346"></a><span class="w">    </span><span class="s2">&quot;style&quot;</span><span class="p">,</span>
</span><span id="__span-14-347"><a id="__codelineno-14-347" name="__codelineno-14-347" href="#__codelineno-14-347"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-348"><a id="__codelineno-14-348" name="__codelineno-14-348" href="#__codelineno-14-348"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-349"><a id="__codelineno-14-349" name="__codelineno-14-349" href="#__codelineno-14-349"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-350"><a id="__codelineno-14-350" name="__codelineno-14-350" href="#__codelineno-14-350"></a><span class="w">  </span><span class="nv">sub_box</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-351"><a id="__codelineno-14-351" name="__codelineno-14-351" href="#__codelineno-14-351"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-352"><a id="__codelineno-14-352" name="__codelineno-14-352" href="#__codelineno-14-352"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-353"><a id="__codelineno-14-353" name="__codelineno-14-353" href="#__codelineno-14-353"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-354"><a id="__codelineno-14-354" name="__codelineno-14-354" href="#__codelineno-14-354"></a><span class="w">    </span><span class="s2">&quot;head&quot;</span><span class="p">,</span>
</span><span id="__span-14-355"><a id="__codelineno-14-355" name="__codelineno-14-355" href="#__codelineno-14-355"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-356"><a id="__codelineno-14-356" name="__codelineno-14-356" href="#__codelineno-14-356"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-357"><a id="__codelineno-14-357" name="__codelineno-14-357" href="#__codelineno-14-357"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-358"><a id="__codelineno-14-358" name="__codelineno-14-358" href="#__codelineno-14-358"></a><span class="w">  </span><span class="nv">sub_mlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-359"><a id="__codelineno-14-359" name="__codelineno-14-359" href="#__codelineno-14-359"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-360"><a id="__codelineno-14-360" name="__codelineno-14-360" href="#__codelineno-14-360"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-361"><a id="__codelineno-14-361" name="__codelineno-14-361" href="#__codelineno-14-361"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-362"><a id="__codelineno-14-362" name="__codelineno-14-362" href="#__codelineno-14-362"></a><span class="w">    </span><span class="s2">&quot;head&quot;</span><span class="p">,</span>
</span><span id="__span-14-363"><a id="__codelineno-14-363" name="__codelineno-14-363" href="#__codelineno-14-363"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-364"><a id="__codelineno-14-364" name="__codelineno-14-364" href="#__codelineno-14-364"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-365"><a id="__codelineno-14-365" name="__codelineno-14-365" href="#__codelineno-14-365"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-366"><a id="__codelineno-14-366" name="__codelineno-14-366" href="#__codelineno-14-366"></a><span class="w">  </span><span class="nv">temp</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-367"><a id="__codelineno-14-367" name="__codelineno-14-367" href="#__codelineno-14-367"></a><span class="w">  </span><span class="nv">unhyphenated</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;id&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-14-368"><a id="__codelineno-14-368" name="__codelineno-14-368" href="#__codelineno-14-368"></a><span class="w">  </span><span class="nv">unset</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-369"><a id="__codelineno-14-369" name="__codelineno-14-369" href="#__codelineno-14-369"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-370"><a id="__codelineno-14-370" name="__codelineno-14-370" href="#__codelineno-14-370"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-371"><a id="__codelineno-14-371" name="__codelineno-14-371" href="#__codelineno-14-371"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-372"><a id="__codelineno-14-372" name="__codelineno-14-372" href="#__codelineno-14-372"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-373"><a id="__codelineno-14-373" name="__codelineno-14-373" href="#__codelineno-14-373"></a><span class="w">    </span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="__span-14-374"><a id="__codelineno-14-374" name="__codelineno-14-374" href="#__codelineno-14-374"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-375"><a id="__codelineno-14-375" name="__codelineno-14-375" href="#__codelineno-14-375"></a><span class="w">    </span><span class="s2">&quot;dir&quot;</span><span class="p">,</span>
</span><span id="__span-14-376"><a id="__codelineno-14-376" name="__codelineno-14-376" href="#__codelineno-14-376"></a><span class="w">    </span><span class="s2">&quot;shrink&quot;</span><span class="p">,</span>
</span><span id="__span-14-377"><a id="__codelineno-14-377" name="__codelineno-14-377" href="#__codelineno-14-377"></a><span class="w">    </span><span class="s2">&quot;glue_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-378"><a id="__codelineno-14-378" name="__codelineno-14-378" href="#__codelineno-14-378"></a><span class="w">    </span><span class="s2">&quot;glue_sign&quot;</span><span class="p">,</span>
</span><span id="__span-14-379"><a id="__codelineno-14-379" name="__codelineno-14-379" href="#__codelineno-14-379"></a><span class="w">    </span><span class="s2">&quot;stretch&quot;</span><span class="p">,</span>
</span><span id="__span-14-380"><a id="__codelineno-14-380" name="__codelineno-14-380" href="#__codelineno-14-380"></a><span class="w">    </span><span class="s2">&quot;span&quot;</span><span class="p">,</span>
</span><span id="__span-14-381"><a id="__codelineno-14-381" name="__codelineno-14-381" href="#__codelineno-14-381"></a><span class="w">    </span><span class="s2">&quot;head&quot;</span><span class="p">,</span>
</span><span id="__span-14-382"><a id="__codelineno-14-382" name="__codelineno-14-382" href="#__codelineno-14-382"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-383"><a id="__codelineno-14-383" name="__codelineno-14-383" href="#__codelineno-14-383"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-384"><a id="__codelineno-14-384" name="__codelineno-14-384" href="#__codelineno-14-384"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-385"><a id="__codelineno-14-385" name="__codelineno-14-385" href="#__codelineno-14-385"></a><span class="w">  </span><span class="nv">vlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-14-386"><a id="__codelineno-14-386" name="__codelineno-14-386" href="#__codelineno-14-386"></a><span class="w">    </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-14-387"><a id="__codelineno-14-387" name="__codelineno-14-387" href="#__codelineno-14-387"></a><span class="w">    </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-14-388"><a id="__codelineno-14-388" name="__codelineno-14-388" href="#__codelineno-14-388"></a><span class="w">    </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-14-389"><a id="__codelineno-14-389" name="__codelineno-14-389" href="#__codelineno-14-389"></a><span class="w">    </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-14-390"><a id="__codelineno-14-390" name="__codelineno-14-390" href="#__codelineno-14-390"></a><span class="w">    </span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="__span-14-391"><a id="__codelineno-14-391" name="__codelineno-14-391" href="#__codelineno-14-391"></a><span class="w">    </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-14-392"><a id="__codelineno-14-392" name="__codelineno-14-392" href="#__codelineno-14-392"></a><span class="w">    </span><span class="s2">&quot;dir&quot;</span><span class="p">,</span>
</span><span id="__span-14-393"><a id="__codelineno-14-393" name="__codelineno-14-393" href="#__codelineno-14-393"></a><span class="w">    </span><span class="s2">&quot;shift&quot;</span><span class="p">,</span>
</span><span id="__span-14-394"><a id="__codelineno-14-394" name="__codelineno-14-394" href="#__codelineno-14-394"></a><span class="w">    </span><span class="s2">&quot;glue_order&quot;</span><span class="p">,</span>
</span><span id="__span-14-395"><a id="__codelineno-14-395" name="__codelineno-14-395" href="#__codelineno-14-395"></a><span class="w">    </span><span class="s2">&quot;glue_sign&quot;</span><span class="p">,</span>
</span><span id="__span-14-396"><a id="__codelineno-14-396" name="__codelineno-14-396" href="#__codelineno-14-396"></a><span class="w">    </span><span class="s2">&quot;glue_set&quot;</span><span class="p">,</span>
</span><span id="__span-14-397"><a id="__codelineno-14-397" name="__codelineno-14-397" href="#__codelineno-14-397"></a><span class="w">    </span><span class="s2">&quot;head&quot;</span><span class="p">,</span>
</span><span id="__span-14-398"><a id="__codelineno-14-398" name="__codelineno-14-398" href="#__codelineno-14-398"></a><span class="w">    </span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-14-399"><a id="__codelineno-14-399" name="__codelineno-14-399" href="#__codelineno-14-399"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-14-400"><a id="__codelineno-14-400" name="__codelineno-14-400" href="#__codelineno-14-400"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-14-401"><a id="__codelineno-14-401" name="__codelineno-14-401" href="#__codelineno-14-401"></a><span class="p">})</span>
</span></code></pre></div>
<p>If you want to get the valid fields for a “whatsit”, you have to
supply the second argument also. In other cases, any given second argument will
be silently ignored.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3080-L3115">lnodelib.c#L3080-L3115</a></li>
</ul>
<h3 id="nodehas_field">node.has_field</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">has_field</span><span class="p">(</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="p">},</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">  </span><span class="nv">field</span><span class="p">:</span><span class="w"> </span><span class="py">string</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="nv">boolean</span>
</span></code></pre></div>
<p>Return a boolean that is only <code>true</code> if <code>n</code> is actually a node, and it has the field.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">glyph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">field</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">ipairs</span><span class="p">({</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">  </span><span class="s2">&quot;prev&quot;</span><span class="p">,</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">  </span><span class="s2">&quot;next&quot;</span><span class="p">,</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">  </span><span class="s2">&quot;id&quot;</span><span class="p">,</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">  </span><span class="s2">&quot;subtype&quot;</span><span class="p">,</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">  </span><span class="s2">&quot;attr&quot;</span><span class="p">,</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">  </span><span class="s2">&quot;char&quot;</span><span class="p">,</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">  </span><span class="s2">&quot;font&quot;</span><span class="p">,</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">  </span><span class="s2">&quot;lang&quot;</span><span class="p">,</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="w">  </span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="w">  </span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">  </span><span class="s2">&quot;uchyph&quot;</span><span class="p">,</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="w">  </span><span class="s2">&quot;components&quot;</span><span class="p">,</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="w">  </span><span class="s2">&quot;xoffset&quot;</span><span class="p">,</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="w">  </span><span class="s2">&quot;yoffset&quot;</span><span class="p">,</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="w">  </span><span class="s2">&quot;width&quot;</span><span class="p">,</span>
</span><span id="__span-16-19"><a id="__codelineno-16-19" name="__codelineno-16-19" href="#__codelineno-16-19"></a><span class="w">  </span><span class="s2">&quot;height&quot;</span><span class="p">,</span>
</span><span id="__span-16-20"><a id="__codelineno-16-20" name="__codelineno-16-20" href="#__codelineno-16-20"></a><span class="w">  </span><span class="s2">&quot;depth&quot;</span><span class="p">,</span>
</span><span id="__span-16-21"><a id="__codelineno-16-21" name="__codelineno-16-21" href="#__codelineno-16-21"></a><span class="w">  </span><span class="s2">&quot;expansion_factor&quot;</span><span class="p">,</span>
</span><span id="__span-16-22"><a id="__codelineno-16-22" name="__codelineno-16-22" href="#__codelineno-16-22"></a><span class="w">  </span><span class="s2">&quot;data&quot;</span><span class="p">,</span>
</span><span id="__span-16-23"><a id="__codelineno-16-23" name="__codelineno-16-23" href="#__codelineno-16-23"></a><span class="p">})</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-16-24"><a id="__codelineno-16-24" name="__codelineno-16-24" href="#__codelineno-16-24"></a><span class="w">  </span><span class="nb">assert</span><span class="p">.</span><span class="nf">is_true</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">has_field</span><span class="p">(</span><span class="nv">glyph</span><span class="p">,</span><span class="w"> </span><span class="nv">field</span><span class="p">))</span>
</span><span id="__span-16-25"><a id="__codelineno-16-25" name="__codelineno-16-25" href="#__codelineno-16-25"></a><span class="kr">end</span>
</span><span id="__span-16-26"><a id="__codelineno-16-26" name="__codelineno-16-26" href="#__codelineno-16-26"></a>
</span><span id="__span-16-27"><a id="__codelineno-16-27" name="__codelineno-16-27" href="#__codelineno-16-27"></a><span class="w">  </span><span class="nb">assert</span><span class="p">.</span><span class="nf">is_false</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">has_field</span><span class="p">(</span><span class="nv">glyph</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;xxx&quot;</span><span class="p">))</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2993-L3000">lnodelib.c#L2993-L3000</a></li>
</ul>
<p>@see node.direct.has_field</p>
<h3 id="nodenew">node.new</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">integer</span><span class="o">|</span><span class="nv">NodeTypeName</span><span class="p">),</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">  </span><span class="nv">subtype</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">integer</span><span class="o">|</span><span class="nv">string</span><span class="p">)</span><span class="err">?</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="p">}</span>
</span></code></pre></div>
<p>Create a new node.</p>
<p>All its fields are initialized to
either zero or <code>nil</code> except for <code>id</code> and <code>subtype</code>. Instead of
numbers you can also use strings (names). If you create a new <code>whatsit</code> node
the second argument is required. As with all node functions, this function
creates a node at the <em>TeX</em> level.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kr">for</span><span class="w"> </span><span class="nv">type_id</span><span class="p">,</span><span class="w"> </span><span class="nv">node_type</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">types</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">  </span><span class="kr">if</span><span class="w"> </span><span class="nv">node_type</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;whatsit&quot;</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">    </span><span class="kr">for</span><span class="w"> </span><span class="nv">subtype_id</span><span class="p">,</span><span class="w"> </span><span class="nv">subtype</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">whatsits</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">      </span><span class="kd">local</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="nv">node_type</span><span class="p">,</span><span class="w"> </span><span class="nv">subtype</span><span class="p">)</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">      </span><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">n</span><span class="p">.</span><span class="py">id</span><span class="p">,</span><span class="w"> </span><span class="nv">type_id</span><span class="p">)</span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">      </span><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">n</span><span class="p">.</span><span class="py">subtype</span><span class="p">,</span><span class="w"> </span><span class="nv">subtype_id</span><span class="p">)</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">    </span><span class="kr">end</span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">  </span><span class="kr">else</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">    </span><span class="kd">local</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="nv">node_type</span><span class="p">)</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">    </span><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">n</span><span class="p">.</span><span class="py">id</span><span class="p">,</span><span class="w"> </span><span class="nv">type_id</span><span class="p">)</span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">  </span><span class="kr">end</span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="kr">end</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1299-L1314">luatex-nodes.tex#L1299-L1314</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2055-L2060">lnodelib.c#L2055-L2060</a></li>
</ul>
<p>@see node.direct.new</p>
<h3 id="nodeflush_node">node.flush_node</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">flush_node</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="p">})</span>
</span></code></pre></div>
<p>Free the <em>TeX</em> memory allocated for the specified node.
and return nothing.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2113-L2122">lnodelib.c#L2113-L2122</a></li>
</ul>
<h3 id="nodeflush_list">node.flush_list</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">flush_list</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="p">})</span>
</span></code></pre></div>
<p>Free the <em>TeX</em> memory allocated for a list of nodes.</p>
<p>Be
careful: no checks are done on whether any of these nodes is still pointed to
from a register or some <code>next</code> field: it is up to you to make sure that the
internal data structures remain correct.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2137-L2146">lnodelib.c#L2137-L2146</a></li>
</ul>
<h3 id="nodecopy">node.copy</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">copy</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-21-9"><a id="__codelineno-21-9" name="__codelineno-21-9" href="#__codelineno-21-9"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-21-10"><a id="__codelineno-21-10" name="__codelineno-21-10" href="#__codelineno-21-10"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-21-11"><a id="__codelineno-21-11" name="__codelineno-21-11" href="#__codelineno-21-11"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-21-12"><a id="__codelineno-21-12" name="__codelineno-21-12" href="#__codelineno-21-12"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-21-13"><a id="__codelineno-21-13" name="__codelineno-21-13" href="#__codelineno-21-13"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-21-14"><a id="__codelineno-21-14" name="__codelineno-21-14" href="#__codelineno-21-14"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-21-15"><a id="__codelineno-21-15" name="__codelineno-21-15" href="#__codelineno-21-15"></a><span class="p">}</span>
</span></code></pre></div>
<p>Create a deep copy of node <code>n</code>, including all nested lists as in the case
of a <code>hlist</code> or <code>vlist</code> node. Only the <code>next</code> field is not copied.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2476-L2485">lnodelib.c#L2476-L2485</a></li>
</ul>
<h3 id="nodecopy_list">node.copy_list</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">copy_list</span><span class="p">(</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-22-7"><a id="__codelineno-22-7" name="__codelineno-22-7" href="#__codelineno-22-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-22-8"><a id="__codelineno-22-8" name="__codelineno-22-8" href="#__codelineno-22-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-22-9"><a id="__codelineno-22-9" name="__codelineno-22-9" href="#__codelineno-22-9"></a><span class="p">},</span>
</span><span id="__span-22-10"><a id="__codelineno-22-10" name="__codelineno-22-10" href="#__codelineno-22-10"></a><span class="w">  </span><span class="nv">m</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-22-11"><a id="__codelineno-22-11" name="__codelineno-22-11" href="#__codelineno-22-11"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-22-12"><a id="__codelineno-22-12" name="__codelineno-22-12" href="#__codelineno-22-12"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-22-13"><a id="__codelineno-22-13" name="__codelineno-22-13" href="#__codelineno-22-13"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-22-14"><a id="__codelineno-22-14" name="__codelineno-22-14" href="#__codelineno-22-14"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-22-15"><a id="__codelineno-22-15" name="__codelineno-22-15" href="#__codelineno-22-15"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-22-16"><a id="__codelineno-22-16" name="__codelineno-22-16" href="#__codelineno-22-16"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-22-17"><a id="__codelineno-22-17" name="__codelineno-22-17" href="#__codelineno-22-17"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-22-18"><a id="__codelineno-22-18" name="__codelineno-22-18" href="#__codelineno-22-18"></a><span class="p">}</span>
</span></code></pre></div>
<p>Create a deep copy of the node list that starts at node <code>n</code>.</p>
<p>If
<code>m</code> is also given, the copy stops just before node <code>m</code>.</p>
<p>Note that you cannot copy attribute lists this way. However, there is normally no
need to copy attribute lists as when you do assignments to the <code>attr</code> field
or make changes to specific attributes, the needed copying and freeing takes
place automatically.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2440-L2452">lnodelib.c#L2440-L2452</a></li>
</ul>
<h3 id="nodeprev">node.prev</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">prev</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the node preceding the given node, or <code>nil</code> if
there is no such node.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L379-L388">lnodelib.c#L379-L388</a></li>
</ul>
<h3 id="nodenext">node.next</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">next</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the node following the given node, or <code>nil</code> if
there is no such node.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L390-L399">lnodelib.c#L390-L399</a></li>
</ul>
<h3 id="nodecurrent_attr">node.current_attr</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-25-1"><a id="__codelineno-25-1" name="__codelineno-25-1" href="#__codelineno-25-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">current_attr</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the currently active list of attributes, if there is one.</p>
<p>The intended usage of <code>current_attr</code> is as follows:</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-26-1"><a id="__codelineno-26-1" name="__codelineno-26-1" href="#__codelineno-26-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-26-2"><a id="__codelineno-26-2" name="__codelineno-26-2" href="#__codelineno-26-2"></a><span class="nv">x1</span><span class="p">.</span><span class="py">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">current_attr</span><span class="p">()</span>
</span><span id="__span-26-3"><a id="__codelineno-26-3" name="__codelineno-26-3" href="#__codelineno-26-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-26-4"><a id="__codelineno-26-4" name="__codelineno-26-4" href="#__codelineno-26-4"></a><span class="nv">x2</span><span class="p">.</span><span class="py">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">current_attr</span><span class="p">()</span>
</span></code></pre></div>
<p>or:</p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-27-1"><a id="__codelineno-27-1" name="__codelineno-27-1" href="#__codelineno-27-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">x1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-27-2"><a id="__codelineno-27-2" name="__codelineno-27-2" href="#__codelineno-27-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">x2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-27-3"><a id="__codelineno-27-3" name="__codelineno-27-3" href="#__codelineno-27-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">ca</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">current_attr</span><span class="p">()</span>
</span><span id="__span-27-4"><a id="__codelineno-27-4" name="__codelineno-27-4" href="#__codelineno-27-4"></a><span class="nv">x1</span><span class="p">.</span><span class="py">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ca</span>
</span><span id="__span-27-5"><a id="__codelineno-27-5" name="__codelineno-27-5" href="#__codelineno-27-5"></a><span class="nv">x2</span><span class="p">.</span><span class="py">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">ca</span>
</span></code></pre></div>
<p>The attribute lists are ref counted and the assignment takes care of incrementing
the refcount. You cannot expect the value <code>ca</code> to be valid any more when
you assign attributes (using <code>tex.setattribute</code>) or when control has been
passed back to <em>TeX</em>.</p>
<p>Note: this function is somewhat experimental, and it returns the <em>actual</em>
attribute list, not a copy thereof. Therefore, changing any of the attributes in
the list will change these values for all nodes that have the current attribute
list assigned to them.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6511-L6532">lnodelib.c#L6511-L6532</a></li>
</ul>
<h3 id="nodehpack">node.hpack</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-28-1"><a id="__codelineno-28-1" name="__codelineno-28-1" href="#__codelineno-28-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">hpack</span><span class="p">(</span>
</span><span id="__span-28-2"><a id="__codelineno-28-2" name="__codelineno-28-2" href="#__codelineno-28-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-3"><a id="__codelineno-28-3" name="__codelineno-28-3" href="#__codelineno-28-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-28-4"><a id="__codelineno-28-4" name="__codelineno-28-4" href="#__codelineno-28-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-28-5"><a id="__codelineno-28-5" name="__codelineno-28-5" href="#__codelineno-28-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-28-6"><a id="__codelineno-28-6" name="__codelineno-28-6" href="#__codelineno-28-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-28-7"><a id="__codelineno-28-7" name="__codelineno-28-7" href="#__codelineno-28-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-28-8"><a id="__codelineno-28-8" name="__codelineno-28-8" href="#__codelineno-28-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-28-9"><a id="__codelineno-28-9" name="__codelineno-28-9" href="#__codelineno-28-9"></a><span class="p">},</span>
</span><span id="__span-28-10"><a id="__codelineno-28-10" name="__codelineno-28-10" href="#__codelineno-28-10"></a><span class="w">  </span><span class="nv">width</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-28-11"><a id="__codelineno-28-11" name="__codelineno-28-11" href="#__codelineno-28-11"></a><span class="w">  </span><span class="nv">info</span><span class="p">:</span><span class="w"> </span><span class="py">string</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-28-12"><a id="__codelineno-28-12" name="__codelineno-28-12" href="#__codelineno-28-12"></a><span class="w">  </span><span class="nv">dir</span><span class="p">:</span><span class="w"> </span><span class="py">string</span><span class="err">?</span>
</span><span id="__span-28-13"><a id="__codelineno-28-13" name="__codelineno-28-13" href="#__codelineno-28-13"></a><span class="p">)</span>
</span><span id="__span-28-14"><a id="__codelineno-28-14" name="__codelineno-28-14" href="#__codelineno-28-14"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-28-15"><a id="__codelineno-28-15" name="__codelineno-28-15" href="#__codelineno-28-15"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-28-16"><a id="__codelineno-28-16" name="__codelineno-28-16" href="#__codelineno-28-16"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-28-17"><a id="__codelineno-28-17" name="__codelineno-28-17" href="#__codelineno-28-17"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-28-18"><a id="__codelineno-28-18" name="__codelineno-28-18" href="#__codelineno-28-18"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-28-19"><a id="__codelineno-28-19" name="__codelineno-28-19" href="#__codelineno-28-19"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-28-20"><a id="__codelineno-28-20" name="__codelineno-28-20" href="#__codelineno-28-20"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-28-21"><a id="__codelineno-28-21" name="__codelineno-28-21" href="#__codelineno-28-21"></a><span class="p">}</span>
</span><span id="__span-28-22"><a id="__codelineno-28-22" name="__codelineno-28-22" href="#__codelineno-28-22"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">badness</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>Create a new <code>hlist</code> by packaging the list that begins at node <code>n</code> into a horizontal box.</p>
<p>With only a single argument, this box is created using
the natural width of its components. In the three argument form, <code>info</code>
must be either <code>additional</code> or <code>exactly</code>, and <code>width</code> is the
additional (<code>\hbox spread</code>) or exact (<code>\hbox to</code>) width to be used.
The second return value is the badness of the generated box.</p>
<p>Caveat: there can be unexpected side-effects to this function, like updating
some of the <code>marks</code> and <code>\inserts</code>. Also note that the content of
<code>h</code> is the original node list <code>n</code>: if you call <code>node.free(h)</code>
you will also free the node list itself, unless you explicitly set the <code>list</code> field to <code>nil</code> beforehand. And in a similar way, calling <code>node.free(n)</code> will invalidate <code>h</code> as well!</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2576-L2619">lnodelib.c#L2576-L2619</a></li>
</ul>
<h3 id="nodevpack">node.vpack</h3>
<hr />
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-29-1"><a id="__codelineno-29-1" name="__codelineno-29-1" href="#__codelineno-29-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">vpack</span><span class="p">(</span>
</span><span id="__span-29-2"><a id="__codelineno-29-2" name="__codelineno-29-2" href="#__codelineno-29-2"></a><span class="w">  </span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-29-3"><a id="__codelineno-29-3" name="__codelineno-29-3" href="#__codelineno-29-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-29-4"><a id="__codelineno-29-4" name="__codelineno-29-4" href="#__codelineno-29-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-29-5"><a id="__codelineno-29-5" name="__codelineno-29-5" href="#__codelineno-29-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-29-6"><a id="__codelineno-29-6" name="__codelineno-29-6" href="#__codelineno-29-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-29-7"><a id="__codelineno-29-7" name="__codelineno-29-7" href="#__codelineno-29-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-29-8"><a id="__codelineno-29-8" name="__codelineno-29-8" href="#__codelineno-29-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-29-9"><a id="__codelineno-29-9" name="__codelineno-29-9" href="#__codelineno-29-9"></a><span class="p">},</span>
</span><span id="__span-29-10"><a id="__codelineno-29-10" name="__codelineno-29-10" href="#__codelineno-29-10"></a><span class="w">  </span><span class="nv">height</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-29-11"><a id="__codelineno-29-11" name="__codelineno-29-11" href="#__codelineno-29-11"></a><span class="w">  </span><span class="nv">info</span><span class="p">:</span><span class="w"> </span><span class="err">(&quot;</span><span class="py">additional</span><span class="s2">&quot;|&quot;</span><span class="nv">exactly</span><span class="s2">&quot;)?,</span>
</span><span id="__span-29-12"><a id="__codelineno-29-12" name="__codelineno-29-12" href="#__codelineno-29-12"></a><span class="s2">  dir: (DirectionSpecifier|DirectionSpecifierId)?</span>
</span><span id="__span-29-13"><a id="__codelineno-29-13" name="__codelineno-29-13" href="#__codelineno-29-13"></a><span class="s2">)</span>
</span><span id="__span-29-14"><a id="__codelineno-29-14" name="__codelineno-29-14" href="#__codelineno-29-14"></a><span class="s2"> -&gt; new_head Node {</span>
</span><span id="__span-29-15"><a id="__codelineno-29-15" name="__codelineno-29-15" href="#__codelineno-29-15"></a><span class="s2">    next = Node?,</span>
</span><span id="__span-29-16"><a id="__codelineno-29-16" name="__codelineno-29-16" href="#__codelineno-29-16"></a><span class="s2">    prev = Node?,</span>
</span><span id="__span-29-17"><a id="__codelineno-29-17" name="__codelineno-29-17" href="#__codelineno-29-17"></a><span class="s2">    id = integer,</span>
</span><span id="__span-29-18"><a id="__codelineno-29-18" name="__codelineno-29-18" href="#__codelineno-29-18"></a><span class="s2">    subtype = integer,</span>
</span><span id="__span-29-19"><a id="__codelineno-29-19" name="__codelineno-29-19" href="#__codelineno-29-19"></a><span class="s2">    head = Node?,</span>
</span><span id="__span-29-20"><a id="__codelineno-29-20" name="__codelineno-29-20" href="#__codelineno-29-20"></a><span class="s2">    attr = Node,</span>
</span><span id="__span-29-21"><a id="__codelineno-29-21" name="__codelineno-29-21" href="#__codelineno-29-21"></a><span class="s2">}</span>
</span><span id="__span-29-22"><a id="__codelineno-29-22" name="__codelineno-29-22" href="#__codelineno-29-22"></a><span class="s2"> -&gt; badness integer</span>
</span></code></pre></div>
@param <code>height</code> - The additional (<code>\vbox spread</code>) or exact (<code>\vbox to</code>) height to be used.</p>
<p>@param <code>info</code> - Must be either <code>additional</code> (<code>\vbox spread</code>) or <code>exactly</code> (<code>\vbox to</code>).</p>
<p>@return <code>badness</code> - The second return value is the badness of the generated box.</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p>Create a new <code>vlist</code> by packaging the list that begins at node <code>head</code> into a vertical box.</p>
<p>With only a single argument, this box is created using
the natural height of its components.</p>
<p>Caveat: there can be unexpected side-effects to this function, like updating
some of the <code>marks</code> and <code>\inserts</code>. Also note that the content of
<code>new_head</code> is the original node list <code>head</code>: if you call <code>node.free(new_head)</code>
you will also free the node list itself, unless you explicitly set the <code>list</code> field to <code>nil</code> beforehand. And in a similar way, calling <code>node.free(head)</code> will invalidate <code>new_head</code> as well!</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2673-L2716">lnodelib.c#L2673-L2716</a></li>
</ul>
<h3 id="nodeprepend_prevdepth">node.prepend_prevdepth</h3>
<hr />
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-30-1"><a id="__codelineno-30-1" name="__codelineno-30-1" href="#__codelineno-30-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">prepend_prevdepth</span><span class="p">(</span>
</span><span id="__span-30-2"><a id="__codelineno-30-2" name="__codelineno-30-2" href="#__codelineno-30-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-30-3"><a id="__codelineno-30-3" name="__codelineno-30-3" href="#__codelineno-30-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-30-4"><a id="__codelineno-30-4" name="__codelineno-30-4" href="#__codelineno-30-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-30-5"><a id="__codelineno-30-5" name="__codelineno-30-5" href="#__codelineno-30-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-30-6"><a id="__codelineno-30-6" name="__codelineno-30-6" href="#__codelineno-30-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-30-7"><a id="__codelineno-30-7" name="__codelineno-30-7" href="#__codelineno-30-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-30-8"><a id="__codelineno-30-8" name="__codelineno-30-8" href="#__codelineno-30-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-30-9"><a id="__codelineno-30-9" name="__codelineno-30-9" href="#__codelineno-30-9"></a><span class="p">},</span>
</span><span id="__span-30-10"><a id="__codelineno-30-10" name="__codelineno-30-10" href="#__codelineno-30-10"></a><span class="w">  </span><span class="nv">prevdepth</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span>
</span><span id="__span-30-11"><a id="__codelineno-30-11" name="__codelineno-30-11" href="#__codelineno-30-11"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">new_prevdepth</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
@param <code>n</code> - vlist or hlist</p>
<p>Add the interlinespace to a line keeping the baselineskip and lineskip into
account.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8763-L8801">lnodelib.c#L8763-L8801</a></li>
</ul>
<h3 id="nodedimensions">node.dimensions</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-31-1"><a id="__codelineno-31-1" name="__codelineno-31-1" href="#__codelineno-31-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">dimensions</span><span class="p">(</span>
</span><span id="__span-31-2"><a id="__codelineno-31-2" name="__codelineno-31-2" href="#__codelineno-31-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-31-3"><a id="__codelineno-31-3" name="__codelineno-31-3" href="#__codelineno-31-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-31-4"><a id="__codelineno-31-4" name="__codelineno-31-4" href="#__codelineno-31-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-31-5"><a id="__codelineno-31-5" name="__codelineno-31-5" href="#__codelineno-31-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-31-6"><a id="__codelineno-31-6" name="__codelineno-31-6" href="#__codelineno-31-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-31-7"><a id="__codelineno-31-7" name="__codelineno-31-7" href="#__codelineno-31-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-31-8"><a id="__codelineno-31-8" name="__codelineno-31-8" href="#__codelineno-31-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-31-9"><a id="__codelineno-31-9" name="__codelineno-31-9" href="#__codelineno-31-9"></a><span class="p">},</span>
</span><span id="__span-31-10"><a id="__codelineno-31-10" name="__codelineno-31-10" href="#__codelineno-31-10"></a><span class="w">  </span><span class="nv">dir</span><span class="p">:</span><span class="w"> </span><span class="py">DirectionSpecifier</span><span class="err">?</span>
</span><span id="__span-31-11"><a id="__codelineno-31-11" name="__codelineno-31-11" href="#__codelineno-31-11"></a><span class="p">)</span>
</span><span id="__span-31-12"><a id="__codelineno-31-12" name="__codelineno-31-12" href="#__codelineno-31-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">width</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-31-13"><a id="__codelineno-31-13" name="__codelineno-31-13" href="#__codelineno-31-13"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">height</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-31-14"><a id="__codelineno-31-14" name="__codelineno-31-14" href="#__codelineno-31-14"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">depth</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>@return <code>width</code> - scaled points</p>
<p>@return <code>height</code> - scaled points</p>
<p>@return <code>depth</code> - scaled points</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p>Calculate the natural in-line dimensions of the end of the node list starting
at node <code>n</code>.</p>
<p>The return values are scaled points.</p>
<p>You need to keep in mind that this is one of the few places in <em>TeX</em> where floats
are used, which means that you can get small differences in rounding when you
compare the width reported by <code>hpack</code> with <code>dimensions</code>.</p>
<p><strong>Reference:</strong></p>
<p><a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1490-L1546">Source: luatex-nodes.tex#L1490-L1546</a>
* Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2767-L2812">lnodelib.c#L2767-L2812</a></p>
<h3 id="nodedimensions_1">node.dimensions</h3>
<hr />
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-32-1"><a id="__codelineno-32-1" name="__codelineno-32-1" href="#__codelineno-32-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">dimensions</span><span class="p">(</span>
</span><span id="__span-32-2"><a id="__codelineno-32-2" name="__codelineno-32-2" href="#__codelineno-32-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-32-3"><a id="__codelineno-32-3" name="__codelineno-32-3" href="#__codelineno-32-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-32-4"><a id="__codelineno-32-4" name="__codelineno-32-4" href="#__codelineno-32-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-32-5"><a id="__codelineno-32-5" name="__codelineno-32-5" href="#__codelineno-32-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-32-6"><a id="__codelineno-32-6" name="__codelineno-32-6" href="#__codelineno-32-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-32-7"><a id="__codelineno-32-7" name="__codelineno-32-7" href="#__codelineno-32-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-32-8"><a id="__codelineno-32-8" name="__codelineno-32-8" href="#__codelineno-32-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-32-9"><a id="__codelineno-32-9" name="__codelineno-32-9" href="#__codelineno-32-9"></a><span class="p">},</span>
</span><span id="__span-32-10"><a id="__codelineno-32-10" name="__codelineno-32-10" href="#__codelineno-32-10"></a><span class="w">  </span><span class="nv">t</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-32-11"><a id="__codelineno-32-11" name="__codelineno-32-11" href="#__codelineno-32-11"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-32-12"><a id="__codelineno-32-12" name="__codelineno-32-12" href="#__codelineno-32-12"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-32-13"><a id="__codelineno-32-13" name="__codelineno-32-13" href="#__codelineno-32-13"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-32-14"><a id="__codelineno-32-14" name="__codelineno-32-14" href="#__codelineno-32-14"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-32-15"><a id="__codelineno-32-15" name="__codelineno-32-15" href="#__codelineno-32-15"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-32-16"><a id="__codelineno-32-16" name="__codelineno-32-16" href="#__codelineno-32-16"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-32-17"><a id="__codelineno-32-17" name="__codelineno-32-17" href="#__codelineno-32-17"></a><span class="p">},</span>
</span><span id="__span-32-18"><a id="__codelineno-32-18" name="__codelineno-32-18" href="#__codelineno-32-18"></a><span class="w">  </span><span class="nv">dir</span><span class="p">:</span><span class="w"> </span><span class="py">DirectionSpecifier</span><span class="err">?</span>
</span><span id="__span-32-19"><a id="__codelineno-32-19" name="__codelineno-32-19" href="#__codelineno-32-19"></a><span class="p">)</span>
</span><span id="__span-32-20"><a id="__codelineno-32-20" name="__codelineno-32-20" href="#__codelineno-32-20"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">width</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-32-21"><a id="__codelineno-32-21" name="__codelineno-32-21" href="#__codelineno-32-21"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">height</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-32-22"><a id="__codelineno-32-22" name="__codelineno-32-22" href="#__codelineno-32-22"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">depth</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
@param <code>t</code> - terminating node</p>
<p>@return <code>width</code> - scaled points</p>
<p>@return <code>height</code> - scaled points</p>
<p>@return <code>depth</code> - scaled points</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p>Calculate the natural in-line dimensions of the node list starting
at node <code>n</code> and terminating just before node <code>t</code>.</p>
<p><strong>Reference:</strong></p>
<p><a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1490-L1546">Source: luatex-nodes.tex#L1490-L1546</a>
* Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2767-L2812">lnodelib.c#L2767-L2812</a></p>
<h3 id="nodedimensions_2">node.dimensions</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-33-1"><a id="__codelineno-33-1" name="__codelineno-33-1" href="#__codelineno-33-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">dimensions</span><span class="p">(</span>
</span><span id="__span-33-2"><a id="__codelineno-33-2" name="__codelineno-33-2" href="#__codelineno-33-2"></a><span class="w">  </span><span class="nv">glue_set</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-33-3"><a id="__codelineno-33-3" name="__codelineno-33-3" href="#__codelineno-33-3"></a><span class="w">  </span><span class="nv">glue_sign</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-33-4"><a id="__codelineno-33-4" name="__codelineno-33-4" href="#__codelineno-33-4"></a><span class="w">  </span><span class="nv">glue_order</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-33-5"><a id="__codelineno-33-5" name="__codelineno-33-5" href="#__codelineno-33-5"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-33-6"><a id="__codelineno-33-6" name="__codelineno-33-6" href="#__codelineno-33-6"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-33-7"><a id="__codelineno-33-7" name="__codelineno-33-7" href="#__codelineno-33-7"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-33-8"><a id="__codelineno-33-8" name="__codelineno-33-8" href="#__codelineno-33-8"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-33-9"><a id="__codelineno-33-9" name="__codelineno-33-9" href="#__codelineno-33-9"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-33-10"><a id="__codelineno-33-10" name="__codelineno-33-10" href="#__codelineno-33-10"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-33-11"><a id="__codelineno-33-11" name="__codelineno-33-11" href="#__codelineno-33-11"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-33-12"><a id="__codelineno-33-12" name="__codelineno-33-12" href="#__codelineno-33-12"></a><span class="p">},</span>
</span><span id="__span-33-13"><a id="__codelineno-33-13" name="__codelineno-33-13" href="#__codelineno-33-13"></a><span class="w">  </span><span class="nv">dir</span><span class="p">:</span><span class="w"> </span><span class="py">DirectionSpecifier</span><span class="err">?</span>
</span><span id="__span-33-14"><a id="__codelineno-33-14" name="__codelineno-33-14" href="#__codelineno-33-14"></a><span class="p">)</span>
</span><span id="__span-33-15"><a id="__codelineno-33-15" name="__codelineno-33-15" href="#__codelineno-33-15"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">width</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-33-16"><a id="__codelineno-33-16" name="__codelineno-33-16" href="#__codelineno-33-16"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">height</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-33-17"><a id="__codelineno-33-17" name="__codelineno-33-17" href="#__codelineno-33-17"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">depth</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>@return <code>width</code> - scaled points</p>
<p>@return <code>height</code> - scaled points</p>
<p>@return <code>depth</code> - scaled points</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p>Calculates the natural in-line dimensions of the end of the node list starting
at node <code>n</code>.</p>
<p>This is an
alternative format that starts with glue parameters as the first three arguments.</p>
<p>This calling method takes glue settings into account and is especially useful for
finding the actual width of a sublist of nodes that are already boxed, for
example in code like this, which prints the width of the space in between the
<code>a</code> and <code>b</code> as it would be if <code>\box0</code> was used as-is:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-34-1"><a id="__codelineno-34-1" name="__codelineno-34-1" href="#__codelineno-34-1"></a>\setbox0 = \hbox to 20pt {a b}
</span><span id="__span-34-2"><a id="__codelineno-34-2" name="__codelineno-34-2" href="#__codelineno-34-2"></a>
</span><span id="__span-34-3"><a id="__codelineno-34-3" name="__codelineno-34-3" href="#__codelineno-34-3"></a>\directlua{print (node.dimensions(
</span><span id="__span-34-4"><a id="__codelineno-34-4" name="__codelineno-34-4" href="#__codelineno-34-4"></a>    tex.box[0].glue_set,
</span><span id="__span-34-5"><a id="__codelineno-34-5" name="__codelineno-34-5" href="#__codelineno-34-5"></a>    tex.box[0].glue_sign,
</span><span id="__span-34-6"><a id="__codelineno-34-6" name="__codelineno-34-6" href="#__codelineno-34-6"></a>    tex.box[0].glue_order,
</span><span id="__span-34-7"><a id="__codelineno-34-7" name="__codelineno-34-7" href="#__codelineno-34-7"></a>    tex.box[0].head.next,
</span><span id="__span-34-8"><a id="__codelineno-34-8" name="__codelineno-34-8" href="#__codelineno-34-8"></a>    node.tail(tex.box[0].head)
</span><span id="__span-34-9"><a id="__codelineno-34-9" name="__codelineno-34-9" href="#__codelineno-34-9"></a>)) }
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<p><a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1490-L1546">Source: luatex-nodes.tex#L1490-L1546</a>
* Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2838-L2880">lnodelib.c#L2838-L2880</a></p>
<h3 id="nodedimensions_3">node.dimensions</h3>
<hr />
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-35-1"><a id="__codelineno-35-1" name="__codelineno-35-1" href="#__codelineno-35-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">dimensions</span><span class="p">(</span>
</span><span id="__span-35-2"><a id="__codelineno-35-2" name="__codelineno-35-2" href="#__codelineno-35-2"></a><span class="w">  </span><span class="nv">glue_set</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-35-3"><a id="__codelineno-35-3" name="__codelineno-35-3" href="#__codelineno-35-3"></a><span class="w">  </span><span class="nv">glue_sign</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-35-4"><a id="__codelineno-35-4" name="__codelineno-35-4" href="#__codelineno-35-4"></a><span class="w">  </span><span class="nv">glue_order</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-35-5"><a id="__codelineno-35-5" name="__codelineno-35-5" href="#__codelineno-35-5"></a><span class="w">  </span><span class="nv">d</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-35-6"><a id="__codelineno-35-6" name="__codelineno-35-6" href="#__codelineno-35-6"></a><span class="w">  </span><span class="nv">t</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-35-7"><a id="__codelineno-35-7" name="__codelineno-35-7" href="#__codelineno-35-7"></a><span class="w">  </span><span class="nv">dir</span><span class="p">:</span><span class="w"> </span><span class="py">DirectionSpecifier</span><span class="err">?</span>
</span><span id="__span-35-8"><a id="__codelineno-35-8" name="__codelineno-35-8" href="#__codelineno-35-8"></a><span class="p">)</span>
</span><span id="__span-35-9"><a id="__codelineno-35-9" name="__codelineno-35-9" href="#__codelineno-35-9"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">width</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-35-10"><a id="__codelineno-35-10" name="__codelineno-35-10" href="#__codelineno-35-10"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">height</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-35-11"><a id="__codelineno-35-11" name="__codelineno-35-11" href="#__codelineno-35-11"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">depth</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
@param <code>d</code> - The index number of the node in the memory table for direct access.</p>
<p>@param <code>t</code> - terminating node</p>
<p>@return <code>width</code> - scaled points</p>
<p>@return <code>height</code> - scaled points</p>
<p>@return <code>depth</code> - scaled points</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p>Calculate the natural in-line dimensions of the node list starting
at node <code>n</code> and terminating just before node <code>t</code>.</p>
<p>This is an
alternative format that starts with glue parameters as the first three arguments.</p>
<p><strong>Reference:</strong></p>
<p><a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1490-L1546">Source: luatex-nodes.tex#L1490-L1546</a>
* Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2767-L2812">lnodelib.c#L2767-L2812</a></p>
<h3 id="noderangedimensions">node.rangedimensions</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-36-1"><a id="__codelineno-36-1" name="__codelineno-36-1" href="#__codelineno-36-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">rangedimensions</span><span class="p">(</span>
</span><span id="__span-36-2"><a id="__codelineno-36-2" name="__codelineno-36-2" href="#__codelineno-36-2"></a><span class="w">  </span><span class="nv">parent</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-36-3"><a id="__codelineno-36-3" name="__codelineno-36-3" href="#__codelineno-36-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-36-4"><a id="__codelineno-36-4" name="__codelineno-36-4" href="#__codelineno-36-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-36-5"><a id="__codelineno-36-5" name="__codelineno-36-5" href="#__codelineno-36-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-36-6"><a id="__codelineno-36-6" name="__codelineno-36-6" href="#__codelineno-36-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-36-7"><a id="__codelineno-36-7" name="__codelineno-36-7" href="#__codelineno-36-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-36-8"><a id="__codelineno-36-8" name="__codelineno-36-8" href="#__codelineno-36-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-36-9"><a id="__codelineno-36-9" name="__codelineno-36-9" href="#__codelineno-36-9"></a><span class="p">},</span>
</span><span id="__span-36-10"><a id="__codelineno-36-10" name="__codelineno-36-10" href="#__codelineno-36-10"></a><span class="w">  </span><span class="nv">first</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-36-11"><a id="__codelineno-36-11" name="__codelineno-36-11" href="#__codelineno-36-11"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-36-12"><a id="__codelineno-36-12" name="__codelineno-36-12" href="#__codelineno-36-12"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-36-13"><a id="__codelineno-36-13" name="__codelineno-36-13" href="#__codelineno-36-13"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-36-14"><a id="__codelineno-36-14" name="__codelineno-36-14" href="#__codelineno-36-14"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-36-15"><a id="__codelineno-36-15" name="__codelineno-36-15" href="#__codelineno-36-15"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-36-16"><a id="__codelineno-36-16" name="__codelineno-36-16" href="#__codelineno-36-16"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-36-17"><a id="__codelineno-36-17" name="__codelineno-36-17" href="#__codelineno-36-17"></a><span class="p">},</span>
</span><span id="__span-36-18"><a id="__codelineno-36-18" name="__codelineno-36-18" href="#__codelineno-36-18"></a><span class="w">  </span><span class="nv">last</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-36-19"><a id="__codelineno-36-19" name="__codelineno-36-19" href="#__codelineno-36-19"></a><span class="p">)</span>
</span><span id="__span-36-20"><a id="__codelineno-36-20" name="__codelineno-36-20" href="#__codelineno-36-20"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">width</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-36-21"><a id="__codelineno-36-21" name="__codelineno-36-21" href="#__codelineno-36-21"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">height</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-36-22"><a id="__codelineno-36-22" name="__codelineno-36-22" href="#__codelineno-36-22"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">depth</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>@return <code>width</code> - scaled points</p>
<p>@return <code>height</code> - scaled points</p>
<p>@return <code>depth</code> - scaled points</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p>Calculate the natural in-line dimensions of the node list <code>parent</code> starting
at node <code>first</code> and terminating just before node <code>last</code>.</p>
<p>This functions saves a few lookups in comparison to <code>node.dimensions()</code> and can be more convenient in some
cases.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2814-L2834">lnodelib.c#L2814-L2834</a></li>
</ul>
<h3 id="nodemlist_to_hlist">node.mlist_to_hlist</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-37-1"><a id="__codelineno-37-1" name="__codelineno-37-1" href="#__codelineno-37-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">mlist_to_hlist</span><span class="p">(</span>
</span><span id="__span-37-2"><a id="__codelineno-37-2" name="__codelineno-37-2" href="#__codelineno-37-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-37-3"><a id="__codelineno-37-3" name="__codelineno-37-3" href="#__codelineno-37-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-37-4"><a id="__codelineno-37-4" name="__codelineno-37-4" href="#__codelineno-37-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-37-5"><a id="__codelineno-37-5" name="__codelineno-37-5" href="#__codelineno-37-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-37-6"><a id="__codelineno-37-6" name="__codelineno-37-6" href="#__codelineno-37-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-37-7"><a id="__codelineno-37-7" name="__codelineno-37-7" href="#__codelineno-37-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-37-8"><a id="__codelineno-37-8" name="__codelineno-37-8" href="#__codelineno-37-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-37-9"><a id="__codelineno-37-9" name="__codelineno-37-9" href="#__codelineno-37-9"></a><span class="p">},</span>
</span><span id="__span-37-10"><a id="__codelineno-37-10" name="__codelineno-37-10" href="#__codelineno-37-10"></a><span class="w">  </span><span class="nv">display_type</span><span class="p">:</span><span class="w"> </span><span class="py">string</span><span class="p">,</span>
</span><span id="__span-37-11"><a id="__codelineno-37-11" name="__codelineno-37-11" href="#__codelineno-37-11"></a><span class="w">  </span><span class="nv">penalties</span><span class="p">:</span><span class="w"> </span><span class="py">boolean</span>
</span><span id="__span-37-12"><a id="__codelineno-37-12" name="__codelineno-37-12" href="#__codelineno-37-12"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">h</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-37-13"><a id="__codelineno-37-13" name="__codelineno-37-13" href="#__codelineno-37-13"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-37-14"><a id="__codelineno-37-14" name="__codelineno-37-14" href="#__codelineno-37-14"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-37-15"><a id="__codelineno-37-15" name="__codelineno-37-15" href="#__codelineno-37-15"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-37-16"><a id="__codelineno-37-16" name="__codelineno-37-16" href="#__codelineno-37-16"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-37-17"><a id="__codelineno-37-17" name="__codelineno-37-17" href="#__codelineno-37-17"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-37-18"><a id="__codelineno-37-18" name="__codelineno-37-18" href="#__codelineno-37-18"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-37-19"><a id="__codelineno-37-19" name="__codelineno-37-19" href="#__codelineno-37-19"></a><span class="p">}</span>
</span></code></pre></div>
<p>Run the internal <code>mlist</code> to <code>hlist</code> conversion, converting the math list in
<code>n</code> into the horizontal list <code>h</code>.</p>
<p>The interface is exactly the same
as for the callback <code>mlist_to_hlist</code>.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2906-L2918">lnodelib.c#L2906-L2918</a></li>
</ul>
<h3 id="nodetail">node.tail</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-38-1"><a id="__codelineno-38-1" name="__codelineno-38-1" href="#__codelineno-38-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">tail</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-38-2"><a id="__codelineno-38-2" name="__codelineno-38-2" href="#__codelineno-38-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-38-3"><a id="__codelineno-38-3" name="__codelineno-38-3" href="#__codelineno-38-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-38-4"><a id="__codelineno-38-4" name="__codelineno-38-4" href="#__codelineno-38-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-38-5"><a id="__codelineno-38-5" name="__codelineno-38-5" href="#__codelineno-38-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-38-6"><a id="__codelineno-38-6" name="__codelineno-38-6" href="#__codelineno-38-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-38-7"><a id="__codelineno-38-7" name="__codelineno-38-7" href="#__codelineno-38-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-38-8"><a id="__codelineno-38-8" name="__codelineno-38-8" href="#__codelineno-38-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">m</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-38-9"><a id="__codelineno-38-9" name="__codelineno-38-9" href="#__codelineno-38-9"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-38-10"><a id="__codelineno-38-10" name="__codelineno-38-10" href="#__codelineno-38-10"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-38-11"><a id="__codelineno-38-11" name="__codelineno-38-11" href="#__codelineno-38-11"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-38-12"><a id="__codelineno-38-12" name="__codelineno-38-12" href="#__codelineno-38-12"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-38-13"><a id="__codelineno-38-13" name="__codelineno-38-13" href="#__codelineno-38-13"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-38-14"><a id="__codelineno-38-14" name="__codelineno-38-14" href="#__codelineno-38-14"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-38-15"><a id="__codelineno-38-15" name="__codelineno-38-15" href="#__codelineno-38-15"></a><span class="p">}</span>
</span></code></pre></div>
<p>Return the last node of the node list that starts at <code>n</code>.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3262-L3274">lnodelib.c#L3262-L3274</a></li>
</ul>
<h3 id="nodelength">node.length</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-39-1"><a id="__codelineno-39-1" name="__codelineno-39-1" href="#__codelineno-39-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">length</span><span class="p">(</span>
</span><span id="__span-39-2"><a id="__codelineno-39-2" name="__codelineno-39-2" href="#__codelineno-39-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-39-3"><a id="__codelineno-39-3" name="__codelineno-39-3" href="#__codelineno-39-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-39-4"><a id="__codelineno-39-4" name="__codelineno-39-4" href="#__codelineno-39-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-39-5"><a id="__codelineno-39-5" name="__codelineno-39-5" href="#__codelineno-39-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-39-6"><a id="__codelineno-39-6" name="__codelineno-39-6" href="#__codelineno-39-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-39-7"><a id="__codelineno-39-7" name="__codelineno-39-7" href="#__codelineno-39-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-39-8"><a id="__codelineno-39-8" name="__codelineno-39-8" href="#__codelineno-39-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-39-9"><a id="__codelineno-39-9" name="__codelineno-39-9" href="#__codelineno-39-9"></a><span class="p">},</span>
</span><span id="__span-39-10"><a id="__codelineno-39-10" name="__codelineno-39-10" href="#__codelineno-39-10"></a><span class="w">  </span><span class="nv">m</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-39-11"><a id="__codelineno-39-11" name="__codelineno-39-11" href="#__codelineno-39-11"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>Return the number of nodes contained in the node list that starts at <code>n</code>.</p>
<p>If <code>m</code> is also supplied it stops at <code>m</code> instead of at the end of the
list. The node <code>m</code> is not counted.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L4374-L4386">lnodelib.c#L4374-L4386</a></li>
</ul>
<h3 id="nodecount">node.count</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-40-1"><a id="__codelineno-40-1" name="__codelineno-40-1" href="#__codelineno-40-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">count</span><span class="p">(</span>
</span><span id="__span-40-2"><a id="__codelineno-40-2" name="__codelineno-40-2" href="#__codelineno-40-2"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">integer</span><span class="o">|</span><span class="nv">string</span><span class="p">),</span>
</span><span id="__span-40-3"><a id="__codelineno-40-3" name="__codelineno-40-3" href="#__codelineno-40-3"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-40-4"><a id="__codelineno-40-4" name="__codelineno-40-4" href="#__codelineno-40-4"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-40-5"><a id="__codelineno-40-5" name="__codelineno-40-5" href="#__codelineno-40-5"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-40-6"><a id="__codelineno-40-6" name="__codelineno-40-6" href="#__codelineno-40-6"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-40-7"><a id="__codelineno-40-7" name="__codelineno-40-7" href="#__codelineno-40-7"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-40-8"><a id="__codelineno-40-8" name="__codelineno-40-8" href="#__codelineno-40-8"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-40-9"><a id="__codelineno-40-9" name="__codelineno-40-9" href="#__codelineno-40-9"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-40-10"><a id="__codelineno-40-10" name="__codelineno-40-10" href="#__codelineno-40-10"></a><span class="p">},</span>
</span><span id="__span-40-11"><a id="__codelineno-40-11" name="__codelineno-40-11" href="#__codelineno-40-11"></a><span class="w">  </span><span class="nv">m</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-40-12"><a id="__codelineno-40-12" name="__codelineno-40-12" href="#__codelineno-40-12"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">i</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>Return the number of nodes contained in the node list that starts at <code>n</code>
that have a matching <code>id</code> field.</p>
<p>If <code>m</code> is also supplied, counting
stops at <code>m</code> instead of at the end of the list. The node <code>m</code> is not
counted. This function also accept string <code>id</code>’s.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L4388-L4401">lnodelib.c#L4388-L4401</a></li>
</ul>
<h3 id="nodeis_char">node.is_char</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-41-1"><a id="__codelineno-41-1" name="__codelineno-41-1" href="#__codelineno-41-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">is_char</span><span class="p">(</span>
</span><span id="__span-41-2"><a id="__codelineno-41-2" name="__codelineno-41-2" href="#__codelineno-41-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-41-3"><a id="__codelineno-41-3" name="__codelineno-41-3" href="#__codelineno-41-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-41-4"><a id="__codelineno-41-4" name="__codelineno-41-4" href="#__codelineno-41-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-41-5"><a id="__codelineno-41-5" name="__codelineno-41-5" href="#__codelineno-41-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-41-6"><a id="__codelineno-41-6" name="__codelineno-41-6" href="#__codelineno-41-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-41-7"><a id="__codelineno-41-7" name="__codelineno-41-7" href="#__codelineno-41-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-41-8"><a id="__codelineno-41-8" name="__codelineno-41-8" href="#__codelineno-41-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-41-9"><a id="__codelineno-41-9" name="__codelineno-41-9" href="#__codelineno-41-9"></a><span class="p">},</span>
</span><span id="__span-41-10"><a id="__codelineno-41-10" name="__codelineno-41-10" href="#__codelineno-41-10"></a><span class="w">  </span><span class="nv">font</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="err">?</span>
</span><span id="__span-41-11"><a id="__codelineno-41-11" name="__codelineno-41-11" href="#__codelineno-41-11"></a><span class="p">)</span>
</span><span id="__span-41-12"><a id="__codelineno-41-12" name="__codelineno-41-12" href="#__codelineno-41-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="p">(</span><span class="nv">boolean</span><span class="o">|</span><span class="nv">integer</span><span class="p">)</span><span class="err">?</span>
</span><span id="__span-41-13"><a id="__codelineno-41-13" name="__codelineno-41-13" href="#__codelineno-41-13"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">integer</span><span class="err">?</span>
</span></code></pre></div>
<p>Signal if the glyph is already turned into a character reference
or not by examining the subtype.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-42-1"><a id="__codelineno-42-1" name="__codelineno-42-1" href="#__codelineno-42-1"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">is_char</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)),</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-42-2"><a id="__codelineno-42-2" name="__codelineno-42-2" href="#__codelineno-42-2"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">is_char</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;hlist&quot;</span><span class="p">)),</span><span class="w"> </span><span class="kc">nil</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/4f2b914d365bab8a2747afe6e8c86d0f1c8475f7/source/texk/web2c/luatexdir/lua/lnodelib.c#L3004-3024">lnodelib.c#L3004-3024</a></li>
</ul>
<h3 id="nodeis_glyph">node.is_glyph</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-43-1"><a id="__codelineno-43-1" name="__codelineno-43-1" href="#__codelineno-43-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">is_glyph</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-43-2"><a id="__codelineno-43-2" name="__codelineno-43-2" href="#__codelineno-43-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-43-3"><a id="__codelineno-43-3" name="__codelineno-43-3" href="#__codelineno-43-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-43-4"><a id="__codelineno-43-4" name="__codelineno-43-4" href="#__codelineno-43-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-43-5"><a id="__codelineno-43-5" name="__codelineno-43-5" href="#__codelineno-43-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-43-6"><a id="__codelineno-43-6" name="__codelineno-43-6" href="#__codelineno-43-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-43-7"><a id="__codelineno-43-7" name="__codelineno-43-7" href="#__codelineno-43-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-43-8"><a id="__codelineno-43-8" name="__codelineno-43-8" href="#__codelineno-43-8"></a><span class="p">})</span>
</span><span id="__span-43-9"><a id="__codelineno-43-9" name="__codelineno-43-9" href="#__codelineno-43-9"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nf">character</span><span class="w"> </span><span class="p">(</span><span class="nv">boolean</span><span class="o">|</span><span class="nv">integer</span><span class="p">)</span>
</span><span id="__span-43-10"><a id="__codelineno-43-10" name="__codelineno-43-10" href="#__codelineno-43-10"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">font</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>Signal if the glyph is already turned into a character reference
or not by examining the subtype.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-44-1"><a id="__codelineno-44-1" name="__codelineno-44-1" href="#__codelineno-44-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="nv">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">is_glyph</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">))</span>
</span><span id="__span-44-2"><a id="__codelineno-44-2" name="__codelineno-44-2" href="#__codelineno-44-2"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">character</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-44-3"><a id="__codelineno-44-3" name="__codelineno-44-3" href="#__codelineno-44-3"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">font</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
</span><span id="__span-44-4"><a id="__codelineno-44-4" name="__codelineno-44-4" href="#__codelineno-44-4"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">is_false</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">is_glyph</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;hlist&quot;</span><span class="p">)))</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3026-L3037">lnodelib.c#L3026-L3037</a></li>
</ul>
<h3 id="nodetraverse">node.traverse</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-45-1"><a id="__codelineno-45-1" name="__codelineno-45-1" href="#__codelineno-45-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">traverse</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-45-2"><a id="__codelineno-45-2" name="__codelineno-45-2" href="#__codelineno-45-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-45-3"><a id="__codelineno-45-3" name="__codelineno-45-3" href="#__codelineno-45-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-45-4"><a id="__codelineno-45-4" name="__codelineno-45-4" href="#__codelineno-45-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-45-5"><a id="__codelineno-45-5" name="__codelineno-45-5" href="#__codelineno-45-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-45-6"><a id="__codelineno-45-6" name="__codelineno-45-6" href="#__codelineno-45-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-45-7"><a id="__codelineno-45-7" name="__codelineno-45-7" href="#__codelineno-45-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-45-8"><a id="__codelineno-45-8" name="__codelineno-45-8" href="#__codelineno-45-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nf">fun</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="nv">Node</span><span class="p">,</span><span class="nv">integer</span><span class="p">,</span><span class="nv">integer</span><span class="p">)</span>
</span></code></pre></div>
<p>Return a <em>Lua</em> iterator that loops over the node list that starts at <code>n</code>.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-46-1"><a id="__codelineno-46-1" name="__codelineno-46-1" href="#__codelineno-46-1"></a><span class="nv">callback</span><span class="p">.</span><span class="nf">register</span><span class="p">(</span><span class="s2">&quot;post_linebreak_filter&quot;</span><span class="p">,</span><span class="w"> </span><span class="kr">function</span><span class="p">(</span><span class="nv">head</span><span class="p">)</span>
</span><span id="__span-46-2"><a id="__codelineno-46-2" name="__codelineno-46-2" href="#__codelineno-46-2"></a><span class="w">  </span><span class="kr">for</span><span class="w"> </span><span class="nv">n</span><span class="p">,</span><span class="w"> </span><span class="nb">type</span><span class="p">,</span><span class="w"> </span><span class="nv">subtype</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">traverse</span><span class="p">(</span><span class="nv">head</span><span class="p">.</span><span class="py">head</span><span class="p">)</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-46-3"><a id="__codelineno-46-3" name="__codelineno-46-3" href="#__codelineno-46-3"></a><span class="w">    </span><span class="nb">assert</span><span class="p">.</span><span class="nf">is_type</span><span class="p">(</span><span class="nv">n</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;userdata&quot;</span><span class="p">)</span>
</span><span id="__span-46-4"><a id="__codelineno-46-4" name="__codelineno-46-4" href="#__codelineno-46-4"></a><span class="w">    </span><span class="nb">assert</span><span class="p">.</span><span class="nf">is_type</span><span class="p">(</span><span class="nb">type</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">)</span>
</span><span id="__span-46-5"><a id="__codelineno-46-5" name="__codelineno-46-5" href="#__codelineno-46-5"></a><span class="w">    </span><span class="nb">assert</span><span class="p">.</span><span class="nf">is_type</span><span class="p">(</span><span class="nv">subtype</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;number&quot;</span><span class="p">)</span>
</span><span id="__span-46-6"><a id="__codelineno-46-6" name="__codelineno-46-6" href="#__codelineno-46-6"></a><span class="w">  </span><span class="kr">end</span>
</span><span id="__span-46-7"><a id="__codelineno-46-7" name="__codelineno-46-7" href="#__codelineno-46-7"></a><span class="w">  </span><span class="kr">return</span><span class="w"> </span><span class="nv">head</span>
</span><span id="__span-46-8"><a id="__codelineno-46-8" name="__codelineno-46-8" href="#__codelineno-46-8"></a><span class="kr">end</span><span class="p">)</span>
</span></code></pre></div>
<p>It should be clear from the definition of the function <code>f</code> that even though
it is possible to add or remove nodes from the node list while traversing, you
have to take great care to make sure all the <code>next</code> (and <code>prev</code>)
pointers remain valid.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L4156-L4168">lnodelib.c#L4156-L4168</a></li>
</ul>
<h3 id="nodetraverse_id">node.traverse_id</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-47-1"><a id="__codelineno-47-1" name="__codelineno-47-1" href="#__codelineno-47-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">traverse_id</span><span class="p">(</span>
</span><span id="__span-47-2"><a id="__codelineno-47-2" name="__codelineno-47-2" href="#__codelineno-47-2"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-47-3"><a id="__codelineno-47-3" name="__codelineno-47-3" href="#__codelineno-47-3"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-47-4"><a id="__codelineno-47-4" name="__codelineno-47-4" href="#__codelineno-47-4"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-47-5"><a id="__codelineno-47-5" name="__codelineno-47-5" href="#__codelineno-47-5"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-47-6"><a id="__codelineno-47-6" name="__codelineno-47-6" href="#__codelineno-47-6"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-47-7"><a id="__codelineno-47-7" name="__codelineno-47-7" href="#__codelineno-47-7"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-47-8"><a id="__codelineno-47-8" name="__codelineno-47-8" href="#__codelineno-47-8"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-47-9"><a id="__codelineno-47-9" name="__codelineno-47-9" href="#__codelineno-47-9"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-47-10"><a id="__codelineno-47-10" name="__codelineno-47-10" href="#__codelineno-47-10"></a><span class="p">}</span>
</span><span id="__span-47-11"><a id="__codelineno-47-11" name="__codelineno-47-11" href="#__codelineno-47-11"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nf">fun</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="nv">Node</span><span class="p">,</span><span class="nv">integer</span><span class="p">)</span>
</span></code></pre></div>
<p>Return an iterator that loops over all the nodes in the list that starts at
<code>n</code> that have a matching <code>id</code> field.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L4196-L4209">lnodelib.c#L4196-L4209</a></li>
</ul>
<h3 id="nodetraverse_char">node.traverse_char</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-48-1"><a id="__codelineno-48-1" name="__codelineno-48-1" href="#__codelineno-48-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">traverse_char</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-48-2"><a id="__codelineno-48-2" name="__codelineno-48-2" href="#__codelineno-48-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-48-3"><a id="__codelineno-48-3" name="__codelineno-48-3" href="#__codelineno-48-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-48-4"><a id="__codelineno-48-4" name="__codelineno-48-4" href="#__codelineno-48-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-48-5"><a id="__codelineno-48-5" name="__codelineno-48-5" href="#__codelineno-48-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-48-6"><a id="__codelineno-48-6" name="__codelineno-48-6" href="#__codelineno-48-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-48-7"><a id="__codelineno-48-7" name="__codelineno-48-7" href="#__codelineno-48-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-48-8"><a id="__codelineno-48-8" name="__codelineno-48-8" href="#__codelineno-48-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nf">fun</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="nv">Node</span><span class="p">,</span><span class="nv">integer</span><span class="p">,</span><span class="nv">integer</span><span class="p">)</span>
</span></code></pre></div>
<p>Loop over the <code>glyph</code> nodes in a list.</p>
<p>Only nodes with a subtype less than 256 are seen.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L4237-L4249">lnodelib.c#L4237-L4249</a></li>
</ul>
<h3 id="nodetraverse_glyph">node.traverse_glyph</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-49-1"><a id="__codelineno-49-1" name="__codelineno-49-1" href="#__codelineno-49-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">traverse_glyph</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-49-2"><a id="__codelineno-49-2" name="__codelineno-49-2" href="#__codelineno-49-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-49-3"><a id="__codelineno-49-3" name="__codelineno-49-3" href="#__codelineno-49-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-49-4"><a id="__codelineno-49-4" name="__codelineno-49-4" href="#__codelineno-49-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-49-5"><a id="__codelineno-49-5" name="__codelineno-49-5" href="#__codelineno-49-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-49-6"><a id="__codelineno-49-6" name="__codelineno-49-6" href="#__codelineno-49-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-49-7"><a id="__codelineno-49-7" name="__codelineno-49-7" href="#__codelineno-49-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-49-8"><a id="__codelineno-49-8" name="__codelineno-49-8" href="#__codelineno-49-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nf">fun</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="nv">Node</span><span class="p">,</span><span class="nv">integer</span><span class="p">,</span><span class="nv">integer</span><span class="p">)</span>
</span></code></pre></div>
<p>Loop over a list and return the list and
filter all glyphs.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L4277-L4289">lnodelib.c#L4277-L4289</a></li>
</ul>
<h3 id="nodetraverse_list">node.traverse_list</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-50-1"><a id="__codelineno-50-1" name="__codelineno-50-1" href="#__codelineno-50-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">traverse_list</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-50-2"><a id="__codelineno-50-2" name="__codelineno-50-2" href="#__codelineno-50-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-50-3"><a id="__codelineno-50-3" name="__codelineno-50-3" href="#__codelineno-50-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-50-4"><a id="__codelineno-50-4" name="__codelineno-50-4" href="#__codelineno-50-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-50-5"><a id="__codelineno-50-5" name="__codelineno-50-5" href="#__codelineno-50-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-50-6"><a id="__codelineno-50-6" name="__codelineno-50-6" href="#__codelineno-50-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-50-7"><a id="__codelineno-50-7" name="__codelineno-50-7" href="#__codelineno-50-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-50-8"><a id="__codelineno-50-8" name="__codelineno-50-8" href="#__codelineno-50-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nf">fun</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="p">(</span><span class="nv">Node</span><span class="p">,</span><span class="nv">integer</span><span class="p">,</span><span class="nv">integer</span><span class="p">,</span><span class="nv">Node</span><span class="p">)</span>
</span></code></pre></div>
<p>Loop over the <code>hlist</code> and <code>vlist</code> nodes in a list.</p>
<p>The four return values can save some time compared to fetching these fields.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L4318-L4330">lnodelib.c#L4318-L4330</a></li>
</ul>
<h3 id="nodehas_glyph">node.has_glyph</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-51-1"><a id="__codelineno-51-1" name="__codelineno-51-1" href="#__codelineno-51-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">has_glyph</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-51-2"><a id="__codelineno-51-2" name="__codelineno-51-2" href="#__codelineno-51-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-51-3"><a id="__codelineno-51-3" name="__codelineno-51-3" href="#__codelineno-51-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-51-4"><a id="__codelineno-51-4" name="__codelineno-51-4" href="#__codelineno-51-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-51-5"><a id="__codelineno-51-5" name="__codelineno-51-5" href="#__codelineno-51-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-51-6"><a id="__codelineno-51-6" name="__codelineno-51-6" href="#__codelineno-51-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-51-7"><a id="__codelineno-51-7" name="__codelineno-51-7" href="#__codelineno-51-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-51-8"><a id="__codelineno-51-8" name="__codelineno-51-8" href="#__codelineno-51-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the first <code>glyph</code> or <code>disc</code> node in the given list.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6368-L6382">lnodelib.c#L6368-L6382</a></li>
</ul>
<h3 id="nodeend_of_math">node.end_of_math</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-52-1"><a id="__codelineno-52-1" name="__codelineno-52-1" href="#__codelineno-52-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">end_of_math</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-52-2"><a id="__codelineno-52-2" name="__codelineno-52-2" href="#__codelineno-52-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-52-3"><a id="__codelineno-52-3" name="__codelineno-52-3" href="#__codelineno-52-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-52-4"><a id="__codelineno-52-4" name="__codelineno-52-4" href="#__codelineno-52-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-52-5"><a id="__codelineno-52-5" name="__codelineno-52-5" href="#__codelineno-52-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-52-6"><a id="__codelineno-52-6" name="__codelineno-52-6" href="#__codelineno-52-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-52-7"><a id="__codelineno-52-7" name="__codelineno-52-7" href="#__codelineno-52-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-52-8"><a id="__codelineno-52-8" name="__codelineno-52-8" href="#__codelineno-52-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">t</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Look for and return the next <code>math</code> node following the start node <code>n</code>.</p>
<p>If
the given node is a math end node this helper returns that node, else it follows
the list and returns the next math endnote. If no such node is found <code>nil</code> is
returned.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3293-L3313">lnodelib.c#L3293-L3313</a></li>
</ul>
<h3 id="noderemove">node.remove</h3>
<hr />
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-53-1"><a id="__codelineno-53-1" name="__codelineno-53-1" href="#__codelineno-53-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span>
</span><span id="__span-53-2"><a id="__codelineno-53-2" name="__codelineno-53-2" href="#__codelineno-53-2"></a><span class="w">  </span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-53-3"><a id="__codelineno-53-3" name="__codelineno-53-3" href="#__codelineno-53-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-4"><a id="__codelineno-53-4" name="__codelineno-53-4" href="#__codelineno-53-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-5"><a id="__codelineno-53-5" name="__codelineno-53-5" href="#__codelineno-53-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-53-6"><a id="__codelineno-53-6" name="__codelineno-53-6" href="#__codelineno-53-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-53-7"><a id="__codelineno-53-7" name="__codelineno-53-7" href="#__codelineno-53-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-8"><a id="__codelineno-53-8" name="__codelineno-53-8" href="#__codelineno-53-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-53-9"><a id="__codelineno-53-9" name="__codelineno-53-9" href="#__codelineno-53-9"></a><span class="p">},</span>
</span><span id="__span-53-10"><a id="__codelineno-53-10" name="__codelineno-53-10" href="#__codelineno-53-10"></a><span class="w">  </span><span class="nv">current</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-53-11"><a id="__codelineno-53-11" name="__codelineno-53-11" href="#__codelineno-53-11"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-12"><a id="__codelineno-53-12" name="__codelineno-53-12" href="#__codelineno-53-12"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-13"><a id="__codelineno-53-13" name="__codelineno-53-13" href="#__codelineno-53-13"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-53-14"><a id="__codelineno-53-14" name="__codelineno-53-14" href="#__codelineno-53-14"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-53-15"><a id="__codelineno-53-15" name="__codelineno-53-15" href="#__codelineno-53-15"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-16"><a id="__codelineno-53-16" name="__codelineno-53-16" href="#__codelineno-53-16"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-53-17"><a id="__codelineno-53-17" name="__codelineno-53-17" href="#__codelineno-53-17"></a><span class="p">}</span>
</span><span id="__span-53-18"><a id="__codelineno-53-18" name="__codelineno-53-18" href="#__codelineno-53-18"></a><span class="p">)</span>
</span><span id="__span-53-19"><a id="__codelineno-53-19" name="__codelineno-53-19" href="#__codelineno-53-19"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">head</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-53-20"><a id="__codelineno-53-20" name="__codelineno-53-20" href="#__codelineno-53-20"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-21"><a id="__codelineno-53-21" name="__codelineno-53-21" href="#__codelineno-53-21"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-22"><a id="__codelineno-53-22" name="__codelineno-53-22" href="#__codelineno-53-22"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-53-23"><a id="__codelineno-53-23" name="__codelineno-53-23" href="#__codelineno-53-23"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-53-24"><a id="__codelineno-53-24" name="__codelineno-53-24" href="#__codelineno-53-24"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-53-25"><a id="__codelineno-53-25" name="__codelineno-53-25" href="#__codelineno-53-25"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-53-26"><a id="__codelineno-53-26" name="__codelineno-53-26" href="#__codelineno-53-26"></a><span class="p">}</span>
</span><span id="__span-53-27"><a id="__codelineno-53-27" name="__codelineno-53-27" href="#__codelineno-53-27"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
@param <code>current</code> - A node following the list <code>head</code>.</p>
<p>@return <code>head</code> - The new <code>head</code></p>
<p>@return <code>current</code> - The node following the <code>current</code> in the calling
argument.</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p>Remove the node <code>current</code> from the list following <code>head</code>.</p>
<p>It is your responsibility to make sure it is really part of that list.
The return values are the new <code>head</code> and <code>current</code> nodes. The
returned <code>current</code> is the node following the <code>current</code> in the calling
argument, and is only passed back as a convenience (or <code>nil</code>, if there is
no such node). The returned <code>head</code> is more important, because if the
function is called with <code>current</code> equal to <code>head</code>, it will be
changed.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-54-1"><a id="__codelineno-54-1" name="__codelineno-54-1" href="#__codelineno-54-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">g1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-54-2"><a id="__codelineno-54-2" name="__codelineno-54-2" href="#__codelineno-54-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">g2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-54-3"><a id="__codelineno-54-3" name="__codelineno-54-3" href="#__codelineno-54-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">g3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-54-4"><a id="__codelineno-54-4" name="__codelineno-54-4" href="#__codelineno-54-4"></a>
</span><span id="__span-54-5"><a id="__codelineno-54-5" name="__codelineno-54-5" href="#__codelineno-54-5"></a><span class="nv">g1</span><span class="p">.</span><span class="py">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">g2</span>
</span><span id="__span-54-6"><a id="__codelineno-54-6" name="__codelineno-54-6" href="#__codelineno-54-6"></a><span class="nv">g2</span><span class="p">.</span><span class="py">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">g3</span>
</span><span id="__span-54-7"><a id="__codelineno-54-7" name="__codelineno-54-7" href="#__codelineno-54-7"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">g1</span><span class="p">.</span><span class="py">next</span><span class="p">,</span><span class="w"> </span><span class="nv">g2</span><span class="p">)</span>
</span><span id="__span-54-8"><a id="__codelineno-54-8" name="__codelineno-54-8" href="#__codelineno-54-8"></a>
</span><span id="__span-54-9"><a id="__codelineno-54-9" name="__codelineno-54-9" href="#__codelineno-54-9"></a><span class="kd">local</span><span class="w"> </span><span class="nv">head</span><span class="p">,</span><span class="w"> </span><span class="nv">current</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">remove</span><span class="p">(</span><span class="nv">g1</span><span class="p">,</span><span class="w"> </span><span class="nv">g2</span><span class="p">)</span>
</span><span id="__span-54-10"><a id="__codelineno-54-10" name="__codelineno-54-10" href="#__codelineno-54-10"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">g1</span><span class="p">.</span><span class="py">next</span><span class="p">,</span><span class="w"> </span><span class="nv">g3</span><span class="p">)</span>
</span><span id="__span-54-11"><a id="__codelineno-54-11" name="__codelineno-54-11" href="#__codelineno-54-11"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">head</span><span class="p">,</span><span class="w"> </span><span class="nv">g1</span><span class="p">)</span>
</span><span id="__span-54-12"><a id="__codelineno-54-12" name="__codelineno-54-12" href="#__codelineno-54-12"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">current</span><span class="p">,</span><span class="w"> </span><span class="nv">g3</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/4f2b914d365bab8a2747afe6e8c86d0f1c8475f7/manual/luatex-nodes.tex#L1778-1794">luatex-nodes.tex#L1778-1794</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2176-L2215">lnodelib.c#L2176-L2215</a></li>
</ul>
<h3 id="nodeinsert_before">node.insert_before</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-55-1"><a id="__codelineno-55-1" name="__codelineno-55-1" href="#__codelineno-55-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">insert_before</span><span class="p">(</span>
</span><span id="__span-55-2"><a id="__codelineno-55-2" name="__codelineno-55-2" href="#__codelineno-55-2"></a><span class="w">  </span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-55-3"><a id="__codelineno-55-3" name="__codelineno-55-3" href="#__codelineno-55-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-4"><a id="__codelineno-55-4" name="__codelineno-55-4" href="#__codelineno-55-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-5"><a id="__codelineno-55-5" name="__codelineno-55-5" href="#__codelineno-55-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-6"><a id="__codelineno-55-6" name="__codelineno-55-6" href="#__codelineno-55-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-7"><a id="__codelineno-55-7" name="__codelineno-55-7" href="#__codelineno-55-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-8"><a id="__codelineno-55-8" name="__codelineno-55-8" href="#__codelineno-55-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-55-9"><a id="__codelineno-55-9" name="__codelineno-55-9" href="#__codelineno-55-9"></a><span class="p">},</span>
</span><span id="__span-55-10"><a id="__codelineno-55-10" name="__codelineno-55-10" href="#__codelineno-55-10"></a><span class="w">  </span><span class="nv">current</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-55-11"><a id="__codelineno-55-11" name="__codelineno-55-11" href="#__codelineno-55-11"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-12"><a id="__codelineno-55-12" name="__codelineno-55-12" href="#__codelineno-55-12"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-13"><a id="__codelineno-55-13" name="__codelineno-55-13" href="#__codelineno-55-13"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-14"><a id="__codelineno-55-14" name="__codelineno-55-14" href="#__codelineno-55-14"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-15"><a id="__codelineno-55-15" name="__codelineno-55-15" href="#__codelineno-55-15"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-16"><a id="__codelineno-55-16" name="__codelineno-55-16" href="#__codelineno-55-16"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-55-17"><a id="__codelineno-55-17" name="__codelineno-55-17" href="#__codelineno-55-17"></a><span class="p">},</span>
</span><span id="__span-55-18"><a id="__codelineno-55-18" name="__codelineno-55-18" href="#__codelineno-55-18"></a><span class="w">  </span><span class="nv">new</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-55-19"><a id="__codelineno-55-19" name="__codelineno-55-19" href="#__codelineno-55-19"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-20"><a id="__codelineno-55-20" name="__codelineno-55-20" href="#__codelineno-55-20"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-21"><a id="__codelineno-55-21" name="__codelineno-55-21" href="#__codelineno-55-21"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-22"><a id="__codelineno-55-22" name="__codelineno-55-22" href="#__codelineno-55-22"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-23"><a id="__codelineno-55-23" name="__codelineno-55-23" href="#__codelineno-55-23"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-24"><a id="__codelineno-55-24" name="__codelineno-55-24" href="#__codelineno-55-24"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-55-25"><a id="__codelineno-55-25" name="__codelineno-55-25" href="#__codelineno-55-25"></a><span class="p">}</span>
</span><span id="__span-55-26"><a id="__codelineno-55-26" name="__codelineno-55-26" href="#__codelineno-55-26"></a><span class="p">)</span>
</span><span id="__span-55-27"><a id="__codelineno-55-27" name="__codelineno-55-27" href="#__codelineno-55-27"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">head</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-55-28"><a id="__codelineno-55-28" name="__codelineno-55-28" href="#__codelineno-55-28"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-29"><a id="__codelineno-55-29" name="__codelineno-55-29" href="#__codelineno-55-29"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-30"><a id="__codelineno-55-30" name="__codelineno-55-30" href="#__codelineno-55-30"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-31"><a id="__codelineno-55-31" name="__codelineno-55-31" href="#__codelineno-55-31"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-32"><a id="__codelineno-55-32" name="__codelineno-55-32" href="#__codelineno-55-32"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-33"><a id="__codelineno-55-33" name="__codelineno-55-33" href="#__codelineno-55-33"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-55-34"><a id="__codelineno-55-34" name="__codelineno-55-34" href="#__codelineno-55-34"></a><span class="p">}</span>
</span><span id="__span-55-35"><a id="__codelineno-55-35" name="__codelineno-55-35" href="#__codelineno-55-35"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-55-36"><a id="__codelineno-55-36" name="__codelineno-55-36" href="#__codelineno-55-36"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-37"><a id="__codelineno-55-37" name="__codelineno-55-37" href="#__codelineno-55-37"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-38"><a id="__codelineno-55-38" name="__codelineno-55-38" href="#__codelineno-55-38"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-39"><a id="__codelineno-55-39" name="__codelineno-55-39" href="#__codelineno-55-39"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-55-40"><a id="__codelineno-55-40" name="__codelineno-55-40" href="#__codelineno-55-40"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-55-41"><a id="__codelineno-55-41" name="__codelineno-55-41" href="#__codelineno-55-41"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-55-42"><a id="__codelineno-55-42" name="__codelineno-55-42" href="#__codelineno-55-42"></a><span class="p">}</span>
</span></code></pre></div>
<p>Insert the node <code>new</code> before <code>current</code> into the list
following <code>head</code>.</p>
<p>It is your responsibility to make sure that <code>current</code> is really part of that list. The return values are the (potentially
mutated) <code>head</code> and the node <code>new</code>, set up to be part of the list
(with correct <code>next</code> field). If <code>head</code> is initially <code>nil</code>, it
will become <code>new</code>.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1793-L1807">luatex-nodes.tex#L1793-L1807</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2271-L2315">lnodelib.c#L2271-L2315</a></li>
</ul>
<h3 id="nodeinsert_after">node.insert_after</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-56-1"><a id="__codelineno-56-1" name="__codelineno-56-1" href="#__codelineno-56-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">insert_after</span><span class="p">(</span>
</span><span id="__span-56-2"><a id="__codelineno-56-2" name="__codelineno-56-2" href="#__codelineno-56-2"></a><span class="w">  </span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-56-3"><a id="__codelineno-56-3" name="__codelineno-56-3" href="#__codelineno-56-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-4"><a id="__codelineno-56-4" name="__codelineno-56-4" href="#__codelineno-56-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-5"><a id="__codelineno-56-5" name="__codelineno-56-5" href="#__codelineno-56-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-6"><a id="__codelineno-56-6" name="__codelineno-56-6" href="#__codelineno-56-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-7"><a id="__codelineno-56-7" name="__codelineno-56-7" href="#__codelineno-56-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-8"><a id="__codelineno-56-8" name="__codelineno-56-8" href="#__codelineno-56-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-56-9"><a id="__codelineno-56-9" name="__codelineno-56-9" href="#__codelineno-56-9"></a><span class="p">},</span>
</span><span id="__span-56-10"><a id="__codelineno-56-10" name="__codelineno-56-10" href="#__codelineno-56-10"></a><span class="w">  </span><span class="nv">current</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-56-11"><a id="__codelineno-56-11" name="__codelineno-56-11" href="#__codelineno-56-11"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-12"><a id="__codelineno-56-12" name="__codelineno-56-12" href="#__codelineno-56-12"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-13"><a id="__codelineno-56-13" name="__codelineno-56-13" href="#__codelineno-56-13"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-14"><a id="__codelineno-56-14" name="__codelineno-56-14" href="#__codelineno-56-14"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-15"><a id="__codelineno-56-15" name="__codelineno-56-15" href="#__codelineno-56-15"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-16"><a id="__codelineno-56-16" name="__codelineno-56-16" href="#__codelineno-56-16"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-56-17"><a id="__codelineno-56-17" name="__codelineno-56-17" href="#__codelineno-56-17"></a><span class="p">},</span>
</span><span id="__span-56-18"><a id="__codelineno-56-18" name="__codelineno-56-18" href="#__codelineno-56-18"></a><span class="w">  </span><span class="nv">new</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-56-19"><a id="__codelineno-56-19" name="__codelineno-56-19" href="#__codelineno-56-19"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-20"><a id="__codelineno-56-20" name="__codelineno-56-20" href="#__codelineno-56-20"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-21"><a id="__codelineno-56-21" name="__codelineno-56-21" href="#__codelineno-56-21"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-22"><a id="__codelineno-56-22" name="__codelineno-56-22" href="#__codelineno-56-22"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-23"><a id="__codelineno-56-23" name="__codelineno-56-23" href="#__codelineno-56-23"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-24"><a id="__codelineno-56-24" name="__codelineno-56-24" href="#__codelineno-56-24"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-56-25"><a id="__codelineno-56-25" name="__codelineno-56-25" href="#__codelineno-56-25"></a><span class="p">}</span>
</span><span id="__span-56-26"><a id="__codelineno-56-26" name="__codelineno-56-26" href="#__codelineno-56-26"></a><span class="p">)</span>
</span><span id="__span-56-27"><a id="__codelineno-56-27" name="__codelineno-56-27" href="#__codelineno-56-27"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">head</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-56-28"><a id="__codelineno-56-28" name="__codelineno-56-28" href="#__codelineno-56-28"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-29"><a id="__codelineno-56-29" name="__codelineno-56-29" href="#__codelineno-56-29"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-30"><a id="__codelineno-56-30" name="__codelineno-56-30" href="#__codelineno-56-30"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-31"><a id="__codelineno-56-31" name="__codelineno-56-31" href="#__codelineno-56-31"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-32"><a id="__codelineno-56-32" name="__codelineno-56-32" href="#__codelineno-56-32"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-33"><a id="__codelineno-56-33" name="__codelineno-56-33" href="#__codelineno-56-33"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-56-34"><a id="__codelineno-56-34" name="__codelineno-56-34" href="#__codelineno-56-34"></a><span class="p">}</span>
</span><span id="__span-56-35"><a id="__codelineno-56-35" name="__codelineno-56-35" href="#__codelineno-56-35"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">new</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-56-36"><a id="__codelineno-56-36" name="__codelineno-56-36" href="#__codelineno-56-36"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-37"><a id="__codelineno-56-37" name="__codelineno-56-37" href="#__codelineno-56-37"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-38"><a id="__codelineno-56-38" name="__codelineno-56-38" href="#__codelineno-56-38"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-39"><a id="__codelineno-56-39" name="__codelineno-56-39" href="#__codelineno-56-39"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-56-40"><a id="__codelineno-56-40" name="__codelineno-56-40" href="#__codelineno-56-40"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-56-41"><a id="__codelineno-56-41" name="__codelineno-56-41" href="#__codelineno-56-41"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-56-42"><a id="__codelineno-56-42" name="__codelineno-56-42" href="#__codelineno-56-42"></a><span class="p">}</span>
</span></code></pre></div>
<p>Insert the node <code>new</code> after <code>current</code> into the list
following <code>head</code>.</p>
<p>It is your responsibility to make sure that <code>current</code> is really part of that list. The return values are the <code>head</code> and
the node <code>new</code>, set up to be part of the list (with correct <code>next</code>
field). If <code>head</code> is initially <code>nil</code>, it will become <code>new</code>.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1809-L1822">luatex-nodes.tex#L1809-L1822</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2361-L2395">lnodelib.c#L2361-L2395</a></li>
</ul>
<h3 id="nodefirst_glyph">node.first_glyph</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-57-1"><a id="__codelineno-57-1" name="__codelineno-57-1" href="#__codelineno-57-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">first_glyph</span><span class="p">(</span>
</span><span id="__span-57-2"><a id="__codelineno-57-2" name="__codelineno-57-2" href="#__codelineno-57-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-57-3"><a id="__codelineno-57-3" name="__codelineno-57-3" href="#__codelineno-57-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-57-4"><a id="__codelineno-57-4" name="__codelineno-57-4" href="#__codelineno-57-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-57-5"><a id="__codelineno-57-5" name="__codelineno-57-5" href="#__codelineno-57-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-57-6"><a id="__codelineno-57-6" name="__codelineno-57-6" href="#__codelineno-57-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-57-7"><a id="__codelineno-57-7" name="__codelineno-57-7" href="#__codelineno-57-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-57-8"><a id="__codelineno-57-8" name="__codelineno-57-8" href="#__codelineno-57-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-57-9"><a id="__codelineno-57-9" name="__codelineno-57-9" href="#__codelineno-57-9"></a><span class="p">},</span>
</span><span id="__span-57-10"><a id="__codelineno-57-10" name="__codelineno-57-10" href="#__codelineno-57-10"></a><span class="w">  </span><span class="nv">m</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-57-11"><a id="__codelineno-57-11" name="__codelineno-57-11" href="#__codelineno-57-11"></a><span class="p">)</span>
</span><span id="__span-57-12"><a id="__codelineno-57-12" name="__codelineno-57-12" href="#__codelineno-57-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span><span id="__span-57-13"><a id="__codelineno-57-13" name="__codelineno-57-13" href="#__codelineno-57-13"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="nv">boolean</span>
</span></code></pre></div>
<p>Return the first node in the list starting at <code>n</code> that is a glyph node
with a subtype indicating it is a glyph, or <code>nil</code>.</p>
<p>If <code>m</code> is given,
processing stops at (but including) that node, otherwise processing stops at the
end of the list.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6312-L6337">lnodelib.c#L6312-L6337</a></li>
</ul>
<h3 id="nodeligaturing">node.ligaturing</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-58-1"><a id="__codelineno-58-1" name="__codelineno-58-1" href="#__codelineno-58-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">ligaturing</span><span class="p">(</span>
</span><span id="__span-58-2"><a id="__codelineno-58-2" name="__codelineno-58-2" href="#__codelineno-58-2"></a><span class="w">  </span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-58-3"><a id="__codelineno-58-3" name="__codelineno-58-3" href="#__codelineno-58-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-4"><a id="__codelineno-58-4" name="__codelineno-58-4" href="#__codelineno-58-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-5"><a id="__codelineno-58-5" name="__codelineno-58-5" href="#__codelineno-58-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-58-6"><a id="__codelineno-58-6" name="__codelineno-58-6" href="#__codelineno-58-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-58-7"><a id="__codelineno-58-7" name="__codelineno-58-7" href="#__codelineno-58-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-8"><a id="__codelineno-58-8" name="__codelineno-58-8" href="#__codelineno-58-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-58-9"><a id="__codelineno-58-9" name="__codelineno-58-9" href="#__codelineno-58-9"></a><span class="p">},</span>
</span><span id="__span-58-10"><a id="__codelineno-58-10" name="__codelineno-58-10" href="#__codelineno-58-10"></a><span class="w">  </span><span class="nv">tail</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-58-11"><a id="__codelineno-58-11" name="__codelineno-58-11" href="#__codelineno-58-11"></a><span class="p">)</span>
</span><span id="__span-58-12"><a id="__codelineno-58-12" name="__codelineno-58-12" href="#__codelineno-58-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">head</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-58-13"><a id="__codelineno-58-13" name="__codelineno-58-13" href="#__codelineno-58-13"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-14"><a id="__codelineno-58-14" name="__codelineno-58-14" href="#__codelineno-58-14"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-15"><a id="__codelineno-58-15" name="__codelineno-58-15" href="#__codelineno-58-15"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-58-16"><a id="__codelineno-58-16" name="__codelineno-58-16" href="#__codelineno-58-16"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-58-17"><a id="__codelineno-58-17" name="__codelineno-58-17" href="#__codelineno-58-17"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-18"><a id="__codelineno-58-18" name="__codelineno-58-18" href="#__codelineno-58-18"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-58-19"><a id="__codelineno-58-19" name="__codelineno-58-19" href="#__codelineno-58-19"></a><span class="p">}</span>
</span><span id="__span-58-20"><a id="__codelineno-58-20" name="__codelineno-58-20" href="#__codelineno-58-20"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">tail</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-58-21"><a id="__codelineno-58-21" name="__codelineno-58-21" href="#__codelineno-58-21"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-22"><a id="__codelineno-58-22" name="__codelineno-58-22" href="#__codelineno-58-22"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-23"><a id="__codelineno-58-23" name="__codelineno-58-23" href="#__codelineno-58-23"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-58-24"><a id="__codelineno-58-24" name="__codelineno-58-24" href="#__codelineno-58-24"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-58-25"><a id="__codelineno-58-25" name="__codelineno-58-25" href="#__codelineno-58-25"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-58-26"><a id="__codelineno-58-26" name="__codelineno-58-26" href="#__codelineno-58-26"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-58-27"><a id="__codelineno-58-27" name="__codelineno-58-27" href="#__codelineno-58-27"></a><span class="p">}</span>
</span><span id="__span-58-28"><a id="__codelineno-58-28" name="__codelineno-58-28" href="#__codelineno-58-28"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="nv">boolean</span>
</span></code></pre></div>
<p>@return <code>head</code> - the new head</p>
<p>@return <code>tail</code> - the new tail (both <code>head</code> and <code>tail</code> can change into a new ligature)</p>
<p>Apply <em>TeX</em>-style ligaturing to the specified nodelist.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L5945-L5984">lnodelib.c#L5945-L5984</a></li>
</ul>
<h3 id="nodekerning">node.kerning</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-59-1"><a id="__codelineno-59-1" name="__codelineno-59-1" href="#__codelineno-59-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">kerning</span><span class="p">(</span>
</span><span id="__span-59-2"><a id="__codelineno-59-2" name="__codelineno-59-2" href="#__codelineno-59-2"></a><span class="w">  </span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-59-3"><a id="__codelineno-59-3" name="__codelineno-59-3" href="#__codelineno-59-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-4"><a id="__codelineno-59-4" name="__codelineno-59-4" href="#__codelineno-59-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-5"><a id="__codelineno-59-5" name="__codelineno-59-5" href="#__codelineno-59-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-59-6"><a id="__codelineno-59-6" name="__codelineno-59-6" href="#__codelineno-59-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-59-7"><a id="__codelineno-59-7" name="__codelineno-59-7" href="#__codelineno-59-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-8"><a id="__codelineno-59-8" name="__codelineno-59-8" href="#__codelineno-59-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-59-9"><a id="__codelineno-59-9" name="__codelineno-59-9" href="#__codelineno-59-9"></a><span class="p">},</span>
</span><span id="__span-59-10"><a id="__codelineno-59-10" name="__codelineno-59-10" href="#__codelineno-59-10"></a><span class="w">  </span><span class="nv">tail</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-59-11"><a id="__codelineno-59-11" name="__codelineno-59-11" href="#__codelineno-59-11"></a><span class="p">)</span>
</span><span id="__span-59-12"><a id="__codelineno-59-12" name="__codelineno-59-12" href="#__codelineno-59-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">head</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-59-13"><a id="__codelineno-59-13" name="__codelineno-59-13" href="#__codelineno-59-13"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-14"><a id="__codelineno-59-14" name="__codelineno-59-14" href="#__codelineno-59-14"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-15"><a id="__codelineno-59-15" name="__codelineno-59-15" href="#__codelineno-59-15"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-59-16"><a id="__codelineno-59-16" name="__codelineno-59-16" href="#__codelineno-59-16"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-59-17"><a id="__codelineno-59-17" name="__codelineno-59-17" href="#__codelineno-59-17"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-18"><a id="__codelineno-59-18" name="__codelineno-59-18" href="#__codelineno-59-18"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-59-19"><a id="__codelineno-59-19" name="__codelineno-59-19" href="#__codelineno-59-19"></a><span class="p">}</span>
</span><span id="__span-59-20"><a id="__codelineno-59-20" name="__codelineno-59-20" href="#__codelineno-59-20"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">tail</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-59-21"><a id="__codelineno-59-21" name="__codelineno-59-21" href="#__codelineno-59-21"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-22"><a id="__codelineno-59-22" name="__codelineno-59-22" href="#__codelineno-59-22"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-23"><a id="__codelineno-59-23" name="__codelineno-59-23" href="#__codelineno-59-23"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-59-24"><a id="__codelineno-59-24" name="__codelineno-59-24" href="#__codelineno-59-24"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-59-25"><a id="__codelineno-59-25" name="__codelineno-59-25" href="#__codelineno-59-25"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-59-26"><a id="__codelineno-59-26" name="__codelineno-59-26" href="#__codelineno-59-26"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-59-27"><a id="__codelineno-59-27" name="__codelineno-59-27" href="#__codelineno-59-27"></a><span class="p">}</span>
</span><span id="__span-59-28"><a id="__codelineno-59-28" name="__codelineno-59-28" href="#__codelineno-59-28"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">success</span><span class="w"> </span><span class="nv">boolean</span>
</span></code></pre></div>
<p>@return <code>head</code> - the new head (can be an inserted kern node, because special kernings with word boundaries are possible).</p>
<p>@return <code>tail</code> - the new tail (can be an inserted kern node, because special kernings with word boundaries are possible).</p>
<p>Apply <em>TeX</em>-style kerning to the specified node list.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6021-L6060">lnodelib.c#L6021-L6060</a></li>
</ul>
<h3 id="nodeunprotect_glyph">node.unprotect_glyph</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-60-1"><a id="__codelineno-60-1" name="__codelineno-60-1" href="#__codelineno-60-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">unprotect_glyph</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-60-2"><a id="__codelineno-60-2" name="__codelineno-60-2" href="#__codelineno-60-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-60-3"><a id="__codelineno-60-3" name="__codelineno-60-3" href="#__codelineno-60-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-60-4"><a id="__codelineno-60-4" name="__codelineno-60-4" href="#__codelineno-60-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-60-5"><a id="__codelineno-60-5" name="__codelineno-60-5" href="#__codelineno-60-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-60-6"><a id="__codelineno-60-6" name="__codelineno-60-6" href="#__codelineno-60-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-60-7"><a id="__codelineno-60-7" name="__codelineno-60-7" href="#__codelineno-60-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-60-8"><a id="__codelineno-60-8" name="__codelineno-60-8" href="#__codelineno-60-8"></a><span class="p">})</span>
</span></code></pre></div>
<p>Convert from <code>characters</code> to <code>glyphs</code> during node
processing by subtracting <code>256</code> from all glyph node subtypes.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6217-L6223">lnodelib.c#L6217-L6223</a></li>
</ul>
<h3 id="nodeunprotect_glyphs">node.unprotect_glyphs</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-61-1"><a id="__codelineno-61-1" name="__codelineno-61-1" href="#__codelineno-61-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">unprotect_glyphs</span><span class="p">(</span>
</span><span id="__span-61-2"><a id="__codelineno-61-2" name="__codelineno-61-2" href="#__codelineno-61-2"></a><span class="w">  </span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-61-3"><a id="__codelineno-61-3" name="__codelineno-61-3" href="#__codelineno-61-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-61-4"><a id="__codelineno-61-4" name="__codelineno-61-4" href="#__codelineno-61-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-61-5"><a id="__codelineno-61-5" name="__codelineno-61-5" href="#__codelineno-61-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-61-6"><a id="__codelineno-61-6" name="__codelineno-61-6" href="#__codelineno-61-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-61-7"><a id="__codelineno-61-7" name="__codelineno-61-7" href="#__codelineno-61-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-61-8"><a id="__codelineno-61-8" name="__codelineno-61-8" href="#__codelineno-61-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-61-9"><a id="__codelineno-61-9" name="__codelineno-61-9" href="#__codelineno-61-9"></a><span class="p">},</span>
</span><span id="__span-61-10"><a id="__codelineno-61-10" name="__codelineno-61-10" href="#__codelineno-61-10"></a><span class="w">  </span><span class="nv">tail</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-61-11"><a id="__codelineno-61-11" name="__codelineno-61-11" href="#__codelineno-61-11"></a><span class="p">)</span>
</span></code></pre></div>
<p>Convert from <code>characters</code> to <code>glyphs</code> during node
processing by subtracting <code>256</code> from the glyph node subtype.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6243-L6259">lnodelib.c#L6243-L6259</a></li>
</ul>
<h3 id="nodeprotect_glyph">node.protect_glyph</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-62-1"><a id="__codelineno-62-1" name="__codelineno-62-1" href="#__codelineno-62-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">protect_glyph</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-62-2"><a id="__codelineno-62-2" name="__codelineno-62-2" href="#__codelineno-62-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-62-3"><a id="__codelineno-62-3" name="__codelineno-62-3" href="#__codelineno-62-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-62-4"><a id="__codelineno-62-4" name="__codelineno-62-4" href="#__codelineno-62-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-62-5"><a id="__codelineno-62-5" name="__codelineno-62-5" href="#__codelineno-62-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-62-6"><a id="__codelineno-62-6" name="__codelineno-62-6" href="#__codelineno-62-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-62-7"><a id="__codelineno-62-7" name="__codelineno-62-7" href="#__codelineno-62-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-62-8"><a id="__codelineno-62-8" name="__codelineno-62-8" href="#__codelineno-62-8"></a><span class="p">})</span>
</span></code></pre></div>
<p>Add <code>256</code> to the <code>glyph</code> node subtype
except that if the value is <code>1</code>, add only <code>255</code>.</p>
<p>The special handling of <code>1</code> means
that <code>characters</code> will become <code>glyphs</code> after subtraction of <code>256</code>.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6209-L6215">lnodelib.c#L6209-L6215</a></li>
</ul>
<h3 id="nodeprotect_glyphs">node.protect_glyphs</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-63-1"><a id="__codelineno-63-1" name="__codelineno-63-1" href="#__codelineno-63-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">protect_glyphs</span><span class="p">(</span>
</span><span id="__span-63-2"><a id="__codelineno-63-2" name="__codelineno-63-2" href="#__codelineno-63-2"></a><span class="w">  </span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-63-3"><a id="__codelineno-63-3" name="__codelineno-63-3" href="#__codelineno-63-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-63-4"><a id="__codelineno-63-4" name="__codelineno-63-4" href="#__codelineno-63-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-63-5"><a id="__codelineno-63-5" name="__codelineno-63-5" href="#__codelineno-63-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-63-6"><a id="__codelineno-63-6" name="__codelineno-63-6" href="#__codelineno-63-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-63-7"><a id="__codelineno-63-7" name="__codelineno-63-7" href="#__codelineno-63-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-63-8"><a id="__codelineno-63-8" name="__codelineno-63-8" href="#__codelineno-63-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-63-9"><a id="__codelineno-63-9" name="__codelineno-63-9" href="#__codelineno-63-9"></a><span class="p">},</span>
</span><span id="__span-63-10"><a id="__codelineno-63-10" name="__codelineno-63-10" href="#__codelineno-63-10"></a><span class="w">  </span><span class="nv">tail</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-63-11"><a id="__codelineno-63-11" name="__codelineno-63-11" href="#__codelineno-63-11"></a><span class="p">)</span>
</span></code></pre></div>
<p>Add <code>256</code> to all <code>glyph</code> node subtypes in the node list starting at <code>head</code>,
except that if the value is <code>1</code>, add only <code>255</code>.</p>
<p>The special handling of <code>1</code> means
that <code>characters</code> will become <code>glyphs</code> after subtraction of <code>256</code>.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6225-L6241">lnodelib.c#L6225-L6241</a></li>
</ul>
<h3 id="nodelast_node">node.last_node</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-64-1"><a id="__codelineno-64-1" name="__codelineno-64-1" href="#__codelineno-64-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">last_node</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Pop the last node from <em>TeX</em>'s “current list”.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2556-L2563">lnodelib.c#L2556-L2563</a></li>
</ul>
<h3 id="nodewrite">node.write</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-65-1"><a id="__codelineno-65-1" name="__codelineno-65-1" href="#__codelineno-65-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">write</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-65-2"><a id="__codelineno-65-2" name="__codelineno-65-2" href="#__codelineno-65-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-65-3"><a id="__codelineno-65-3" name="__codelineno-65-3" href="#__codelineno-65-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-65-4"><a id="__codelineno-65-4" name="__codelineno-65-4" href="#__codelineno-65-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-65-5"><a id="__codelineno-65-5" name="__codelineno-65-5" href="#__codelineno-65-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-65-6"><a id="__codelineno-65-6" name="__codelineno-65-6" href="#__codelineno-65-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-65-7"><a id="__codelineno-65-7" name="__codelineno-65-7" href="#__codelineno-65-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-65-8"><a id="__codelineno-65-8" name="__codelineno-65-8" href="#__codelineno-65-8"></a><span class="p">})</span>
</span></code></pre></div>
<p>Append a node list to <em>TeX</em>'s “current list”.</p>
<p>The
node list is not deep-copied! There is no error checking either! You mignt need
to enforce horizontal mode in order for this to work as expected.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L2518-L2521">luatex-nodes.tex#L2518-L2521</a>, <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L1913-L1923">luatex-nodes.tex#L1913-L1923</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2505-L2525">lnodelib.c#L2505-L2525</a></li>
</ul>
<h3 id="nodeprotrusion_skippable">node.protrusion_skippable</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-66-1"><a id="__codelineno-66-1" name="__codelineno-66-1" href="#__codelineno-66-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">protrusion_skippable</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-66-2"><a id="__codelineno-66-2" name="__codelineno-66-2" href="#__codelineno-66-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-66-3"><a id="__codelineno-66-3" name="__codelineno-66-3" href="#__codelineno-66-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-66-4"><a id="__codelineno-66-4" name="__codelineno-66-4" href="#__codelineno-66-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-66-5"><a id="__codelineno-66-5" name="__codelineno-66-5" href="#__codelineno-66-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-66-6"><a id="__codelineno-66-6" name="__codelineno-66-6" href="#__codelineno-66-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-66-7"><a id="__codelineno-66-7" name="__codelineno-66-7" href="#__codelineno-66-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-66-8"><a id="__codelineno-66-8" name="__codelineno-66-8" href="#__codelineno-66-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">skippable</span><span class="w"> </span><span class="nv">boolean</span>
</span></code></pre></div>
<p>Return <code>true</code> if, for the purpose of line boundary discovery when
character protrusion is active, this node can be skipped.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6488-L6493">lnodelib.c#L6488-L6493</a></li>
</ul>
<h3 id="nodesetglue">node.setglue</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-67-1"><a id="__codelineno-67-1" name="__codelineno-67-1" href="#__codelineno-67-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">setglue</span><span class="p">(</span>
</span><span id="__span-67-2"><a id="__codelineno-67-2" name="__codelineno-67-2" href="#__codelineno-67-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-67-3"><a id="__codelineno-67-3" name="__codelineno-67-3" href="#__codelineno-67-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-67-4"><a id="__codelineno-67-4" name="__codelineno-67-4" href="#__codelineno-67-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-67-5"><a id="__codelineno-67-5" name="__codelineno-67-5" href="#__codelineno-67-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-67-6"><a id="__codelineno-67-6" name="__codelineno-67-6" href="#__codelineno-67-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-67-7"><a id="__codelineno-67-7" name="__codelineno-67-7" href="#__codelineno-67-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-67-8"><a id="__codelineno-67-8" name="__codelineno-67-8" href="#__codelineno-67-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-67-9"><a id="__codelineno-67-9" name="__codelineno-67-9" href="#__codelineno-67-9"></a><span class="p">},</span>
</span><span id="__span-67-10"><a id="__codelineno-67-10" name="__codelineno-67-10" href="#__codelineno-67-10"></a><span class="w">  </span><span class="nv">width</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">integer</span><span class="o">|</span><span class="nv">any</span><span class="p">),</span>
</span><span id="__span-67-11"><a id="__codelineno-67-11" name="__codelineno-67-11" href="#__codelineno-67-11"></a><span class="w">  </span><span class="nv">stretch</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">integer</span><span class="o">|</span><span class="nv">any</span><span class="p">),</span>
</span><span id="__span-67-12"><a id="__codelineno-67-12" name="__codelineno-67-12" href="#__codelineno-67-12"></a><span class="w">  </span><span class="nv">shrink</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">integer</span><span class="o">|</span><span class="nv">any</span><span class="p">),</span>
</span><span id="__span-67-13"><a id="__codelineno-67-13" name="__codelineno-67-13" href="#__codelineno-67-13"></a><span class="w">  </span><span class="nv">stretch_order</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">integer</span><span class="o">|</span><span class="nv">any</span><span class="p">),</span>
</span><span id="__span-67-14"><a id="__codelineno-67-14" name="__codelineno-67-14" href="#__codelineno-67-14"></a><span class="w">  </span><span class="nv">shrink_order</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">integer</span><span class="o">|</span><span class="nv">any</span><span class="p">)</span>
</span><span id="__span-67-15"><a id="__codelineno-67-15" name="__codelineno-67-15" href="#__codelineno-67-15"></a><span class="p">)</span>
</span></code></pre></div>
<p>Set the five properties of a <code>glue</code> node in one go.</p>
<p>Non-numeric values are
equivalent to zero and reset a property.</p>
<p>When you pass values, only arguments that are numbers are assigned so</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-68-1"><a id="__codelineno-68-1" name="__codelineno-68-1" href="#__codelineno-68-1"></a>node.setglue(n,655360,false,65536)
</span></code></pre></div>
<p>will only adapt the width and shrink.</p>
<p>When a list node is passed, you set the glue, order and sign instead.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3862-L3883">lnodelib.c#L3862-L3883</a></li>
</ul>
<h3 id="nodegetglue">node.getglue</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-69-1"><a id="__codelineno-69-1" name="__codelineno-69-1" href="#__codelineno-69-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getglue</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-69-2"><a id="__codelineno-69-2" name="__codelineno-69-2" href="#__codelineno-69-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-69-3"><a id="__codelineno-69-3" name="__codelineno-69-3" href="#__codelineno-69-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-69-4"><a id="__codelineno-69-4" name="__codelineno-69-4" href="#__codelineno-69-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-69-5"><a id="__codelineno-69-5" name="__codelineno-69-5" href="#__codelineno-69-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-69-6"><a id="__codelineno-69-6" name="__codelineno-69-6" href="#__codelineno-69-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-69-7"><a id="__codelineno-69-7" name="__codelineno-69-7" href="#__codelineno-69-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-69-8"><a id="__codelineno-69-8" name="__codelineno-69-8" href="#__codelineno-69-8"></a><span class="p">})</span>
</span><span id="__span-69-9"><a id="__codelineno-69-9" name="__codelineno-69-9" href="#__codelineno-69-9"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nf">width_or_glue_set</span><span class="w"> </span><span class="p">(</span><span class="nv">integer</span><span class="o">|</span><span class="nv">number</span><span class="p">)</span><span class="err">?</span>
</span><span id="__span-69-10"><a id="__codelineno-69-10" name="__codelineno-69-10" href="#__codelineno-69-10"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">stretch_or_glue_order</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span><span id="__span-69-11"><a id="__codelineno-69-11" name="__codelineno-69-11" href="#__codelineno-69-11"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">shrink_or_glue_sign</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span><span id="__span-69-12"><a id="__codelineno-69-12" name="__codelineno-69-12" href="#__codelineno-69-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">stretch_order</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span><span id="__span-69-13"><a id="__codelineno-69-13" name="__codelineno-69-13" href="#__codelineno-69-13"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">shrink_order</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span></code></pre></div>
<p>@return <code>width_or_glue_set</code> - When a list node (<code>vlist</code> or <code>hlist</code>) is passed, than the glue set is returned.</p>
<p>@return <code>stretch_or_glue_order</code> - When a list node (<code>vlist</code> or <code>hlist</code>) is passed, than the glue order is returned.</p>
<p>@return <code>shrink_or_glue_sign</code> - When a list node (<code>vlist</code> or <code>hlist</code>) is passed, than the glue sign is returned.</p>
<p>Return 5 values or nothing when no glue is passed.</p>
<p>When the second argument is false, only the width is returned (this is consistent
with <code>tex.get</code>).</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3840-L3860">lnodelib.c#L3840-L3860</a></li>
</ul>
<h3 id="nodeis_zero_glue">node.is_zero_glue</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-70-1"><a id="__codelineno-70-1" name="__codelineno-70-1" href="#__codelineno-70-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">is_zero_glue</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-70-2"><a id="__codelineno-70-2" name="__codelineno-70-2" href="#__codelineno-70-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-70-3"><a id="__codelineno-70-3" name="__codelineno-70-3" href="#__codelineno-70-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-70-4"><a id="__codelineno-70-4" name="__codelineno-70-4" href="#__codelineno-70-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-70-5"><a id="__codelineno-70-5" name="__codelineno-70-5" href="#__codelineno-70-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-70-6"><a id="__codelineno-70-6" name="__codelineno-70-6" href="#__codelineno-70-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-70-7"><a id="__codelineno-70-7" name="__codelineno-70-7" href="#__codelineno-70-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-70-8"><a id="__codelineno-70-8" name="__codelineno-70-8" href="#__codelineno-70-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">isglue</span><span class="w"> </span><span class="nv">boolean</span>
</span></code></pre></div>
<p>Return <code>true</code> when the width, stretch and shrink properties
are zero.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3885-L3899">lnodelib.c#L3885-L3899</a></li>
</ul>
<h3 id="nodehas_attribute">node.has_attribute</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-71-1"><a id="__codelineno-71-1" name="__codelineno-71-1" href="#__codelineno-71-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">has_attribute</span><span class="p">(</span>
</span><span id="__span-71-2"><a id="__codelineno-71-2" name="__codelineno-71-2" href="#__codelineno-71-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-71-3"><a id="__codelineno-71-3" name="__codelineno-71-3" href="#__codelineno-71-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-71-4"><a id="__codelineno-71-4" name="__codelineno-71-4" href="#__codelineno-71-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-71-5"><a id="__codelineno-71-5" name="__codelineno-71-5" href="#__codelineno-71-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-71-6"><a id="__codelineno-71-6" name="__codelineno-71-6" href="#__codelineno-71-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-71-7"><a id="__codelineno-71-7" name="__codelineno-71-7" href="#__codelineno-71-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-71-8"><a id="__codelineno-71-8" name="__codelineno-71-8" href="#__codelineno-71-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-71-9"><a id="__codelineno-71-9" name="__codelineno-71-9" href="#__codelineno-71-9"></a><span class="p">},</span>
</span><span id="__span-71-10"><a id="__codelineno-71-10" name="__codelineno-71-10" href="#__codelineno-71-10"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-71-11"><a id="__codelineno-71-11" name="__codelineno-71-11" href="#__codelineno-71-11"></a><span class="w">  </span><span class="nv">value</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="err">?</span>
</span><span id="__span-71-12"><a id="__codelineno-71-12" name="__codelineno-71-12" href="#__codelineno-71-12"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span></code></pre></div>
<p>Test if a node has the attribute with number <code>id</code> set.</p>
<p>If <code>value</code> is
also supplied, also tests if the value matches <code>value</code>. It returns the value,
or, if no match is found, <code>nil</code>.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3339-L3353">lnodelib.c#L3339-L3353</a></li>
</ul>
<h3 id="nodeget_attribute">node.get_attribute</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-72-1"><a id="__codelineno-72-1" name="__codelineno-72-1" href="#__codelineno-72-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">get_attribute</span><span class="p">(</span>
</span><span id="__span-72-2"><a id="__codelineno-72-2" name="__codelineno-72-2" href="#__codelineno-72-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-72-3"><a id="__codelineno-72-3" name="__codelineno-72-3" href="#__codelineno-72-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-72-4"><a id="__codelineno-72-4" name="__codelineno-72-4" href="#__codelineno-72-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-72-5"><a id="__codelineno-72-5" name="__codelineno-72-5" href="#__codelineno-72-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-72-6"><a id="__codelineno-72-6" name="__codelineno-72-6" href="#__codelineno-72-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-72-7"><a id="__codelineno-72-7" name="__codelineno-72-7" href="#__codelineno-72-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-72-8"><a id="__codelineno-72-8" name="__codelineno-72-8" href="#__codelineno-72-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-72-9"><a id="__codelineno-72-9" name="__codelineno-72-9" href="#__codelineno-72-9"></a><span class="p">},</span>
</span><span id="__span-72-10"><a id="__codelineno-72-10" name="__codelineno-72-10" href="#__codelineno-72-10"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span>
</span><span id="__span-72-11"><a id="__codelineno-72-11" name="__codelineno-72-11" href="#__codelineno-72-11"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span></code></pre></div>
<p>Test if a node has an attribute with number <code>id</code> set.</p>
<p>It returns the
value, or, if no match is found, <code>nil</code>. If no <code>id</code> is given then the
zero attributes is assumed.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3375-L3406">lnodelib.c#L3375-L3406</a></li>
</ul>
<h3 id="nodefind_attribute">node.find_attribute</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-73-1"><a id="__codelineno-73-1" name="__codelineno-73-1" href="#__codelineno-73-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">find_attribute</span><span class="p">(</span>
</span><span id="__span-73-2"><a id="__codelineno-73-2" name="__codelineno-73-2" href="#__codelineno-73-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-73-3"><a id="__codelineno-73-3" name="__codelineno-73-3" href="#__codelineno-73-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-73-4"><a id="__codelineno-73-4" name="__codelineno-73-4" href="#__codelineno-73-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-73-5"><a id="__codelineno-73-5" name="__codelineno-73-5" href="#__codelineno-73-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-73-6"><a id="__codelineno-73-6" name="__codelineno-73-6" href="#__codelineno-73-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-73-7"><a id="__codelineno-73-7" name="__codelineno-73-7" href="#__codelineno-73-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-73-8"><a id="__codelineno-73-8" name="__codelineno-73-8" href="#__codelineno-73-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-73-9"><a id="__codelineno-73-9" name="__codelineno-73-9" href="#__codelineno-73-9"></a><span class="p">},</span>
</span><span id="__span-73-10"><a id="__codelineno-73-10" name="__codelineno-73-10" href="#__codelineno-73-10"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span>
</span><span id="__span-73-11"><a id="__codelineno-73-11" name="__codelineno-73-11" href="#__codelineno-73-11"></a><span class="p">)</span>
</span><span id="__span-73-12"><a id="__codelineno-73-12" name="__codelineno-73-12" href="#__codelineno-73-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span><span id="__span-73-13"><a id="__codelineno-73-13" name="__codelineno-73-13" href="#__codelineno-73-13"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Find the first node that has attribute with number <code>id</code> set.</p>
<p>It returns
the value and the node if there is a match and otherwise nothing.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3408-L3443">lnodelib.c#L3408-L3443</a></li>
</ul>
<h3 id="nodeset_attribute">node.set_attribute</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-74-1"><a id="__codelineno-74-1" name="__codelineno-74-1" href="#__codelineno-74-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">set_attribute</span><span class="p">(</span>
</span><span id="__span-74-2"><a id="__codelineno-74-2" name="__codelineno-74-2" href="#__codelineno-74-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-74-3"><a id="__codelineno-74-3" name="__codelineno-74-3" href="#__codelineno-74-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-74-4"><a id="__codelineno-74-4" name="__codelineno-74-4" href="#__codelineno-74-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-74-5"><a id="__codelineno-74-5" name="__codelineno-74-5" href="#__codelineno-74-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-74-6"><a id="__codelineno-74-6" name="__codelineno-74-6" href="#__codelineno-74-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-74-7"><a id="__codelineno-74-7" name="__codelineno-74-7" href="#__codelineno-74-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-74-8"><a id="__codelineno-74-8" name="__codelineno-74-8" href="#__codelineno-74-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-74-9"><a id="__codelineno-74-9" name="__codelineno-74-9" href="#__codelineno-74-9"></a><span class="p">},</span>
</span><span id="__span-74-10"><a id="__codelineno-74-10" name="__codelineno-74-10" href="#__codelineno-74-10"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-74-11"><a id="__codelineno-74-11" name="__codelineno-74-11" href="#__codelineno-74-11"></a><span class="w">  </span><span class="nv">value</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="err">?</span>
</span><span id="__span-74-12"><a id="__codelineno-74-12" name="__codelineno-74-12" href="#__codelineno-74-12"></a><span class="p">)</span>
</span></code></pre></div>
<p>Set the attribute with number <code>id</code> to the value <code>value</code>.</p>
<p>Duplicate
assignments are ignored.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3563-L3578">lnodelib.c#L3563-L3578</a></li>
</ul>
<h3 id="nodeunset_attribute">node.unset_attribute</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-75-1"><a id="__codelineno-75-1" name="__codelineno-75-1" href="#__codelineno-75-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">unset_attribute</span><span class="p">(</span>
</span><span id="__span-75-2"><a id="__codelineno-75-2" name="__codelineno-75-2" href="#__codelineno-75-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-75-3"><a id="__codelineno-75-3" name="__codelineno-75-3" href="#__codelineno-75-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-75-4"><a id="__codelineno-75-4" name="__codelineno-75-4" href="#__codelineno-75-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-75-5"><a id="__codelineno-75-5" name="__codelineno-75-5" href="#__codelineno-75-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-75-6"><a id="__codelineno-75-6" name="__codelineno-75-6" href="#__codelineno-75-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-75-7"><a id="__codelineno-75-7" name="__codelineno-75-7" href="#__codelineno-75-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-75-8"><a id="__codelineno-75-8" name="__codelineno-75-8" href="#__codelineno-75-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-75-9"><a id="__codelineno-75-9" name="__codelineno-75-9" href="#__codelineno-75-9"></a><span class="p">},</span>
</span><span id="__span-75-10"><a id="__codelineno-75-10" name="__codelineno-75-10" href="#__codelineno-75-10"></a><span class="w">  </span><span class="nv">id</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-75-11"><a id="__codelineno-75-11" name="__codelineno-75-11" href="#__codelineno-75-11"></a><span class="w">  </span><span class="nv">value</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="err">?</span>
</span><span id="__span-75-12"><a id="__codelineno-75-12" name="__codelineno-75-12" href="#__codelineno-75-12"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span></code></pre></div>
<p>Unset the attribute with the number <code>id</code>.</p>
<p>If <code>value</code> is also supplied, it
will only perform this operation if the value matches <code>value</code>. Missing
attributes or attribute-value pairs are ignored.</p>
<p>If the attribute was actually deleted, returns its old value. Otherwise, returns
<code>nil</code>.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3580-L3596">lnodelib.c#L3580-L3596</a></li>
</ul>
<h3 id="nodeslide">node.slide</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-76-1"><a id="__codelineno-76-1" name="__codelineno-76-1" href="#__codelineno-76-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">slide</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-76-2"><a id="__codelineno-76-2" name="__codelineno-76-2" href="#__codelineno-76-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-76-3"><a id="__codelineno-76-3" name="__codelineno-76-3" href="#__codelineno-76-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-76-4"><a id="__codelineno-76-4" name="__codelineno-76-4" href="#__codelineno-76-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-76-5"><a id="__codelineno-76-5" name="__codelineno-76-5" href="#__codelineno-76-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-76-6"><a id="__codelineno-76-6" name="__codelineno-76-6" href="#__codelineno-76-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-76-7"><a id="__codelineno-76-7" name="__codelineno-76-7" href="#__codelineno-76-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-76-8"><a id="__codelineno-76-8" name="__codelineno-76-8" href="#__codelineno-76-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">tail</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-76-9"><a id="__codelineno-76-9" name="__codelineno-76-9" href="#__codelineno-76-9"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-76-10"><a id="__codelineno-76-10" name="__codelineno-76-10" href="#__codelineno-76-10"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-76-11"><a id="__codelineno-76-11" name="__codelineno-76-11" href="#__codelineno-76-11"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-76-12"><a id="__codelineno-76-12" name="__codelineno-76-12" href="#__codelineno-76-12"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-76-13"><a id="__codelineno-76-13" name="__codelineno-76-13" href="#__codelineno-76-13"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-76-14"><a id="__codelineno-76-14" name="__codelineno-76-14" href="#__codelineno-76-14"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-76-15"><a id="__codelineno-76-15" name="__codelineno-76-15" href="#__codelineno-76-15"></a><span class="p">}</span>
</span></code></pre></div>
<p>Return the found
tail node and make sure that the node lists is double linked.</p>
<p>After some callbacks automatic sliding takes place. This feature can be turned
off with <code>node.fix_node_lists(false)</code> but you better make sure then that
you don't mess up lists. In most cases <em>TeX</em> itself only uses <code>next</code>
pointers but your other callbacks might expect proper <code>prev</code> pointers too.
Future versions of <em>LuaTeX</em> can add more checking but this will not influence
usage.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3226-L3241">lnodelib.c#L3226-L3241</a></li>
</ul>
<h3 id="nodecheck_discretionaries">node.check_discretionaries</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-77-1"><a id="__codelineno-77-1" name="__codelineno-77-1" href="#__codelineno-77-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">check_discretionaries</span><span class="p">(</span><span class="nv">head</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-77-2"><a id="__codelineno-77-2" name="__codelineno-77-2" href="#__codelineno-77-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-77-3"><a id="__codelineno-77-3" name="__codelineno-77-3" href="#__codelineno-77-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-77-4"><a id="__codelineno-77-4" name="__codelineno-77-4" href="#__codelineno-77-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-77-5"><a id="__codelineno-77-5" name="__codelineno-77-5" href="#__codelineno-77-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-77-6"><a id="__codelineno-77-6" name="__codelineno-77-6" href="#__codelineno-77-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-77-7"><a id="__codelineno-77-7" name="__codelineno-77-7" href="#__codelineno-77-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-77-8"><a id="__codelineno-77-8" name="__codelineno-77-8" href="#__codelineno-77-8"></a><span class="p">})</span>
</span></code></pre></div>
<p>Check all <code>disc</code> nodes in the node list.</p>
<p>When you fool around with disc nodes you need to be aware of the fact that they
have a special internal data structure. As long as you reassign the fields when
you have extended the lists it’s ok because then the tail pointers get updated,
but when you add to list without reassigning you might end up in trouble when
the linebreak routine kicks in.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8615-L8627">lnodelib.c#L8615-L8627</a></li>
</ul>
<h3 id="nodecheck_discretionary">node.check_discretionary</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-78-1"><a id="__codelineno-78-1" name="__codelineno-78-1" href="#__codelineno-78-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">check_discretionary</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-78-2"><a id="__codelineno-78-2" name="__codelineno-78-2" href="#__codelineno-78-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-78-3"><a id="__codelineno-78-3" name="__codelineno-78-3" href="#__codelineno-78-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-78-4"><a id="__codelineno-78-4" name="__codelineno-78-4" href="#__codelineno-78-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-78-5"><a id="__codelineno-78-5" name="__codelineno-78-5" href="#__codelineno-78-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-78-6"><a id="__codelineno-78-6" name="__codelineno-78-6" href="#__codelineno-78-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-78-7"><a id="__codelineno-78-7" name="__codelineno-78-7" href="#__codelineno-78-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-78-8"><a id="__codelineno-78-8" name="__codelineno-78-8" href="#__codelineno-78-8"></a><span class="p">})</span>
</span></code></pre></div>
<p>Check one <code>disc</code> node only and also check if the node is a <code>disc</code> node.</p>
<p>When you fool around with disc nodes you need to be aware of the fact that they
have a special internal data structure. As long as you reassign the fields when
you have extended the lists it’s ok because then the tail pointers get updated,
but when you add to list without reassigning you might end up in trouble when
the linebreak routine kicks in.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8629-L8638">lnodelib.c#L8629-L8638</a></li>
</ul>
<h3 id="nodeflatten_discretionaries">node.flatten_discretionaries</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-79-1"><a id="__codelineno-79-1" name="__codelineno-79-1" href="#__codelineno-79-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">flatten_discretionaries</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-79-2"><a id="__codelineno-79-2" name="__codelineno-79-2" href="#__codelineno-79-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-79-3"><a id="__codelineno-79-3" name="__codelineno-79-3" href="#__codelineno-79-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-79-4"><a id="__codelineno-79-4" name="__codelineno-79-4" href="#__codelineno-79-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-79-5"><a id="__codelineno-79-5" name="__codelineno-79-5" href="#__codelineno-79-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-79-6"><a id="__codelineno-79-6" name="__codelineno-79-6" href="#__codelineno-79-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-79-7"><a id="__codelineno-79-7" name="__codelineno-79-7" href="#__codelineno-79-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-79-8"><a id="__codelineno-79-8" name="__codelineno-79-8" href="#__codelineno-79-8"></a><span class="p">})</span>
</span><span id="__span-79-9"><a id="__codelineno-79-9" name="__codelineno-79-9" href="#__codelineno-79-9"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">head</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-79-10"><a id="__codelineno-79-10" name="__codelineno-79-10" href="#__codelineno-79-10"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-79-11"><a id="__codelineno-79-11" name="__codelineno-79-11" href="#__codelineno-79-11"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-79-12"><a id="__codelineno-79-12" name="__codelineno-79-12" href="#__codelineno-79-12"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-79-13"><a id="__codelineno-79-13" name="__codelineno-79-13" href="#__codelineno-79-13"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-79-14"><a id="__codelineno-79-14" name="__codelineno-79-14" href="#__codelineno-79-14"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-79-15"><a id="__codelineno-79-15" name="__codelineno-79-15" href="#__codelineno-79-15"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-79-16"><a id="__codelineno-79-16" name="__codelineno-79-16" href="#__codelineno-79-16"></a><span class="p">}</span>
</span><span id="__span-79-17"><a id="__codelineno-79-17" name="__codelineno-79-17" href="#__codelineno-79-17"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">count</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>Remove the discretionaries in the list and inject the replace
field when set.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8640-L8679">lnodelib.c#L8640-L8679</a></li>
</ul>
<h3 id="nodefamily_font">node.family_font</h3>
<hr />
<p><div class="language-lua highlight"><pre><span></span><code><span id="__span-80-1"><a id="__codelineno-80-1" name="__codelineno-80-1" href="#__codelineno-80-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">family_font</span><span class="p">(</span><span class="nv">fam</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
@param <code>fam</code> - family identifier</p>
<p>Return the font
currently associated with the node.</p>
<p>You can normally also access the font with the
normal font field or getter because it will resolve the family automatically for
noads.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L2922-L2932">lnodelib.c#L2922-L2932</a></li>
</ul>
<h3 id="nodegetnext">node.getnext</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-81-1"><a id="__codelineno-81-1" name="__codelineno-81-1" href="#__codelineno-81-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getnext</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-81-2"><a id="__codelineno-81-2" name="__codelineno-81-2" href="#__codelineno-81-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-81-3"><a id="__codelineno-81-3" name="__codelineno-81-3" href="#__codelineno-81-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-81-4"><a id="__codelineno-81-4" name="__codelineno-81-4" href="#__codelineno-81-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-81-5"><a id="__codelineno-81-5" name="__codelineno-81-5" href="#__codelineno-81-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-81-6"><a id="__codelineno-81-6" name="__codelineno-81-6" href="#__codelineno-81-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-81-7"><a id="__codelineno-81-7" name="__codelineno-81-7" href="#__codelineno-81-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-81-8"><a id="__codelineno-81-8" name="__codelineno-81-8" href="#__codelineno-81-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb">next</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the next node of the current node.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-82-1"><a id="__codelineno-82-1" name="__codelineno-82-1" href="#__codelineno-82-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-82-2"><a id="__codelineno-82-2" name="__codelineno-82-2" href="#__codelineno-82-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-82-3"><a id="__codelineno-82-3" name="__codelineno-82-3" href="#__codelineno-82-3"></a><span class="nv">n1</span><span class="p">.</span><span class="py">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">n2</span>
</span><span id="__span-82-4"><a id="__codelineno-82-4" name="__codelineno-82-4" href="#__codelineno-82-4"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">getnext</span><span class="p">(</span><span class="nv">n1</span><span class="p">),</span><span class="w"> </span><span class="nv">n2</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1782-L1800">lnodelib.c#L1782-L1800</a></li>
</ul>
<p>@see node.getprev
node.direct.getnext</p>
<h3 id="nodegetprev">node.getprev</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-83-1"><a id="__codelineno-83-1" name="__codelineno-83-1" href="#__codelineno-83-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getprev</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-83-2"><a id="__codelineno-83-2" name="__codelineno-83-2" href="#__codelineno-83-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-83-3"><a id="__codelineno-83-3" name="__codelineno-83-3" href="#__codelineno-83-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-83-4"><a id="__codelineno-83-4" name="__codelineno-83-4" href="#__codelineno-83-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-83-5"><a id="__codelineno-83-5" name="__codelineno-83-5" href="#__codelineno-83-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-83-6"><a id="__codelineno-83-6" name="__codelineno-83-6" href="#__codelineno-83-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-83-7"><a id="__codelineno-83-7" name="__codelineno-83-7" href="#__codelineno-83-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-83-8"><a id="__codelineno-83-8" name="__codelineno-83-8" href="#__codelineno-83-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">prev</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the previous node of the current node.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-84-1"><a id="__codelineno-84-1" name="__codelineno-84-1" href="#__codelineno-84-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-84-2"><a id="__codelineno-84-2" name="__codelineno-84-2" href="#__codelineno-84-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-84-3"><a id="__codelineno-84-3" name="__codelineno-84-3" href="#__codelineno-84-3"></a><span class="nv">n1</span><span class="p">.</span><span class="py">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">n2</span>
</span><span id="__span-84-4"><a id="__codelineno-84-4" name="__codelineno-84-4" href="#__codelineno-84-4"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">getprev</span><span class="p">(</span><span class="nv">n1</span><span class="p">),</span><span class="w"> </span><span class="nv">n2</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1831-L1846">lnodelib.c#L1831-L1846</a></li>
</ul>
<h3 id="nodegetboth">node.getboth</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-85-1"><a id="__codelineno-85-1" name="__codelineno-85-1" href="#__codelineno-85-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getboth</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-85-2"><a id="__codelineno-85-2" name="__codelineno-85-2" href="#__codelineno-85-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-85-3"><a id="__codelineno-85-3" name="__codelineno-85-3" href="#__codelineno-85-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-85-4"><a id="__codelineno-85-4" name="__codelineno-85-4" href="#__codelineno-85-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-85-5"><a id="__codelineno-85-5" name="__codelineno-85-5" href="#__codelineno-85-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-85-6"><a id="__codelineno-85-6" name="__codelineno-85-6" href="#__codelineno-85-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-85-7"><a id="__codelineno-85-7" name="__codelineno-85-7" href="#__codelineno-85-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-85-8"><a id="__codelineno-85-8" name="__codelineno-85-8" href="#__codelineno-85-8"></a><span class="p">})</span>
</span><span id="__span-85-9"><a id="__codelineno-85-9" name="__codelineno-85-9" href="#__codelineno-85-9"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">prev</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span><span id="__span-85-10"><a id="__codelineno-85-10" name="__codelineno-85-10" href="#__codelineno-85-10"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nb">next</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the previous and next pointer of a node.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-86-1"><a id="__codelineno-86-1" name="__codelineno-86-1" href="#__codelineno-86-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-86-2"><a id="__codelineno-86-2" name="__codelineno-86-2" href="#__codelineno-86-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-86-3"><a id="__codelineno-86-3" name="__codelineno-86-3" href="#__codelineno-86-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n3</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-86-4"><a id="__codelineno-86-4" name="__codelineno-86-4" href="#__codelineno-86-4"></a>
</span><span id="__span-86-5"><a id="__codelineno-86-5" name="__codelineno-86-5" href="#__codelineno-86-5"></a><span class="nv">n1</span><span class="p">.</span><span class="py">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">n2</span>
</span><span id="__span-86-6"><a id="__codelineno-86-6" name="__codelineno-86-6" href="#__codelineno-86-6"></a><span class="nv">n2</span><span class="p">.</span><span class="py">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">n3</span>
</span><span id="__span-86-7"><a id="__codelineno-86-7" name="__codelineno-86-7" href="#__codelineno-86-7"></a><span class="nv">node</span><span class="p">.</span><span class="nf">slide</span><span class="p">(</span><span class="nv">n1</span><span class="p">)</span><span class="w"> </span><span class="c1">-- to set n2.prev</span>
</span><span id="__span-86-8"><a id="__codelineno-86-8" name="__codelineno-86-8" href="#__codelineno-86-8"></a>
</span><span id="__span-86-9"><a id="__codelineno-86-9" name="__codelineno-86-9" href="#__codelineno-86-9"></a><span class="kd">local</span><span class="w"> </span><span class="nv">prev</span><span class="p">,</span><span class="w"> </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">getboth</span><span class="p">(</span><span class="nv">n2</span><span class="p">)</span>
</span><span id="__span-86-10"><a id="__codelineno-86-10" name="__codelineno-86-10" href="#__codelineno-86-10"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">prev</span><span class="p">,</span><span class="w"> </span><span class="nv">n1</span><span class="p">)</span>
</span><span id="__span-86-11"><a id="__codelineno-86-11" name="__codelineno-86-11" href="#__codelineno-86-11"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nb">next</span><span class="p">,</span><span class="w"> </span><span class="nv">n3</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1884-L1902">lnodelib.c#L1884-L1902</a></li>
</ul>
<p>@see node.direct.setboth</p>
<h3 id="nodegetid">node.getid</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-87-1"><a id="__codelineno-87-1" name="__codelineno-87-1" href="#__codelineno-87-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getid</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-87-2"><a id="__codelineno-87-2" name="__codelineno-87-2" href="#__codelineno-87-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-87-3"><a id="__codelineno-87-3" name="__codelineno-87-3" href="#__codelineno-87-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-87-4"><a id="__codelineno-87-4" name="__codelineno-87-4" href="#__codelineno-87-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-87-5"><a id="__codelineno-87-5" name="__codelineno-87-5" href="#__codelineno-87-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-87-6"><a id="__codelineno-87-6" name="__codelineno-87-6" href="#__codelineno-87-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-87-7"><a id="__codelineno-87-7" name="__codelineno-87-7" href="#__codelineno-87-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-87-8"><a id="__codelineno-87-8" name="__codelineno-87-8" href="#__codelineno-87-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">id</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>Return the <code>id</code> (type) of a node.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L487-L496">lnodelib.c#L487-L496</a></li>
</ul>
<h3 id="nodegetsubtype">node.getsubtype</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-88-1"><a id="__codelineno-88-1" name="__codelineno-88-1" href="#__codelineno-88-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getsubtype</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-88-2"><a id="__codelineno-88-2" name="__codelineno-88-2" href="#__codelineno-88-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-88-3"><a id="__codelineno-88-3" name="__codelineno-88-3" href="#__codelineno-88-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-88-4"><a id="__codelineno-88-4" name="__codelineno-88-4" href="#__codelineno-88-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-88-5"><a id="__codelineno-88-5" name="__codelineno-88-5" href="#__codelineno-88-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-88-6"><a id="__codelineno-88-6" name="__codelineno-88-6" href="#__codelineno-88-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-88-7"><a id="__codelineno-88-7" name="__codelineno-88-7" href="#__codelineno-88-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-88-8"><a id="__codelineno-88-8" name="__codelineno-88-8" href="#__codelineno-88-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">subtype</span><span class="w"> </span><span class="nv">integer</span>
</span></code></pre></div>
<p>Return the <code>subtype</code> of a node.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-89-1"><a id="__codelineno-89-1" name="__codelineno-89-1" href="#__codelineno-89-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">hlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;hlist&quot;</span><span class="p">)</span>
</span><span id="__span-89-2"><a id="__codelineno-89-2" name="__codelineno-89-2" href="#__codelineno-89-2"></a><span class="nv">hlist</span><span class="p">.</span><span class="py">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">2</span>
</span><span id="__span-89-3"><a id="__codelineno-89-3" name="__codelineno-89-3" href="#__codelineno-89-3"></a>
</span><span id="__span-89-4"><a id="__codelineno-89-4" name="__codelineno-89-4" href="#__codelineno-89-4"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">getsubtype</span><span class="p">(</span><span class="nv">hlist</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L544-L558">lnodelib.c#L544-L558</a></li>
</ul>
<h3 id="nodegetfont">node.getfont</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-90-1"><a id="__codelineno-90-1" name="__codelineno-90-1" href="#__codelineno-90-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getfont</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-90-2"><a id="__codelineno-90-2" name="__codelineno-90-2" href="#__codelineno-90-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-90-3"><a id="__codelineno-90-3" name="__codelineno-90-3" href="#__codelineno-90-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-90-4"><a id="__codelineno-90-4" name="__codelineno-90-4" href="#__codelineno-90-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-90-5"><a id="__codelineno-90-5" name="__codelineno-90-5" href="#__codelineno-90-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-90-6"><a id="__codelineno-90-6" name="__codelineno-90-6" href="#__codelineno-90-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-90-7"><a id="__codelineno-90-7" name="__codelineno-90-7" href="#__codelineno-90-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-90-8"><a id="__codelineno-90-8" name="__codelineno-90-8" href="#__codelineno-90-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">font</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the font identifier of a <code>glyph</code>, <code>math_char</code>, <code>math_text_char</code> or <code>delim</code> node.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-91-1"><a id="__codelineno-91-1" name="__codelineno-91-1" href="#__codelineno-91-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span><span class="w"> </span><span class="cm">--[[@as GlyphNode]]</span>
</span><span id="__span-91-2"><a id="__codelineno-91-2" name="__codelineno-91-2" href="#__codelineno-91-2"></a><span class="nv">n</span><span class="p">.</span><span class="py">font</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-91-3"><a id="__codelineno-91-3" name="__codelineno-91-3" href="#__codelineno-91-3"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">getfont</span><span class="p">(</span><span class="nv">n</span><span class="p">),</span><span class="w"> </span><span class="mi">29</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L636-L654">lnodelib.c#L636-L654</a></li>
</ul>
<h3 id="nodegetchar">node.getchar</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-92-1"><a id="__codelineno-92-1" name="__codelineno-92-1" href="#__codelineno-92-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getchar</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-92-2"><a id="__codelineno-92-2" name="__codelineno-92-2" href="#__codelineno-92-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-92-3"><a id="__codelineno-92-3" name="__codelineno-92-3" href="#__codelineno-92-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-92-4"><a id="__codelineno-92-4" name="__codelineno-92-4" href="#__codelineno-92-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-92-5"><a id="__codelineno-92-5" name="__codelineno-92-5" href="#__codelineno-92-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-92-6"><a id="__codelineno-92-6" name="__codelineno-92-6" href="#__codelineno-92-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-92-7"><a id="__codelineno-92-7" name="__codelineno-92-7" href="#__codelineno-92-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-92-8"><a id="__codelineno-92-8" name="__codelineno-92-8" href="#__codelineno-92-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">char</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the character index (<code>char</code>) in the font of <code>glyph</code>, <code>math_char</code>, <code>math_text_char</code> or <code>delim</code> nodes.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-93-1"><a id="__codelineno-93-1" name="__codelineno-93-1" href="#__codelineno-93-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span><span class="w"> </span><span class="cm">--[[@as GlyphNode]]</span>
</span><span id="__span-93-2"><a id="__codelineno-93-2" name="__codelineno-93-2" href="#__codelineno-93-2"></a><span class="nv">n</span><span class="p">.</span><span class="py">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span>
</span><span id="__span-93-3"><a id="__codelineno-93-3" name="__codelineno-93-3" href="#__codelineno-93-3"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">getchar</span><span class="p">(</span><span class="nv">n</span><span class="p">),</span><span class="w"> </span><span class="mi">1</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L739-L758">lnodelib.c#L739-L758</a></li>
</ul>
<p>@see node.direct.getchar
node.direct.setchar</p>
<h3 id="nodegetwhd">node.getwhd</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-94-1"><a id="__codelineno-94-1" name="__codelineno-94-1" href="#__codelineno-94-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getwhd</span><span class="p">(</span>
</span><span id="__span-94-2"><a id="__codelineno-94-2" name="__codelineno-94-2" href="#__codelineno-94-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-94-3"><a id="__codelineno-94-3" name="__codelineno-94-3" href="#__codelineno-94-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-94-4"><a id="__codelineno-94-4" name="__codelineno-94-4" href="#__codelineno-94-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-94-5"><a id="__codelineno-94-5" name="__codelineno-94-5" href="#__codelineno-94-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-94-6"><a id="__codelineno-94-6" name="__codelineno-94-6" href="#__codelineno-94-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-94-7"><a id="__codelineno-94-7" name="__codelineno-94-7" href="#__codelineno-94-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-94-8"><a id="__codelineno-94-8" name="__codelineno-94-8" href="#__codelineno-94-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-94-9"><a id="__codelineno-94-9" name="__codelineno-94-9" href="#__codelineno-94-9"></a><span class="p">},</span>
</span><span id="__span-94-10"><a id="__codelineno-94-10" name="__codelineno-94-10" href="#__codelineno-94-10"></a><span class="w">  </span><span class="nv">get_expansion_factor</span><span class="p">:</span><span class="w"> </span><span class="py">boolean</span><span class="err">?</span>
</span><span id="__span-94-11"><a id="__codelineno-94-11" name="__codelineno-94-11" href="#__codelineno-94-11"></a><span class="p">)</span>
</span><span id="__span-94-12"><a id="__codelineno-94-12" name="__codelineno-94-12" href="#__codelineno-94-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">width</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-94-13"><a id="__codelineno-94-13" name="__codelineno-94-13" href="#__codelineno-94-13"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">height</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-94-14"><a id="__codelineno-94-14" name="__codelineno-94-14" href="#__codelineno-94-14"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">depth</span><span class="w"> </span><span class="nv">integer</span>
</span><span id="__span-94-15"><a id="__codelineno-94-15" name="__codelineno-94-15" href="#__codelineno-94-15"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">ex</span><span class="w"> </span><span class="nv">integer</span><span class="err">?</span>
</span></code></pre></div>
<p>@return <code>ex</code> - If the node is a <code>glyph</code> and <code>get_ex</code> is true</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p>Return the <code>width</code>, <code>height</code> and <code>depth</code> of a list, rule or (unexpanded) <code>glyph</code> as well as <code>glue</code> (its spec is looked at) and <code>unset</code> node.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1350-L1378">lnodelib.c#L1350-L1378</a></li>
</ul>
<h3 id="nodegetdisc">node.getdisc</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-95-1"><a id="__codelineno-95-1" name="__codelineno-95-1" href="#__codelineno-95-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getdisc</span><span class="p">(</span>
</span><span id="__span-95-2"><a id="__codelineno-95-2" name="__codelineno-95-2" href="#__codelineno-95-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-95-3"><a id="__codelineno-95-3" name="__codelineno-95-3" href="#__codelineno-95-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-4"><a id="__codelineno-95-4" name="__codelineno-95-4" href="#__codelineno-95-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-5"><a id="__codelineno-95-5" name="__codelineno-95-5" href="#__codelineno-95-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-95-6"><a id="__codelineno-95-6" name="__codelineno-95-6" href="#__codelineno-95-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-95-7"><a id="__codelineno-95-7" name="__codelineno-95-7" href="#__codelineno-95-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-8"><a id="__codelineno-95-8" name="__codelineno-95-8" href="#__codelineno-95-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-95-9"><a id="__codelineno-95-9" name="__codelineno-95-9" href="#__codelineno-95-9"></a><span class="p">},</span>
</span><span id="__span-95-10"><a id="__codelineno-95-10" name="__codelineno-95-10" href="#__codelineno-95-10"></a><span class="w">  </span><span class="nv">get_tail</span><span class="p">:</span><span class="w"> </span><span class="py">boolean</span><span class="err">?</span>
</span><span id="__span-95-11"><a id="__codelineno-95-11" name="__codelineno-95-11" href="#__codelineno-95-11"></a><span class="p">)</span>
</span><span id="__span-95-12"><a id="__codelineno-95-12" name="__codelineno-95-12" href="#__codelineno-95-12"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">pre</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-95-13"><a id="__codelineno-95-13" name="__codelineno-95-13" href="#__codelineno-95-13"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-14"><a id="__codelineno-95-14" name="__codelineno-95-14" href="#__codelineno-95-14"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-15"><a id="__codelineno-95-15" name="__codelineno-95-15" href="#__codelineno-95-15"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-95-16"><a id="__codelineno-95-16" name="__codelineno-95-16" href="#__codelineno-95-16"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-95-17"><a id="__codelineno-95-17" name="__codelineno-95-17" href="#__codelineno-95-17"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-18"><a id="__codelineno-95-18" name="__codelineno-95-18" href="#__codelineno-95-18"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-95-19"><a id="__codelineno-95-19" name="__codelineno-95-19" href="#__codelineno-95-19"></a><span class="p">}</span>
</span><span id="__span-95-20"><a id="__codelineno-95-20" name="__codelineno-95-20" href="#__codelineno-95-20"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">post</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-95-21"><a id="__codelineno-95-21" name="__codelineno-95-21" href="#__codelineno-95-21"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-22"><a id="__codelineno-95-22" name="__codelineno-95-22" href="#__codelineno-95-22"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-23"><a id="__codelineno-95-23" name="__codelineno-95-23" href="#__codelineno-95-23"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-95-24"><a id="__codelineno-95-24" name="__codelineno-95-24" href="#__codelineno-95-24"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-95-25"><a id="__codelineno-95-25" name="__codelineno-95-25" href="#__codelineno-95-25"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-26"><a id="__codelineno-95-26" name="__codelineno-95-26" href="#__codelineno-95-26"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-95-27"><a id="__codelineno-95-27" name="__codelineno-95-27" href="#__codelineno-95-27"></a><span class="p">}</span>
</span><span id="__span-95-28"><a id="__codelineno-95-28" name="__codelineno-95-28" href="#__codelineno-95-28"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">replace</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-95-29"><a id="__codelineno-95-29" name="__codelineno-95-29" href="#__codelineno-95-29"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-30"><a id="__codelineno-95-30" name="__codelineno-95-30" href="#__codelineno-95-30"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-31"><a id="__codelineno-95-31" name="__codelineno-95-31" href="#__codelineno-95-31"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-95-32"><a id="__codelineno-95-32" name="__codelineno-95-32" href="#__codelineno-95-32"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-95-33"><a id="__codelineno-95-33" name="__codelineno-95-33" href="#__codelineno-95-33"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-95-34"><a id="__codelineno-95-34" name="__codelineno-95-34" href="#__codelineno-95-34"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-95-35"><a id="__codelineno-95-35" name="__codelineno-95-35" href="#__codelineno-95-35"></a><span class="p">}</span>
</span><span id="__span-95-36"><a id="__codelineno-95-36" name="__codelineno-95-36" href="#__codelineno-95-36"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">pre_tail</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span><span id="__span-95-37"><a id="__codelineno-95-37" name="__codelineno-95-37" href="#__codelineno-95-37"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">post_tail</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span><span id="__span-95-38"><a id="__codelineno-95-38" name="__codelineno-95-38" href="#__codelineno-95-38"></a><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">replace_tail</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Return the <code>pre</code>, <code>post</code> and <code>replace</code> fields and optionally when true is passed also the tail fields.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1236-L1253">lnodelib.c#L1236-L1253</a></li>
</ul>
<h3 id="nodegetlist">node.getlist</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-96-1"><a id="__codelineno-96-1" name="__codelineno-96-1" href="#__codelineno-96-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getlist</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-96-2"><a id="__codelineno-96-2" name="__codelineno-96-2" href="#__codelineno-96-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-96-3"><a id="__codelineno-96-3" name="__codelineno-96-3" href="#__codelineno-96-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-96-4"><a id="__codelineno-96-4" name="__codelineno-96-4" href="#__codelineno-96-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-96-5"><a id="__codelineno-96-5" name="__codelineno-96-5" href="#__codelineno-96-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-96-6"><a id="__codelineno-96-6" name="__codelineno-96-6" href="#__codelineno-96-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-96-7"><a id="__codelineno-96-7" name="__codelineno-96-7" href="#__codelineno-96-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-96-8"><a id="__codelineno-96-8" name="__codelineno-96-8" href="#__codelineno-96-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">list</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Get child node lists of parent <code>hlist</code>, <code>vlist</code>, <code>sub_box</code>, <code>sub_mlist</code>, <code>ins</code>, or <code>adjust</code> nodes.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-97-1"><a id="__codelineno-97-1" name="__codelineno-97-1" href="#__codelineno-97-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">hlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;hlist&quot;</span><span class="p">)</span>
</span><span id="__span-97-2"><a id="__codelineno-97-2" name="__codelineno-97-2" href="#__codelineno-97-2"></a><span class="kd">local</span><span class="w"> </span><span class="nv">glyph1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-97-3"><a id="__codelineno-97-3" name="__codelineno-97-3" href="#__codelineno-97-3"></a><span class="kd">local</span><span class="w"> </span><span class="nv">glyph2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-97-4"><a id="__codelineno-97-4" name="__codelineno-97-4" href="#__codelineno-97-4"></a>
</span><span id="__span-97-5"><a id="__codelineno-97-5" name="__codelineno-97-5" href="#__codelineno-97-5"></a><span class="nv">hlist</span><span class="p">.</span><span class="py">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">glyph1</span>
</span><span id="__span-97-6"><a id="__codelineno-97-6" name="__codelineno-97-6" href="#__codelineno-97-6"></a><span class="nv">glyph1</span><span class="p">.</span><span class="py">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">glyph2</span>
</span><span id="__span-97-7"><a id="__codelineno-97-7" name="__codelineno-97-7" href="#__codelineno-97-7"></a>
</span><span id="__span-97-8"><a id="__codelineno-97-8" name="__codelineno-97-8" href="#__codelineno-97-8"></a><span class="kd">local</span><span class="w"> </span><span class="nv">list</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">getlist</span><span class="p">(</span><span class="nv">hlist</span><span class="p">)</span>
</span><span id="__span-97-9"><a id="__codelineno-97-9" name="__codelineno-97-9" href="#__codelineno-97-9"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">list</span><span class="p">,</span><span class="w"> </span><span class="nv">glyph1</span><span class="p">)</span>
</span><span id="__span-97-10"><a id="__codelineno-97-10" name="__codelineno-97-10" href="#__codelineno-97-10"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">list</span><span class="p">.</span><span class="py">next</span><span class="p">,</span><span class="w"> </span><span class="nv">glyph2</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1440-L1458">lnodelib.c#L1440-L1458</a></li>
</ul>
<h3 id="nodegetleader">node.getleader</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-98-1"><a id="__codelineno-98-1" name="__codelineno-98-1" href="#__codelineno-98-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getleader</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-98-2"><a id="__codelineno-98-2" name="__codelineno-98-2" href="#__codelineno-98-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-98-3"><a id="__codelineno-98-3" name="__codelineno-98-3" href="#__codelineno-98-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-98-4"><a id="__codelineno-98-4" name="__codelineno-98-4" href="#__codelineno-98-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-98-5"><a id="__codelineno-98-5" name="__codelineno-98-5" href="#__codelineno-98-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-98-6"><a id="__codelineno-98-6" name="__codelineno-98-6" href="#__codelineno-98-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-98-7"><a id="__codelineno-98-7" name="__codelineno-98-7" href="#__codelineno-98-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-98-8"><a id="__codelineno-98-8" name="__codelineno-98-8" href="#__codelineno-98-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">leaders</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span>
</span></code></pre></div>
<p>Get the leaders of <code>glue</code> nodes.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L1489-L1501">lnodelib.c#L1489-L1501</a></li>
</ul>
<h3 id="nodesetfield">node.setfield</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-99-1"><a id="__codelineno-99-1" name="__codelineno-99-1" href="#__codelineno-99-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">setfield</span><span class="p">(</span>
</span><span id="__span-99-2"><a id="__codelineno-99-2" name="__codelineno-99-2" href="#__codelineno-99-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-99-3"><a id="__codelineno-99-3" name="__codelineno-99-3" href="#__codelineno-99-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-99-4"><a id="__codelineno-99-4" name="__codelineno-99-4" href="#__codelineno-99-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-99-5"><a id="__codelineno-99-5" name="__codelineno-99-5" href="#__codelineno-99-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-99-6"><a id="__codelineno-99-6" name="__codelineno-99-6" href="#__codelineno-99-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-99-7"><a id="__codelineno-99-7" name="__codelineno-99-7" href="#__codelineno-99-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-99-8"><a id="__codelineno-99-8" name="__codelineno-99-8" href="#__codelineno-99-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-99-9"><a id="__codelineno-99-9" name="__codelineno-99-9" href="#__codelineno-99-9"></a><span class="p">},</span>
</span><span id="__span-99-10"><a id="__codelineno-99-10" name="__codelineno-99-10" href="#__codelineno-99-10"></a><span class="w">  </span><span class="nv">field</span><span class="p">:</span><span class="w"> </span><span class="py">string</span><span class="p">,</span>
</span><span id="__span-99-11"><a id="__codelineno-99-11" name="__codelineno-99-11" href="#__codelineno-99-11"></a><span class="w">  </span><span class="nv">value</span><span class="p">:</span><span class="w"> </span><span class="py">any</span>
</span><span id="__span-99-12"><a id="__codelineno-99-12" name="__codelineno-99-12" href="#__codelineno-99-12"></a><span class="p">)</span>
</span></code></pre></div>
<p>Set the value of a generic node field.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-100-1"><a id="__codelineno-100-1" name="__codelineno-100-1" href="#__codelineno-100-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span>
</span><span id="__span-100-2"><a id="__codelineno-100-2" name="__codelineno-100-2" href="#__codelineno-100-2"></a><span class="nv">node</span><span class="p">.</span><span class="nf">setfield</span><span class="p">(</span><span class="nv">n</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;char&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span><span id="__span-100-3"><a id="__codelineno-100-3" name="__codelineno-100-3" href="#__codelineno-100-3"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">getfield</span><span class="p">(</span><span class="nv">n</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;char&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">2</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L7348-L7364">lnodelib.c#L7348-L7364</a></li>
</ul>
<p>@see node.direct.setfield</p>
<h3 id="nodegetfield">node.getfield</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-101-1"><a id="__codelineno-101-1" name="__codelineno-101-1" href="#__codelineno-101-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getfield</span><span class="p">(</span>
</span><span id="__span-101-2"><a id="__codelineno-101-2" name="__codelineno-101-2" href="#__codelineno-101-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-101-3"><a id="__codelineno-101-3" name="__codelineno-101-3" href="#__codelineno-101-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-101-4"><a id="__codelineno-101-4" name="__codelineno-101-4" href="#__codelineno-101-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-101-5"><a id="__codelineno-101-5" name="__codelineno-101-5" href="#__codelineno-101-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-101-6"><a id="__codelineno-101-6" name="__codelineno-101-6" href="#__codelineno-101-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-101-7"><a id="__codelineno-101-7" name="__codelineno-101-7" href="#__codelineno-101-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-101-8"><a id="__codelineno-101-8" name="__codelineno-101-8" href="#__codelineno-101-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-101-9"><a id="__codelineno-101-9" name="__codelineno-101-9" href="#__codelineno-101-9"></a><span class="p">},</span>
</span><span id="__span-101-10"><a id="__codelineno-101-10" name="__codelineno-101-10" href="#__codelineno-101-10"></a><span class="w">  </span><span class="nv">field</span><span class="p">:</span><span class="w"> </span><span class="py">string</span>
</span><span id="__span-101-11"><a id="__codelineno-101-11" name="__codelineno-101-11" href="#__codelineno-101-11"></a><span class="p">)</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">any</span><span class="err">?</span>
</span></code></pre></div>
<p>Get the value of a generic node field.</p>
<p>Other field names are often shared so a specific getter makes no sense.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-102-1"><a id="__codelineno-102-1" name="__codelineno-102-1" href="#__codelineno-102-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)</span><span class="w"> </span><span class="cm">--[[@as GlyphNode]]</span>
</span><span id="__span-102-2"><a id="__codelineno-102-2" name="__codelineno-102-2" href="#__codelineno-102-2"></a><span class="nv">n</span><span class="p">.</span><span class="py">char</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">123</span>
</span><span id="__span-102-3"><a id="__codelineno-102-3" name="__codelineno-102-3" href="#__codelineno-102-3"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">getfield</span><span class="p">(</span><span class="nv">n</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;char&quot;</span><span class="p">),</span><span class="w"> </span><span class="mi">123</span><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L5189-L5207">lnodelib.c#L5189-L5207</a></li>
</ul>
<h3 id="nodesetproperty">node.setproperty</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-103-1"><a id="__codelineno-103-1" name="__codelineno-103-1" href="#__codelineno-103-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">setproperty</span><span class="p">(</span>
</span><span id="__span-103-2"><a id="__codelineno-103-2" name="__codelineno-103-2" href="#__codelineno-103-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-103-3"><a id="__codelineno-103-3" name="__codelineno-103-3" href="#__codelineno-103-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-103-4"><a id="__codelineno-103-4" name="__codelineno-103-4" href="#__codelineno-103-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-103-5"><a id="__codelineno-103-5" name="__codelineno-103-5" href="#__codelineno-103-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-103-6"><a id="__codelineno-103-6" name="__codelineno-103-6" href="#__codelineno-103-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-103-7"><a id="__codelineno-103-7" name="__codelineno-103-7" href="#__codelineno-103-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-103-8"><a id="__codelineno-103-8" name="__codelineno-103-8" href="#__codelineno-103-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-103-9"><a id="__codelineno-103-9" name="__codelineno-103-9" href="#__codelineno-103-9"></a><span class="p">},</span>
</span><span id="__span-103-10"><a id="__codelineno-103-10" name="__codelineno-103-10" href="#__codelineno-103-10"></a><span class="w">  </span><span class="nv">value</span><span class="p">:</span><span class="w"> </span><span class="py">any</span>
</span><span id="__span-103-11"><a id="__codelineno-103-11" name="__codelineno-103-11" href="#__codelineno-103-11"></a><span class="p">)</span>
</span></code></pre></div>
<p>Assign values to the properties table.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8397-L8410">lnodelib.c#L8397-L8410</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8403-L8416">lnodelib.c#L8403-L8416</a></li>
</ul>
<h3 id="nodegetproperty">node.getproperty</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-104-1"><a id="__codelineno-104-1" name="__codelineno-104-1" href="#__codelineno-104-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">getproperty</span><span class="p">(</span><span class="nv">node</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-104-2"><a id="__codelineno-104-2" name="__codelineno-104-2" href="#__codelineno-104-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-104-3"><a id="__codelineno-104-3" name="__codelineno-104-3" href="#__codelineno-104-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-104-4"><a id="__codelineno-104-4" name="__codelineno-104-4" href="#__codelineno-104-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-104-5"><a id="__codelineno-104-5" name="__codelineno-104-5" href="#__codelineno-104-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-104-6"><a id="__codelineno-104-6" name="__codelineno-104-6" href="#__codelineno-104-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-104-7"><a id="__codelineno-104-7" name="__codelineno-104-7" href="#__codelineno-104-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-104-8"><a id="__codelineno-104-8" name="__codelineno-104-8" href="#__codelineno-104-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">value</span><span class="w"> </span><span class="nv">any</span>
</span></code></pre></div>
<p>Each node also can have a properties table and you can get properties using the <code>getproperty</code> function.</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Source file of the <code>LuaTeX</code> manual: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/manual/luatex-nodes.tex#L2520-L2523">luatex-nodes.tex#L2520-L2523</a></li>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8379-L8389">lnodelib.c#L8379-L8389</a></li>
</ul>
<h3 id="nodeset_properties_mode">node.set_properties_mode</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-105-1"><a id="__codelineno-105-1" name="__codelineno-105-1" href="#__codelineno-105-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">set_properties_mode</span><span class="p">(</span>
</span><span id="__span-105-2"><a id="__codelineno-105-2" name="__codelineno-105-2" href="#__codelineno-105-2"></a><span class="w">  </span><span class="nv">enable</span><span class="p">:</span><span class="w"> </span><span class="py">boolean</span><span class="p">,</span>
</span><span id="__span-105-3"><a id="__codelineno-105-3" name="__codelineno-105-3" href="#__codelineno-105-3"></a><span class="w">  </span><span class="nv">use_metatable</span><span class="p">:</span><span class="w"> </span><span class="py">boolean</span><span class="err">?</span>
</span><span id="__span-105-4"><a id="__codelineno-105-4" name="__codelineno-105-4" href="#__codelineno-105-4"></a><span class="p">)</span>
</span></code></pre></div>
<p>Managing properties in the node (de)allocator functions is disabled by default and is enabled by:</p>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8351-L8360">lnodelib.c#L8351-L8360</a></li>
</ul>
<h3 id="nodeflush_properties_table">node.flush_properties_table</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-106-1"><a id="__codelineno-106-1" name="__codelineno-106-1" href="#__codelineno-106-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">flush_properties_table</span><span class="p">()</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8364-L8375">lnodelib.c#L8364-L8375</a></li>
</ul>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<h3 id="nodeget_properties_table">node.get_properties_table</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-107-1"><a id="__codelineno-107-1" name="__codelineno-107-1" href="#__codelineno-107-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">get_properties_table</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">table</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8439-L8443">lnodelib.c#L8439-L8443</a></li>
</ul>
<h3 id="nodefix_node_lists">node.fix_node_lists</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-108-1"><a id="__codelineno-108-1" name="__codelineno-108-1" href="#__codelineno-108-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">fix_node_lists</span><span class="p">()</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L366-L374">lnodelib.c#L366-L374</a></li>
</ul>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<h3 id="nodehyphenating">node.hyphenating</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-109-1"><a id="__codelineno-109-1" name="__codelineno-109-1" href="#__codelineno-109-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">hyphenating</span><span class="p">(</span>
</span><span id="__span-109-2"><a id="__codelineno-109-2" name="__codelineno-109-2" href="#__codelineno-109-2"></a><span class="w">  </span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-109-3"><a id="__codelineno-109-3" name="__codelineno-109-3" href="#__codelineno-109-3"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-109-4"><a id="__codelineno-109-4" name="__codelineno-109-4" href="#__codelineno-109-4"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-109-5"><a id="__codelineno-109-5" name="__codelineno-109-5" href="#__codelineno-109-5"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-109-6"><a id="__codelineno-109-6" name="__codelineno-109-6" href="#__codelineno-109-6"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-109-7"><a id="__codelineno-109-7" name="__codelineno-109-7" href="#__codelineno-109-7"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-109-8"><a id="__codelineno-109-8" name="__codelineno-109-8" href="#__codelineno-109-8"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-109-9"><a id="__codelineno-109-9" name="__codelineno-109-9" href="#__codelineno-109-9"></a><span class="p">},</span>
</span><span id="__span-109-10"><a id="__codelineno-109-10" name="__codelineno-109-10" href="#__codelineno-109-10"></a><span class="w">  </span><span class="nv">m</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-109-11"><a id="__codelineno-109-11" name="__codelineno-109-11" href="#__codelineno-109-11"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6104-L6122">lnodelib.c#L6104-L6122</a></li>
</ul>
<h3 id="nodemake_extensible">node.make_extensible</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-110-1"><a id="__codelineno-110-1" name="__codelineno-110-1" href="#__codelineno-110-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">make_extensible</span><span class="p">(</span>
</span><span id="__span-110-2"><a id="__codelineno-110-2" name="__codelineno-110-2" href="#__codelineno-110-2"></a><span class="w">  </span><span class="nv">fnt</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-110-3"><a id="__codelineno-110-3" name="__codelineno-110-3" href="#__codelineno-110-3"></a><span class="w">  </span><span class="nv">chr</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-110-4"><a id="__codelineno-110-4" name="__codelineno-110-4" href="#__codelineno-110-4"></a><span class="w">  </span><span class="nv">size</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="p">,</span>
</span><span id="__span-110-5"><a id="__codelineno-110-5" name="__codelineno-110-5" href="#__codelineno-110-5"></a><span class="w">  </span><span class="nv">overlap</span><span class="p">:</span><span class="w"> </span><span class="py">integer</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-110-6"><a id="__codelineno-110-6" name="__codelineno-110-6" href="#__codelineno-110-6"></a><span class="w">  </span><span class="nv">horizontal</span><span class="p">:</span><span class="w"> </span><span class="py">boolean</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-110-7"><a id="__codelineno-110-7" name="__codelineno-110-7" href="#__codelineno-110-7"></a><span class="w">  </span><span class="nv">attlist</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="err">?</span>
</span><span id="__span-110-8"><a id="__codelineno-110-8" name="__codelineno-110-8" href="#__codelineno-110-8"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L8842-L8868">lnodelib.c#L8842-L8868</a></li>
</ul>
<h3 id="nodesubtypes">node.subtypes</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-111-1"><a id="__codelineno-111-1" name="__codelineno-111-1" href="#__codelineno-111-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">subtypes</span><span class="p">(</span><span class="nv">subtype</span><span class="p">:</span><span class="w"> </span><span class="err">(</span><span class="py">string</span><span class="o">|</span><span class="nv">integer</span><span class="p">))</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">table</span><span class="o">&lt;</span><span class="nv">integer</span><span class="p">,</span><span class="nv">string</span><span class="o">&gt;</span>
</span></code></pre></div>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-112-1"><a id="__codelineno-112-1" name="__codelineno-112-1" href="#__codelineno-112-1"></a><span class="kd">local</span><span class="w"> </span><span class="nv">subtypes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{}</span>
</span><span id="__span-112-2"><a id="__codelineno-112-2" name="__codelineno-112-2" href="#__codelineno-112-2"></a>
</span><span id="__span-112-3"><a id="__codelineno-112-3" name="__codelineno-112-3" href="#__codelineno-112-3"></a><span class="kr">for</span><span class="w"> </span><span class="nv">_</span><span class="p">,</span><span class="w"> </span><span class="nv">node_type</span><span class="w"> </span><span class="kr">in</span><span class="w"> </span><span class="nb">pairs</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">types</span><span class="p">())</span><span class="w"> </span><span class="kr">do</span>
</span><span id="__span-112-4"><a id="__codelineno-112-4" name="__codelineno-112-4" href="#__codelineno-112-4"></a><span class="w">  </span><span class="kd">local</span><span class="w"> </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">node</span><span class="p">.</span><span class="nf">subtypes</span><span class="p">(</span><span class="nv">node_type</span><span class="p">)</span>
</span><span id="__span-112-5"><a id="__codelineno-112-5" name="__codelineno-112-5" href="#__codelineno-112-5"></a><span class="w">  </span><span class="kr">if</span><span class="w"> </span><span class="nv">subtype</span><span class="w"> </span><span class="kr">then</span>
</span><span id="__span-112-6"><a id="__codelineno-112-6" name="__codelineno-112-6" href="#__codelineno-112-6"></a><span class="w">    </span><span class="nv">subtypes</span><span class="p">[</span><span class="nv">node_type</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">subtype</span>
</span><span id="__span-112-7"><a id="__codelineno-112-7" name="__codelineno-112-7" href="#__codelineno-112-7"></a><span class="w">  </span><span class="kr">end</span>
</span><span id="__span-112-8"><a id="__codelineno-112-8" name="__codelineno-112-8" href="#__codelineno-112-8"></a><span class="kr">end</span>
</span><span id="__span-112-9"><a id="__codelineno-112-9" name="__codelineno-112-9" href="#__codelineno-112-9"></a>
</span><span id="__span-112-10"><a id="__codelineno-112-10" name="__codelineno-112-10" href="#__codelineno-112-10"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span><span class="nv">subtypes</span><span class="p">,</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-11"><a id="__codelineno-112-11" name="__codelineno-112-11" href="#__codelineno-112-11"></a><span class="w">  </span><span class="nv">accent</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-12"><a id="__codelineno-112-12" name="__codelineno-112-12" href="#__codelineno-112-12"></a><span class="w">    </span><span class="s2">&quot;fixedtop&quot;</span><span class="p">,</span>
</span><span id="__span-112-13"><a id="__codelineno-112-13" name="__codelineno-112-13" href="#__codelineno-112-13"></a><span class="w">    </span><span class="s2">&quot;fixedbottom&quot;</span><span class="p">,</span>
</span><span id="__span-112-14"><a id="__codelineno-112-14" name="__codelineno-112-14" href="#__codelineno-112-14"></a><span class="w">    </span><span class="s2">&quot;fixedboth&quot;</span><span class="p">,</span>
</span><span id="__span-112-15"><a id="__codelineno-112-15" name="__codelineno-112-15" href="#__codelineno-112-15"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;bothflexible&quot;</span><span class="p">,</span>
</span><span id="__span-112-16"><a id="__codelineno-112-16" name="__codelineno-112-16" href="#__codelineno-112-16"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-17"><a id="__codelineno-112-17" name="__codelineno-112-17" href="#__codelineno-112-17"></a><span class="w">  </span><span class="nv">adjust</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;pre&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-112-18"><a id="__codelineno-112-18" name="__codelineno-112-18" href="#__codelineno-112-18"></a><span class="w">  </span><span class="nv">boundary</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;protrusion&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;word&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;cancel&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-112-19"><a id="__codelineno-112-19" name="__codelineno-112-19" href="#__codelineno-112-19"></a><span class="w">  </span><span class="nv">dir</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;cancel&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-112-20"><a id="__codelineno-112-20" name="__codelineno-112-20" href="#__codelineno-112-20"></a><span class="w">  </span><span class="nv">disc</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-21"><a id="__codelineno-112-21" name="__codelineno-112-21" href="#__codelineno-112-21"></a><span class="w">    </span><span class="s2">&quot;explicit&quot;</span><span class="p">,</span>
</span><span id="__span-112-22"><a id="__codelineno-112-22" name="__codelineno-112-22" href="#__codelineno-112-22"></a><span class="w">    </span><span class="s2">&quot;automatic&quot;</span><span class="p">,</span>
</span><span id="__span-112-23"><a id="__codelineno-112-23" name="__codelineno-112-23" href="#__codelineno-112-23"></a><span class="w">    </span><span class="s2">&quot;regular&quot;</span><span class="p">,</span>
</span><span id="__span-112-24"><a id="__codelineno-112-24" name="__codelineno-112-24" href="#__codelineno-112-24"></a><span class="w">    </span><span class="s2">&quot;first&quot;</span><span class="p">,</span>
</span><span id="__span-112-25"><a id="__codelineno-112-25" name="__codelineno-112-25" href="#__codelineno-112-25"></a><span class="w">    </span><span class="s2">&quot;second&quot;</span><span class="p">,</span>
</span><span id="__span-112-26"><a id="__codelineno-112-26" name="__codelineno-112-26" href="#__codelineno-112-26"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;discretionary&quot;</span><span class="p">,</span>
</span><span id="__span-112-27"><a id="__codelineno-112-27" name="__codelineno-112-27" href="#__codelineno-112-27"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-28"><a id="__codelineno-112-28" name="__codelineno-112-28" href="#__codelineno-112-28"></a><span class="w">  </span><span class="nv">fence</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;middle&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;right&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;no&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;unset&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-112-29"><a id="__codelineno-112-29" name="__codelineno-112-29" href="#__codelineno-112-29"></a><span class="w">  </span><span class="nv">glue</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-30"><a id="__codelineno-112-30" name="__codelineno-112-30" href="#__codelineno-112-30"></a><span class="w">    </span><span class="s2">&quot;lineskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-31"><a id="__codelineno-112-31" name="__codelineno-112-31" href="#__codelineno-112-31"></a><span class="w">    </span><span class="s2">&quot;baselineskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-32"><a id="__codelineno-112-32" name="__codelineno-112-32" href="#__codelineno-112-32"></a><span class="w">    </span><span class="s2">&quot;parskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-33"><a id="__codelineno-112-33" name="__codelineno-112-33" href="#__codelineno-112-33"></a><span class="w">    </span><span class="s2">&quot;abovedisplayskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-34"><a id="__codelineno-112-34" name="__codelineno-112-34" href="#__codelineno-112-34"></a><span class="w">    </span><span class="s2">&quot;belowdisplayskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-35"><a id="__codelineno-112-35" name="__codelineno-112-35" href="#__codelineno-112-35"></a><span class="w">    </span><span class="s2">&quot;abovedisplayshortskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-36"><a id="__codelineno-112-36" name="__codelineno-112-36" href="#__codelineno-112-36"></a><span class="w">    </span><span class="s2">&quot;belowdisplayshortskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-37"><a id="__codelineno-112-37" name="__codelineno-112-37" href="#__codelineno-112-37"></a><span class="w">    </span><span class="s2">&quot;leftskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-38"><a id="__codelineno-112-38" name="__codelineno-112-38" href="#__codelineno-112-38"></a><span class="w">    </span><span class="s2">&quot;rightskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-39"><a id="__codelineno-112-39" name="__codelineno-112-39" href="#__codelineno-112-39"></a><span class="w">    </span><span class="s2">&quot;topskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-40"><a id="__codelineno-112-40" name="__codelineno-112-40" href="#__codelineno-112-40"></a><span class="w">    </span><span class="s2">&quot;splittopskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-41"><a id="__codelineno-112-41" name="__codelineno-112-41" href="#__codelineno-112-41"></a><span class="w">    </span><span class="s2">&quot;tabskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-42"><a id="__codelineno-112-42" name="__codelineno-112-42" href="#__codelineno-112-42"></a><span class="w">    </span><span class="s2">&quot;spaceskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-43"><a id="__codelineno-112-43" name="__codelineno-112-43" href="#__codelineno-112-43"></a><span class="w">    </span><span class="s2">&quot;xspaceskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-44"><a id="__codelineno-112-44" name="__codelineno-112-44" href="#__codelineno-112-44"></a><span class="w">    </span><span class="s2">&quot;parfillskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-45"><a id="__codelineno-112-45" name="__codelineno-112-45" href="#__codelineno-112-45"></a><span class="w">    </span><span class="s2">&quot;mathskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-46"><a id="__codelineno-112-46" name="__codelineno-112-46" href="#__codelineno-112-46"></a><span class="w">    </span><span class="s2">&quot;thinmuskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-47"><a id="__codelineno-112-47" name="__codelineno-112-47" href="#__codelineno-112-47"></a><span class="w">    </span><span class="s2">&quot;medmuskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-48"><a id="__codelineno-112-48" name="__codelineno-112-48" href="#__codelineno-112-48"></a><span class="w">    </span><span class="s2">&quot;thickmuskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-49"><a id="__codelineno-112-49" name="__codelineno-112-49" href="#__codelineno-112-49"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;userskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-50"><a id="__codelineno-112-50" name="__codelineno-112-50" href="#__codelineno-112-50"></a><span class="w">    </span><span class="p">[</span><span class="mi">98</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;conditionalmathskip&quot;</span><span class="p">,</span>
</span><span id="__span-112-51"><a id="__codelineno-112-51" name="__codelineno-112-51" href="#__codelineno-112-51"></a><span class="w">    </span><span class="p">[</span><span class="mi">99</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;muglue&quot;</span><span class="p">,</span>
</span><span id="__span-112-52"><a id="__codelineno-112-52" name="__codelineno-112-52" href="#__codelineno-112-52"></a><span class="w">    </span><span class="p">[</span><span class="mi">100</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;leaders&quot;</span><span class="p">,</span>
</span><span id="__span-112-53"><a id="__codelineno-112-53" name="__codelineno-112-53" href="#__codelineno-112-53"></a><span class="w">    </span><span class="p">[</span><span class="mi">101</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;cleaders&quot;</span><span class="p">,</span>
</span><span id="__span-112-54"><a id="__codelineno-112-54" name="__codelineno-112-54" href="#__codelineno-112-54"></a><span class="w">    </span><span class="p">[</span><span class="mi">102</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;xleaders&quot;</span><span class="p">,</span>
</span><span id="__span-112-55"><a id="__codelineno-112-55" name="__codelineno-112-55" href="#__codelineno-112-55"></a><span class="w">    </span><span class="p">[</span><span class="mi">103</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;gleaders&quot;</span><span class="p">,</span>
</span><span id="__span-112-56"><a id="__codelineno-112-56" name="__codelineno-112-56" href="#__codelineno-112-56"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-57"><a id="__codelineno-112-57" name="__codelineno-112-57" href="#__codelineno-112-57"></a><span class="w">  </span><span class="nv">glyph</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-58"><a id="__codelineno-112-58" name="__codelineno-112-58" href="#__codelineno-112-58"></a><span class="w">    </span><span class="s2">&quot;character&quot;</span><span class="p">,</span>
</span><span id="__span-112-59"><a id="__codelineno-112-59" name="__codelineno-112-59" href="#__codelineno-112-59"></a><span class="w">    </span><span class="s2">&quot;ligature&quot;</span><span class="p">,</span>
</span><span id="__span-112-60"><a id="__codelineno-112-60" name="__codelineno-112-60" href="#__codelineno-112-60"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;unset&quot;</span><span class="p">,</span>
</span><span id="__span-112-61"><a id="__codelineno-112-61" name="__codelineno-112-61" href="#__codelineno-112-61"></a><span class="w">    </span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ghost&quot;</span><span class="p">,</span>
</span><span id="__span-112-62"><a id="__codelineno-112-62" name="__codelineno-112-62" href="#__codelineno-112-62"></a><span class="w">    </span><span class="p">[</span><span class="mi">8</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;left&quot;</span><span class="p">,</span>
</span><span id="__span-112-63"><a id="__codelineno-112-63" name="__codelineno-112-63" href="#__codelineno-112-63"></a><span class="w">    </span><span class="p">[</span><span class="mi">16</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;right&quot;</span><span class="p">,</span>
</span><span id="__span-112-64"><a id="__codelineno-112-64" name="__codelineno-112-64" href="#__codelineno-112-64"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-65"><a id="__codelineno-112-65" name="__codelineno-112-65" href="#__codelineno-112-65"></a><span class="w">  </span><span class="nv">hlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-66"><a id="__codelineno-112-66" name="__codelineno-112-66" href="#__codelineno-112-66"></a><span class="w">    </span><span class="s2">&quot;line&quot;</span><span class="p">,</span>
</span><span id="__span-112-67"><a id="__codelineno-112-67" name="__codelineno-112-67" href="#__codelineno-112-67"></a><span class="w">    </span><span class="s2">&quot;box&quot;</span><span class="p">,</span>
</span><span id="__span-112-68"><a id="__codelineno-112-68" name="__codelineno-112-68" href="#__codelineno-112-68"></a><span class="w">    </span><span class="s2">&quot;indent&quot;</span><span class="p">,</span>
</span><span id="__span-112-69"><a id="__codelineno-112-69" name="__codelineno-112-69" href="#__codelineno-112-69"></a><span class="w">    </span><span class="s2">&quot;alignment&quot;</span><span class="p">,</span>
</span><span id="__span-112-70"><a id="__codelineno-112-70" name="__codelineno-112-70" href="#__codelineno-112-70"></a><span class="w">    </span><span class="s2">&quot;cell&quot;</span><span class="p">,</span>
</span><span id="__span-112-71"><a id="__codelineno-112-71" name="__codelineno-112-71" href="#__codelineno-112-71"></a><span class="w">    </span><span class="s2">&quot;equation&quot;</span><span class="p">,</span>
</span><span id="__span-112-72"><a id="__codelineno-112-72" name="__codelineno-112-72" href="#__codelineno-112-72"></a><span class="w">    </span><span class="s2">&quot;equationnumber&quot;</span><span class="p">,</span>
</span><span id="__span-112-73"><a id="__codelineno-112-73" name="__codelineno-112-73" href="#__codelineno-112-73"></a><span class="w">    </span><span class="s2">&quot;math&quot;</span><span class="p">,</span>
</span><span id="__span-112-74"><a id="__codelineno-112-74" name="__codelineno-112-74" href="#__codelineno-112-74"></a><span class="w">    </span><span class="s2">&quot;mathchar&quot;</span><span class="p">,</span>
</span><span id="__span-112-75"><a id="__codelineno-112-75" name="__codelineno-112-75" href="#__codelineno-112-75"></a><span class="w">    </span><span class="s2">&quot;hextensible&quot;</span><span class="p">,</span>
</span><span id="__span-112-76"><a id="__codelineno-112-76" name="__codelineno-112-76" href="#__codelineno-112-76"></a><span class="w">    </span><span class="s2">&quot;vextensible&quot;</span><span class="p">,</span>
</span><span id="__span-112-77"><a id="__codelineno-112-77" name="__codelineno-112-77" href="#__codelineno-112-77"></a><span class="w">    </span><span class="s2">&quot;hdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-78"><a id="__codelineno-112-78" name="__codelineno-112-78" href="#__codelineno-112-78"></a><span class="w">    </span><span class="s2">&quot;vdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-79"><a id="__codelineno-112-79" name="__codelineno-112-79" href="#__codelineno-112-79"></a><span class="w">    </span><span class="s2">&quot;overdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-80"><a id="__codelineno-112-80" name="__codelineno-112-80" href="#__codelineno-112-80"></a><span class="w">    </span><span class="s2">&quot;underdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-81"><a id="__codelineno-112-81" name="__codelineno-112-81" href="#__codelineno-112-81"></a><span class="w">    </span><span class="s2">&quot;numerator&quot;</span><span class="p">,</span>
</span><span id="__span-112-82"><a id="__codelineno-112-82" name="__codelineno-112-82" href="#__codelineno-112-82"></a><span class="w">    </span><span class="s2">&quot;denominator&quot;</span><span class="p">,</span>
</span><span id="__span-112-83"><a id="__codelineno-112-83" name="__codelineno-112-83" href="#__codelineno-112-83"></a><span class="w">    </span><span class="s2">&quot;limits&quot;</span><span class="p">,</span>
</span><span id="__span-112-84"><a id="__codelineno-112-84" name="__codelineno-112-84" href="#__codelineno-112-84"></a><span class="w">    </span><span class="s2">&quot;fraction&quot;</span><span class="p">,</span>
</span><span id="__span-112-85"><a id="__codelineno-112-85" name="__codelineno-112-85" href="#__codelineno-112-85"></a><span class="w">    </span><span class="s2">&quot;nucleus&quot;</span><span class="p">,</span>
</span><span id="__span-112-86"><a id="__codelineno-112-86" name="__codelineno-112-86" href="#__codelineno-112-86"></a><span class="w">    </span><span class="s2">&quot;sup&quot;</span><span class="p">,</span>
</span><span id="__span-112-87"><a id="__codelineno-112-87" name="__codelineno-112-87" href="#__codelineno-112-87"></a><span class="w">    </span><span class="s2">&quot;sub&quot;</span><span class="p">,</span>
</span><span id="__span-112-88"><a id="__codelineno-112-88" name="__codelineno-112-88" href="#__codelineno-112-88"></a><span class="w">    </span><span class="s2">&quot;degree&quot;</span><span class="p">,</span>
</span><span id="__span-112-89"><a id="__codelineno-112-89" name="__codelineno-112-89" href="#__codelineno-112-89"></a><span class="w">    </span><span class="s2">&quot;scripts&quot;</span><span class="p">,</span>
</span><span id="__span-112-90"><a id="__codelineno-112-90" name="__codelineno-112-90" href="#__codelineno-112-90"></a><span class="w">    </span><span class="s2">&quot;over&quot;</span><span class="p">,</span>
</span><span id="__span-112-91"><a id="__codelineno-112-91" name="__codelineno-112-91" href="#__codelineno-112-91"></a><span class="w">    </span><span class="s2">&quot;under&quot;</span><span class="p">,</span>
</span><span id="__span-112-92"><a id="__codelineno-112-92" name="__codelineno-112-92" href="#__codelineno-112-92"></a><span class="w">    </span><span class="s2">&quot;accent&quot;</span><span class="p">,</span>
</span><span id="__span-112-93"><a id="__codelineno-112-93" name="__codelineno-112-93" href="#__codelineno-112-93"></a><span class="w">    </span><span class="s2">&quot;radical&quot;</span><span class="p">,</span>
</span><span id="__span-112-94"><a id="__codelineno-112-94" name="__codelineno-112-94" href="#__codelineno-112-94"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
</span><span id="__span-112-95"><a id="__codelineno-112-95" name="__codelineno-112-95" href="#__codelineno-112-95"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-96"><a id="__codelineno-112-96" name="__codelineno-112-96" href="#__codelineno-112-96"></a><span class="w">  </span><span class="nv">kern</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-97"><a id="__codelineno-112-97" name="__codelineno-112-97" href="#__codelineno-112-97"></a><span class="w">    </span><span class="s2">&quot;userkern&quot;</span><span class="p">,</span>
</span><span id="__span-112-98"><a id="__codelineno-112-98" name="__codelineno-112-98" href="#__codelineno-112-98"></a><span class="w">    </span><span class="s2">&quot;accentkern&quot;</span><span class="p">,</span>
</span><span id="__span-112-99"><a id="__codelineno-112-99" name="__codelineno-112-99" href="#__codelineno-112-99"></a><span class="w">    </span><span class="s2">&quot;italiccorrection&quot;</span><span class="p">,</span>
</span><span id="__span-112-100"><a id="__codelineno-112-100" name="__codelineno-112-100" href="#__codelineno-112-100"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fontkern&quot;</span><span class="p">,</span>
</span><span id="__span-112-101"><a id="__codelineno-112-101" name="__codelineno-112-101" href="#__codelineno-112-101"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-102"><a id="__codelineno-112-102" name="__codelineno-112-102" href="#__codelineno-112-102"></a><span class="w">  </span><span class="nv">math</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">&quot;endmath&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;beginmath&quot;</span><span class="w"> </span><span class="p">},</span>
</span><span id="__span-112-103"><a id="__codelineno-112-103" name="__codelineno-112-103" href="#__codelineno-112-103"></a><span class="w">  </span><span class="nv">noad</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-104"><a id="__codelineno-112-104" name="__codelineno-112-104" href="#__codelineno-112-104"></a><span class="w">    </span><span class="s2">&quot;opdisplaylimits&quot;</span><span class="p">,</span>
</span><span id="__span-112-105"><a id="__codelineno-112-105" name="__codelineno-112-105" href="#__codelineno-112-105"></a><span class="w">    </span><span class="s2">&quot;oplimits&quot;</span><span class="p">,</span>
</span><span id="__span-112-106"><a id="__codelineno-112-106" name="__codelineno-112-106" href="#__codelineno-112-106"></a><span class="w">    </span><span class="s2">&quot;opnolimits&quot;</span><span class="p">,</span>
</span><span id="__span-112-107"><a id="__codelineno-112-107" name="__codelineno-112-107" href="#__codelineno-112-107"></a><span class="w">    </span><span class="s2">&quot;bin&quot;</span><span class="p">,</span>
</span><span id="__span-112-108"><a id="__codelineno-112-108" name="__codelineno-112-108" href="#__codelineno-112-108"></a><span class="w">    </span><span class="s2">&quot;rel&quot;</span><span class="p">,</span>
</span><span id="__span-112-109"><a id="__codelineno-112-109" name="__codelineno-112-109" href="#__codelineno-112-109"></a><span class="w">    </span><span class="s2">&quot;open&quot;</span><span class="p">,</span>
</span><span id="__span-112-110"><a id="__codelineno-112-110" name="__codelineno-112-110" href="#__codelineno-112-110"></a><span class="w">    </span><span class="s2">&quot;close&quot;</span><span class="p">,</span>
</span><span id="__span-112-111"><a id="__codelineno-112-111" name="__codelineno-112-111" href="#__codelineno-112-111"></a><span class="w">    </span><span class="s2">&quot;punct&quot;</span><span class="p">,</span>
</span><span id="__span-112-112"><a id="__codelineno-112-112" name="__codelineno-112-112" href="#__codelineno-112-112"></a><span class="w">    </span><span class="s2">&quot;inner&quot;</span><span class="p">,</span>
</span><span id="__span-112-113"><a id="__codelineno-112-113" name="__codelineno-112-113" href="#__codelineno-112-113"></a><span class="w">    </span><span class="s2">&quot;under&quot;</span><span class="p">,</span>
</span><span id="__span-112-114"><a id="__codelineno-112-114" name="__codelineno-112-114" href="#__codelineno-112-114"></a><span class="w">    </span><span class="s2">&quot;over&quot;</span><span class="p">,</span>
</span><span id="__span-112-115"><a id="__codelineno-112-115" name="__codelineno-112-115" href="#__codelineno-112-115"></a><span class="w">    </span><span class="s2">&quot;vcenter&quot;</span><span class="p">,</span>
</span><span id="__span-112-116"><a id="__codelineno-112-116" name="__codelineno-112-116" href="#__codelineno-112-116"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;ord&quot;</span><span class="p">,</span>
</span><span id="__span-112-117"><a id="__codelineno-112-117" name="__codelineno-112-117" href="#__codelineno-112-117"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-118"><a id="__codelineno-112-118" name="__codelineno-112-118" href="#__codelineno-112-118"></a><span class="w">  </span><span class="nv">penalty</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-119"><a id="__codelineno-112-119" name="__codelineno-112-119" href="#__codelineno-112-119"></a><span class="w">    </span><span class="s2">&quot;linebreakpenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-120"><a id="__codelineno-112-120" name="__codelineno-112-120" href="#__codelineno-112-120"></a><span class="w">    </span><span class="s2">&quot;linepenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-121"><a id="__codelineno-112-121" name="__codelineno-112-121" href="#__codelineno-112-121"></a><span class="w">    </span><span class="s2">&quot;wordpenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-122"><a id="__codelineno-112-122" name="__codelineno-112-122" href="#__codelineno-112-122"></a><span class="w">    </span><span class="s2">&quot;finalpenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-123"><a id="__codelineno-112-123" name="__codelineno-112-123" href="#__codelineno-112-123"></a><span class="w">    </span><span class="s2">&quot;noadpenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-124"><a id="__codelineno-112-124" name="__codelineno-112-124" href="#__codelineno-112-124"></a><span class="w">    </span><span class="s2">&quot;beforedisplaypenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-125"><a id="__codelineno-112-125" name="__codelineno-112-125" href="#__codelineno-112-125"></a><span class="w">    </span><span class="s2">&quot;afterdisplaypenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-126"><a id="__codelineno-112-126" name="__codelineno-112-126" href="#__codelineno-112-126"></a><span class="w">    </span><span class="s2">&quot;equationnumberpenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-127"><a id="__codelineno-112-127" name="__codelineno-112-127" href="#__codelineno-112-127"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;userpenalty&quot;</span><span class="p">,</span>
</span><span id="__span-112-128"><a id="__codelineno-112-128" name="__codelineno-112-128" href="#__codelineno-112-128"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-129"><a id="__codelineno-112-129" name="__codelineno-112-129" href="#__codelineno-112-129"></a><span class="w">  </span><span class="nv">radical</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-130"><a id="__codelineno-112-130" name="__codelineno-112-130" href="#__codelineno-112-130"></a><span class="w">    </span><span class="s2">&quot;uradical&quot;</span><span class="p">,</span>
</span><span id="__span-112-131"><a id="__codelineno-112-131" name="__codelineno-112-131" href="#__codelineno-112-131"></a><span class="w">    </span><span class="s2">&quot;uroot&quot;</span><span class="p">,</span>
</span><span id="__span-112-132"><a id="__codelineno-112-132" name="__codelineno-112-132" href="#__codelineno-112-132"></a><span class="w">    </span><span class="s2">&quot;uunderdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-133"><a id="__codelineno-112-133" name="__codelineno-112-133" href="#__codelineno-112-133"></a><span class="w">    </span><span class="s2">&quot;uoverdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-134"><a id="__codelineno-112-134" name="__codelineno-112-134" href="#__codelineno-112-134"></a><span class="w">    </span><span class="s2">&quot;udelimiterunder&quot;</span><span class="p">,</span>
</span><span id="__span-112-135"><a id="__codelineno-112-135" name="__codelineno-112-135" href="#__codelineno-112-135"></a><span class="w">    </span><span class="s2">&quot;udelimiterover&quot;</span><span class="p">,</span>
</span><span id="__span-112-136"><a id="__codelineno-112-136" name="__codelineno-112-136" href="#__codelineno-112-136"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;radical&quot;</span><span class="p">,</span>
</span><span id="__span-112-137"><a id="__codelineno-112-137" name="__codelineno-112-137" href="#__codelineno-112-137"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-138"><a id="__codelineno-112-138" name="__codelineno-112-138" href="#__codelineno-112-138"></a><span class="w">  </span><span class="nv">rule</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-139"><a id="__codelineno-112-139" name="__codelineno-112-139" href="#__codelineno-112-139"></a><span class="w">    </span><span class="s2">&quot;box&quot;</span><span class="p">,</span>
</span><span id="__span-112-140"><a id="__codelineno-112-140" name="__codelineno-112-140" href="#__codelineno-112-140"></a><span class="w">    </span><span class="s2">&quot;image&quot;</span><span class="p">,</span>
</span><span id="__span-112-141"><a id="__codelineno-112-141" name="__codelineno-112-141" href="#__codelineno-112-141"></a><span class="w">    </span><span class="s2">&quot;empty&quot;</span><span class="p">,</span>
</span><span id="__span-112-142"><a id="__codelineno-112-142" name="__codelineno-112-142" href="#__codelineno-112-142"></a><span class="w">    </span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
</span><span id="__span-112-143"><a id="__codelineno-112-143" name="__codelineno-112-143" href="#__codelineno-112-143"></a><span class="w">    </span><span class="s2">&quot;over&quot;</span><span class="p">,</span>
</span><span id="__span-112-144"><a id="__codelineno-112-144" name="__codelineno-112-144" href="#__codelineno-112-144"></a><span class="w">    </span><span class="s2">&quot;under&quot;</span><span class="p">,</span>
</span><span id="__span-112-145"><a id="__codelineno-112-145" name="__codelineno-112-145" href="#__codelineno-112-145"></a><span class="w">    </span><span class="s2">&quot;fraction&quot;</span><span class="p">,</span>
</span><span id="__span-112-146"><a id="__codelineno-112-146" name="__codelineno-112-146" href="#__codelineno-112-146"></a><span class="w">    </span><span class="s2">&quot;radical&quot;</span><span class="p">,</span>
</span><span id="__span-112-147"><a id="__codelineno-112-147" name="__codelineno-112-147" href="#__codelineno-112-147"></a><span class="w">    </span><span class="s2">&quot;outline&quot;</span><span class="p">,</span>
</span><span id="__span-112-148"><a id="__codelineno-112-148" name="__codelineno-112-148" href="#__codelineno-112-148"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="p">,</span>
</span><span id="__span-112-149"><a id="__codelineno-112-149" name="__codelineno-112-149" href="#__codelineno-112-149"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-150"><a id="__codelineno-112-150" name="__codelineno-112-150" href="#__codelineno-112-150"></a><span class="w">  </span><span class="nv">vlist</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-112-151"><a id="__codelineno-112-151" name="__codelineno-112-151" href="#__codelineno-112-151"></a><span class="w">    </span><span class="s2">&quot;line&quot;</span><span class="p">,</span>
</span><span id="__span-112-152"><a id="__codelineno-112-152" name="__codelineno-112-152" href="#__codelineno-112-152"></a><span class="w">    </span><span class="s2">&quot;box&quot;</span><span class="p">,</span>
</span><span id="__span-112-153"><a id="__codelineno-112-153" name="__codelineno-112-153" href="#__codelineno-112-153"></a><span class="w">    </span><span class="s2">&quot;indent&quot;</span><span class="p">,</span>
</span><span id="__span-112-154"><a id="__codelineno-112-154" name="__codelineno-112-154" href="#__codelineno-112-154"></a><span class="w">    </span><span class="s2">&quot;alignment&quot;</span><span class="p">,</span>
</span><span id="__span-112-155"><a id="__codelineno-112-155" name="__codelineno-112-155" href="#__codelineno-112-155"></a><span class="w">    </span><span class="s2">&quot;cell&quot;</span><span class="p">,</span>
</span><span id="__span-112-156"><a id="__codelineno-112-156" name="__codelineno-112-156" href="#__codelineno-112-156"></a><span class="w">    </span><span class="s2">&quot;equation&quot;</span><span class="p">,</span>
</span><span id="__span-112-157"><a id="__codelineno-112-157" name="__codelineno-112-157" href="#__codelineno-112-157"></a><span class="w">    </span><span class="s2">&quot;equationnumber&quot;</span><span class="p">,</span>
</span><span id="__span-112-158"><a id="__codelineno-112-158" name="__codelineno-112-158" href="#__codelineno-112-158"></a><span class="w">    </span><span class="s2">&quot;math&quot;</span><span class="p">,</span>
</span><span id="__span-112-159"><a id="__codelineno-112-159" name="__codelineno-112-159" href="#__codelineno-112-159"></a><span class="w">    </span><span class="s2">&quot;mathchar&quot;</span><span class="p">,</span>
</span><span id="__span-112-160"><a id="__codelineno-112-160" name="__codelineno-112-160" href="#__codelineno-112-160"></a><span class="w">    </span><span class="s2">&quot;hextensible&quot;</span><span class="p">,</span>
</span><span id="__span-112-161"><a id="__codelineno-112-161" name="__codelineno-112-161" href="#__codelineno-112-161"></a><span class="w">    </span><span class="s2">&quot;vextensible&quot;</span><span class="p">,</span>
</span><span id="__span-112-162"><a id="__codelineno-112-162" name="__codelineno-112-162" href="#__codelineno-112-162"></a><span class="w">    </span><span class="s2">&quot;hdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-163"><a id="__codelineno-112-163" name="__codelineno-112-163" href="#__codelineno-112-163"></a><span class="w">    </span><span class="s2">&quot;vdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-164"><a id="__codelineno-112-164" name="__codelineno-112-164" href="#__codelineno-112-164"></a><span class="w">    </span><span class="s2">&quot;overdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-165"><a id="__codelineno-112-165" name="__codelineno-112-165" href="#__codelineno-112-165"></a><span class="w">    </span><span class="s2">&quot;underdelimiter&quot;</span><span class="p">,</span>
</span><span id="__span-112-166"><a id="__codelineno-112-166" name="__codelineno-112-166" href="#__codelineno-112-166"></a><span class="w">    </span><span class="s2">&quot;numerator&quot;</span><span class="p">,</span>
</span><span id="__span-112-167"><a id="__codelineno-112-167" name="__codelineno-112-167" href="#__codelineno-112-167"></a><span class="w">    </span><span class="s2">&quot;denominator&quot;</span><span class="p">,</span>
</span><span id="__span-112-168"><a id="__codelineno-112-168" name="__codelineno-112-168" href="#__codelineno-112-168"></a><span class="w">    </span><span class="s2">&quot;limits&quot;</span><span class="p">,</span>
</span><span id="__span-112-169"><a id="__codelineno-112-169" name="__codelineno-112-169" href="#__codelineno-112-169"></a><span class="w">    </span><span class="s2">&quot;fraction&quot;</span><span class="p">,</span>
</span><span id="__span-112-170"><a id="__codelineno-112-170" name="__codelineno-112-170" href="#__codelineno-112-170"></a><span class="w">    </span><span class="s2">&quot;nucleus&quot;</span><span class="p">,</span>
</span><span id="__span-112-171"><a id="__codelineno-112-171" name="__codelineno-112-171" href="#__codelineno-112-171"></a><span class="w">    </span><span class="s2">&quot;sup&quot;</span><span class="p">,</span>
</span><span id="__span-112-172"><a id="__codelineno-112-172" name="__codelineno-112-172" href="#__codelineno-112-172"></a><span class="w">    </span><span class="s2">&quot;sub&quot;</span><span class="p">,</span>
</span><span id="__span-112-173"><a id="__codelineno-112-173" name="__codelineno-112-173" href="#__codelineno-112-173"></a><span class="w">    </span><span class="s2">&quot;degree&quot;</span><span class="p">,</span>
</span><span id="__span-112-174"><a id="__codelineno-112-174" name="__codelineno-112-174" href="#__codelineno-112-174"></a><span class="w">    </span><span class="s2">&quot;scripts&quot;</span><span class="p">,</span>
</span><span id="__span-112-175"><a id="__codelineno-112-175" name="__codelineno-112-175" href="#__codelineno-112-175"></a><span class="w">    </span><span class="s2">&quot;over&quot;</span><span class="p">,</span>
</span><span id="__span-112-176"><a id="__codelineno-112-176" name="__codelineno-112-176" href="#__codelineno-112-176"></a><span class="w">    </span><span class="s2">&quot;under&quot;</span><span class="p">,</span>
</span><span id="__span-112-177"><a id="__codelineno-112-177" name="__codelineno-112-177" href="#__codelineno-112-177"></a><span class="w">    </span><span class="s2">&quot;accent&quot;</span><span class="p">,</span>
</span><span id="__span-112-178"><a id="__codelineno-112-178" name="__codelineno-112-178" href="#__codelineno-112-178"></a><span class="w">    </span><span class="s2">&quot;radical&quot;</span><span class="p">,</span>
</span><span id="__span-112-179"><a id="__codelineno-112-179" name="__codelineno-112-179" href="#__codelineno-112-179"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;unknown&quot;</span><span class="p">,</span>
</span><span id="__span-112-180"><a id="__codelineno-112-180" name="__codelineno-112-180" href="#__codelineno-112-180"></a><span class="w">  </span><span class="p">},</span>
</span><span id="__span-112-181"><a id="__codelineno-112-181" name="__codelineno-112-181" href="#__codelineno-112-181"></a><span class="p">})</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3153-L3222">lnodelib.c#L3153-L3222</a></li>
</ul>
<h3 id="nodetostring">node.tostring</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-113-1"><a id="__codelineno-113-1" name="__codelineno-113-1" href="#__codelineno-113-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">tostring</span><span class="p">(</span><span class="nv">n</span><span class="p">:</span><span class="w"> </span><span class="py">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-113-2"><a id="__codelineno-113-2" name="__codelineno-113-2" href="#__codelineno-113-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-113-3"><a id="__codelineno-113-3" name="__codelineno-113-3" href="#__codelineno-113-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-113-4"><a id="__codelineno-113-4" name="__codelineno-113-4" href="#__codelineno-113-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-113-5"><a id="__codelineno-113-5" name="__codelineno-113-5" href="#__codelineno-113-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-113-6"><a id="__codelineno-113-6" name="__codelineno-113-6" href="#__codelineno-113-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-113-7"><a id="__codelineno-113-7" name="__codelineno-113-7" href="#__codelineno-113-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-113-8"><a id="__codelineno-113-8" name="__codelineno-113-8" href="#__codelineno-113-8"></a><span class="p">})</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">string</span>
</span></code></pre></div>
<p>@return  - For example <code>&lt;node    nil &lt;    234 &gt;    nil : glyph 0&gt;</code></p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-114-1"><a id="__codelineno-114-1" name="__codelineno-114-1" href="#__codelineno-114-1"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span>
</span><span id="__span-114-2"><a id="__codelineno-114-2" name="__codelineno-114-2" href="#__codelineno-114-2"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">tostring</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">new</span><span class="p">(</span><span class="s2">&quot;glyph&quot;</span><span class="p">)),</span>
</span><span id="__span-114-3"><a id="__codelineno-114-3" name="__codelineno-114-3" href="#__codelineno-114-3"></a><span class="w">  </span><span class="s2">&quot;&lt;node    nil &lt;    234 &gt;    nil : glyph 0&gt;&quot;</span>
</span><span id="__span-114-4"><a id="__codelineno-114-4" name="__codelineno-114-4" href="#__codelineno-114-4"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L5913-L5918">lnodelib.c#L5913-L5918</a></li>
</ul>
<p>@see node.direct.tostring</p>
<h3 id="nodeusedlist">node.usedlist</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-115-1"><a id="__codelineno-115-1" name="__codelineno-115-1" href="#__codelineno-115-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">usedlist</span><span class="p">()</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">n</span><span class="w"> </span><span class="nv">Node</span><span class="w"> </span><span class="p">{</span>
</span><span id="__span-115-2"><a id="__codelineno-115-2" name="__codelineno-115-2" href="#__codelineno-115-2"></a><span class="w">    </span><span class="nb">next</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-115-3"><a id="__codelineno-115-3" name="__codelineno-115-3" href="#__codelineno-115-3"></a><span class="w">    </span><span class="nv">prev</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-115-4"><a id="__codelineno-115-4" name="__codelineno-115-4" href="#__codelineno-115-4"></a><span class="w">    </span><span class="nv">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-115-5"><a id="__codelineno-115-5" name="__codelineno-115-5" href="#__codelineno-115-5"></a><span class="w">    </span><span class="nv">subtype</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">integer</span><span class="p">,</span>
</span><span id="__span-115-6"><a id="__codelineno-115-6" name="__codelineno-115-6" href="#__codelineno-115-6"></a><span class="w">    </span><span class="nv">head</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="err">?</span><span class="p">,</span>
</span><span id="__span-115-7"><a id="__codelineno-115-7" name="__codelineno-115-7" href="#__codelineno-115-7"></a><span class="w">    </span><span class="nv">attr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nv">Node</span><span class="p">,</span>
</span><span id="__span-115-8"><a id="__codelineno-115-8" name="__codelineno-115-8" href="#__codelineno-115-8"></a><span class="p">}</span>
</span></code></pre></div>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-116-1"><a id="__codelineno-116-1" name="__codelineno-116-1" href="#__codelineno-116-1"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">equals</span><span class="p">(</span>
</span><span id="__span-116-2"><a id="__codelineno-116-2" name="__codelineno-116-2" href="#__codelineno-116-2"></a><span class="w">  </span><span class="nb">tostring</span><span class="p">(</span><span class="nv">node</span><span class="p">.</span><span class="nf">usedlist</span><span class="p">()),</span>
</span><span id="__span-116-3"><a id="__codelineno-116-3" name="__codelineno-116-3" href="#__codelineno-116-3"></a><span class="w">  </span><span class="s2">&quot;&lt;node    nil &lt;    234 &gt;    239 : dir 0&gt;&quot;</span>
</span><span id="__span-116-4"><a id="__codelineno-116-4" name="__codelineno-116-4" href="#__codelineno-116-4"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L6471-L6476">lnodelib.c#L6471-L6476</a></li>
</ul>
<p>@see node.direct.usedlist</p>
<h3 id="nodevalues">node.values</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-117-1"><a id="__codelineno-117-1" name="__codelineno-117-1" href="#__codelineno-117-1"></a><span class="kr">function</span><span class="w"> </span><span class="nc">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="nb">type</span><span class="p">:</span><span class="w"> </span><span class="p">(</span><span class="s2">&quot;dir&quot;</span><span class="o">|</span><span class="s2">&quot;direction&quot;</span><span class="o">|</span><span class="s2">&quot;glue&quot;</span><span class="o">|</span><span class="s2">&quot;pdf_literal&quot;</span><span class="o">|</span><span class="s2">&quot;pdf_action&quot;</span><span class="o">|</span><span class="s2">&quot;pdf_window&quot;</span><span class="o">|</span><span class="s2">&quot;color_stack&quot;</span><span class="o">|</span><span class="s2">&quot;pagestate&quot;</span><span class="p">))</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="nv">string</span><span class="p">[]</span><span class="err">?</span>
</span></code></pre></div>
<p>Report some used values.</p>
<p>Valid arguments are <code>dir</code>, <code>direction</code>, <code>glue</code>, <code>pdf_literal</code>, <code>pdf_action</code>, <code>pdf_window</code> and <code>color_stack</code>. Keep
in mind that the setters normally expect a number, but this helper gives you a
list of what numbers matter. For practical reason the <code>pagestate</code> values
are also reported with this helper.</p>
<p><strong>Example:</strong></p>
<div class="language-lua highlight"><pre><span></span><code><span id="__span-118-1"><a id="__codelineno-118-1" name="__codelineno-118-1" href="#__codelineno-118-1"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-118-2"><a id="__codelineno-118-2" name="__codelineno-118-2" href="#__codelineno-118-2"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="s2">&quot;dir&quot;</span><span class="p">),</span>
</span><span id="__span-118-3"><a id="__codelineno-118-3" name="__codelineno-118-3" href="#__codelineno-118-3"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;TLT&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;TRT&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LTL&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;RTT&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-118-4"><a id="__codelineno-118-4" name="__codelineno-118-4" href="#__codelineno-118-4"></a><span class="p">)</span>
</span><span id="__span-118-5"><a id="__codelineno-118-5" name="__codelineno-118-5" href="#__codelineno-118-5"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-118-6"><a id="__codelineno-118-6" name="__codelineno-118-6" href="#__codelineno-118-6"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="s2">&quot;direction&quot;</span><span class="p">),</span>
</span><span id="__span-118-7"><a id="__codelineno-118-7" name="__codelineno-118-7" href="#__codelineno-118-7"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;TLT&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;TRT&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;LTL&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;RTT&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-118-8"><a id="__codelineno-118-8" name="__codelineno-118-8" href="#__codelineno-118-8"></a><span class="p">)</span>
</span><span id="__span-118-9"><a id="__codelineno-118-9" name="__codelineno-118-9" href="#__codelineno-118-9"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-118-10"><a id="__codelineno-118-10" name="__codelineno-118-10" href="#__codelineno-118-10"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="s2">&quot;glue&quot;</span><span class="p">),</span>
</span><span id="__span-118-11"><a id="__codelineno-118-11" name="__codelineno-118-11" href="#__codelineno-118-11"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;normal&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fi&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fil&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;fill&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;filll&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-118-12"><a id="__codelineno-118-12" name="__codelineno-118-12" href="#__codelineno-118-12"></a><span class="p">)</span>
</span><span id="__span-118-13"><a id="__codelineno-118-13" name="__codelineno-118-13" href="#__codelineno-118-13"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-118-14"><a id="__codelineno-118-14" name="__codelineno-118-14" href="#__codelineno-118-14"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="s2">&quot;pdf_literal&quot;</span><span class="p">),</span>
</span><span id="__span-118-15"><a id="__codelineno-118-15" name="__codelineno-118-15" href="#__codelineno-118-15"></a><span class="w">  </span><span class="p">{</span>
</span><span id="__span-118-16"><a id="__codelineno-118-16" name="__codelineno-118-16" href="#__codelineno-118-16"></a><span class="w">    </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;origin&quot;</span><span class="p">,</span>
</span><span id="__span-118-17"><a id="__codelineno-118-17" name="__codelineno-118-17" href="#__codelineno-118-17"></a><span class="w">    </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;page&quot;</span><span class="p">,</span>
</span><span id="__span-118-18"><a id="__codelineno-118-18" name="__codelineno-118-18" href="#__codelineno-118-18"></a><span class="w">    </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;always&quot;</span><span class="p">,</span>
</span><span id="__span-118-19"><a id="__codelineno-118-19" name="__codelineno-118-19" href="#__codelineno-118-19"></a><span class="w">    </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;raw&quot;</span><span class="p">,</span>
</span><span id="__span-118-20"><a id="__codelineno-118-20" name="__codelineno-118-20" href="#__codelineno-118-20"></a><span class="w">    </span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;text&quot;</span><span class="p">,</span>
</span><span id="__span-118-21"><a id="__codelineno-118-21" name="__codelineno-118-21" href="#__codelineno-118-21"></a><span class="w">    </span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;font&quot;</span><span class="p">,</span>
</span><span id="__span-118-22"><a id="__codelineno-118-22" name="__codelineno-118-22" href="#__codelineno-118-22"></a><span class="w">    </span><span class="p">[</span><span class="mi">6</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;special&quot;</span><span class="p">,</span>
</span><span id="__span-118-23"><a id="__codelineno-118-23" name="__codelineno-118-23" href="#__codelineno-118-23"></a><span class="w">  </span><span class="p">}</span>
</span><span id="__span-118-24"><a id="__codelineno-118-24" name="__codelineno-118-24" href="#__codelineno-118-24"></a><span class="p">)</span>
</span><span id="__span-118-25"><a id="__codelineno-118-25" name="__codelineno-118-25" href="#__codelineno-118-25"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-118-26"><a id="__codelineno-118-26" name="__codelineno-118-26" href="#__codelineno-118-26"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="s2">&quot;pdf_action&quot;</span><span class="p">),</span>
</span><span id="__span-118-27"><a id="__codelineno-118-27" name="__codelineno-118-27" href="#__codelineno-118-27"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;page&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;goto&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;thread&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;user&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-118-28"><a id="__codelineno-118-28" name="__codelineno-118-28" href="#__codelineno-118-28"></a><span class="p">)</span>
</span><span id="__span-118-29"><a id="__codelineno-118-29" name="__codelineno-118-29" href="#__codelineno-118-29"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-118-30"><a id="__codelineno-118-30" name="__codelineno-118-30" href="#__codelineno-118-30"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="s2">&quot;pdf_window&quot;</span><span class="p">),</span>
</span><span id="__span-118-31"><a id="__codelineno-118-31" name="__codelineno-118-31" href="#__codelineno-118-31"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;unset&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;new&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;nonew&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-118-32"><a id="__codelineno-118-32" name="__codelineno-118-32" href="#__codelineno-118-32"></a><span class="p">)</span>
</span><span id="__span-118-33"><a id="__codelineno-118-33" name="__codelineno-118-33" href="#__codelineno-118-33"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-118-34"><a id="__codelineno-118-34" name="__codelineno-118-34" href="#__codelineno-118-34"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="s2">&quot;color_stack&quot;</span><span class="p">),</span>
</span><span id="__span-118-35"><a id="__codelineno-118-35" name="__codelineno-118-35" href="#__codelineno-118-35"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;set&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;push&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;pop&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;current&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-118-36"><a id="__codelineno-118-36" name="__codelineno-118-36" href="#__codelineno-118-36"></a><span class="p">)</span>
</span><span id="__span-118-37"><a id="__codelineno-118-37" name="__codelineno-118-37" href="#__codelineno-118-37"></a><span class="nb">assert</span><span class="p">.</span><span class="nf">same</span><span class="p">(</span>
</span><span id="__span-118-38"><a id="__codelineno-118-38" name="__codelineno-118-38" href="#__codelineno-118-38"></a><span class="w">  </span><span class="nv">node</span><span class="p">.</span><span class="nf">values</span><span class="p">(</span><span class="s2">&quot;pagestate&quot;</span><span class="p">),</span>
</span><span id="__span-118-39"><a id="__codelineno-118-39" name="__codelineno-118-39" href="#__codelineno-118-39"></a><span class="w">  </span><span class="p">{</span><span class="w"> </span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;empty&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;box_there&quot;</span><span class="p">,</span><span class="w"> </span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;inserts_only&quot;</span><span class="w"> </span><span class="p">}</span>
</span><span id="__span-118-40"><a id="__codelineno-118-40" name="__codelineno-118-40" href="#__codelineno-118-40"></a><span class="p">)</span>
</span></code></pre></div>
<p><strong>Reference:</strong></p>
<ul>
<li>Corresponding C source code: <a href="https://gitlab.lisn.upsaclay.fr/texlive/luatex/-/blob/f52b099f3e01d53dc03b315e1909245c3d5418d3/source/texk/web2c/luatexdir/lua/lnodelib.c#L3117-L3151">lnodelib.c#L3117-L3151</a></li>
</ul>
<h2 id="fields">fields</h2>
<hr />
<h3 id="nodedirect">node.direct</h3>
<hr />
<div class="language-lua highlight"><pre><span></span><code><span id="__span-119-1"><a id="__codelineno-119-1" name="__codelineno-119-1" href="#__codelineno-119-1"></a><span class="nv">node</span><span class="p">.</span><span class="py">direct</span><span class="p">:</span><span class="w"> </span><span class="py">table</span>
</span></code></pre></div>
<p>Deep down in TEX a node has a number which is a numeric entry in a memory table. In fact, this
model, where TEX manages memory is real fast and one of the reasons why plugging in callbacks
that operate on nodes is quite fast too. Each node gets a number that is in fact an index in the
memory table and that number often is reported when you print node related information. You
go from userdata nodes and there numeric references and back with:</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-120-1"><a id="__codelineno-120-1" name="__codelineno-120-1" href="#__codelineno-120-1"></a>&lt;integer&gt; d = node.todirect(&lt;node&gt; n)
</span><span id="__span-120-2"><a id="__codelineno-120-2" name="__codelineno-120-2" href="#__codelineno-120-2"></a>&lt;node&gt; n = node.tonode(&lt;integer&gt; d)
</span></code></pre></div>
<p>The userdata model is rather robust as it is a virtual interface with some additional checking
while the more direct access which uses the node numbers directly. However, even with userdata
you can get into troubles when you free nodes that are no longer allocated or mess up lists. if
you apply tostring to a node you see its internal (direct) number and id.</p>
<p>😱 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/blob/main/library/luatex/node.lua">Types</a> incomplete or incorrect? 🙏 <a href="https://github.com/Josef-Friedrich/LuaTeX_Lua-API/pulls">Please contribute!</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["quick-links", "navigation", "search", "toc", "fullscreen", "bookmarks", "tabs", "code", "edit-on-github", "language-selector", "code", "cover", "footer", "social-share", "theme-switcher"], "search": "../../assets/javascripts/workers/search.d50fe291.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.50899def.min.js"></script>
      
    
  </body>
</html>