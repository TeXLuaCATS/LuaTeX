\def\scan{
  \directlua{
    local t = token.get_next()

    print()
    print('Token:')

    for _, value in ipairs({'command', 'cmdname', 'csname', 'id', 'tok', 'active', 'expandable', 'protected', 'mode', 'index'}) do
      print(value, t[value])
    end
  }% <- to get no spacer
}

\scan a

\protected\def\foo{bar}
\scan \foo

\def\foo{bar}
\scan \foo

\scan \bigskip

\bye
