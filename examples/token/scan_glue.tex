\def\scan{\directlua{
  local node = token.scan_glue()
  print(node.width, node.stretch, node.stretch_order, node.shrink, node.shrink_order)
}}
\def\scanMu{\directlua{
  local node = token.scan_glue(true)
  print(node.width, node.stretch, node.stretch_order, node.shrink, node.shrink_order)
}}
\scan 1pt % 65536 0 0 0 0
\scan 1pt plus 2pt % 65536 131072 0 0 0
\scan 1pt minus 3pt % 65536 0 0 196608 0
\scan 1pt plus 2pt minus 3pt % 65536 131072 0 196608 0
\scan 1pt plus 2fi minus 3fi % 65536 131072 1 196608 1
\scan 1pt plus 2fil minus 3fil % 65536 131072 2 196608 2
\scan 1pt plus 2fill minus 3fill % 65536 131072 3 196608 3
\scan 1pt plus 2filll minus 3filll % 65536 131072 4 196608 4
\scan string % Missing number, treated as zero.
\scanMu 3mu % 196608 0 0 0 0

\bye
